webpackJsonp([19],{1019:function(f,c,a){var e=a(551),h=a(202);c=a(174);var n=a(441);a=c(function(a,c){return n(a)?e(a,h(c,1,n,!0)):[]});f.exports=a},1024:function(f,c,a){var e=(c=a(19))&&c.__esModule?c:{"default":c},h=a(1093),n=function(a,c){if(Array.isArray(a)&&a.length>c.length){var b=a[0]instanceof Object&&(0,e.default)(a[0]);if(b&&2===b.length&&b.includes("from")&&b.includes("to"))return c}};f.exports=function(){for(var a=arguments.length,c=Array(a),b=0;b<a;b++)c[b]=arguments[b];return h.apply(void 0,
[{}].concat(c,[n]))}},1026:function(f,c,a){var e=a(24),h=a(187);f.exports={load:function(a){Array.isArray(a)&&(a=a.join(","));return e.get("/api/rest/jobs/?id="+a)},loadExisting:function(){return e.get("/api/rest/jobs/?status="+(h.WAITING+","+h.PROCESSING))},loadChildren:function(a){return e.get("/api/rest/jobs/"+a+"/children")},"delete":function(a){return e.delete("/api/jobs/"+a)}}},1033:function(f,c,a){var e=a(553),h=a(573),n=a(206);c=Object.prototype;var d=Function.prototype.toString,m=c.hasOwnProperty,
b=d.call(Object),k=c.toString;f.exports=function(a){if(!n(a)||"[object Object]"!=k.call(a)||h(a))return!1;a=e(a);if(null===a)return!0;a=m.call(a,"constructor")&&a.constructor;return"function"==typeof a&&a instanceof a&&d.call(a)==b}},1037:function(f,c,a){var e=a(24),h=a(211),n=a(389),d=a(447);f.exports={load:function(){return e.get("/api/commerce/settings/payment")},approvePayPalBillingAgreement:function(a){return this.startAuthentication(a?h.PAYPAL_LIVE_BILLING:h.PAYPAL_SANDBOX_BILLING)},connect:function(a,
b){var d=null;a===n.STRIPE?d=h.STRIPE:a===n.PAYPAL&&(d=b?h.PAYPAL_LIVE_ONBOARDING:h.PAYPAL_SANDBOX_ONBOARDING);return this.startAuthentication(d)},startAuthentication:function(a){return d.authenticate({serviceProvider:a,urlParams:{authenticationType:"website",startSubscription:!0}})},disconnect:function(a){return e.delete("/api/commerce/settings/payment/"+a)},updateStoreCurrency:function(a){return e.put("/api/commerce/settings/payment/store-currency",a,{headers:{"content-type":"text/plain"}})},updateTestMode:function(a){return e.put("/api/commerce/settings/payment/testmode",
a,{headers:{"content-type":"text/plain"}})},updateStripeSettings:function(a){return e.put("/api/commerce/settings/payment/stripe",{applePayEnabled:a.isApplePayEnabled,testMode:a.isTestMode})}}},1048:function(f,c,a){function e(a){return a&&a.__esModule?a:{"default":a}}c=a(27);var h=e(c);c=a(18);var n=e(c);c=a(1);var d=e(c);c=a(2);var m=e(c);c=a(11);var b=a(59),k=a(1112),g=a(786),p=a(1394),q=a(2465),l=a(1153),v=a(130),C=function s(a,b,d){if(a[b]===d)return[a];for(var g=a.links||a.children||[],l=0;l<
g.length;l++){var c=s(g[l],b,d);if(c.length)return[a].concat(c)}return[]};a=function(){function a(){(0,d.default)(this,a);this.state={};this.bindListeners({onSiteLayoutReset:[b.bootstrap,k.loadTemplate],onSiteLayoutUpdate:p.refreshNavData,onCollectionUpdate:g.updateSuccess,onRemoveCollection:g.deleteSuccess});this.exportPublicMethods({getCollectionLink:this.getCollectionLink,getAllPageTitles:this.getAllPageTitles,getPathToCollection:this.getPathToCollection})}(0,m.default)(a,[{key:"onSiteLayoutReset",
value:function(a){a=a.siteLayout;if(!a)return!1;var b={};a.forEach(function(a){b[a.identifier]=a});this.setState(b)}},{key:"onSiteLayoutUpdate",value:function(a){var b=this,d,g=a.widgetName;a=a.navigationData.items.map(function(a){return b.formatItemData(g,a)});p.navChange.defer({navWidget:g,diff:q.diff(this.state[g].links,a)});this.setState((d={},d[g]=(0,n.default)({},this.state[g],{links:a}),d))}},{key:"onCollectionUpdate",value:function(a){var b,d=this.findNavItem(a.id).widgetName;d&&(a=this.replaceNavItem(a,
this.state[d].links.slice()),this.setState((b={},b[d]=(0,n.default)({},this.state[d],{links:a}),b)))}},{key:"replaceNavItem",value:function(a,b){var d=this;b.forEach(function(b){b.collectionId===a.id&&d.composeNavItem(b,a);b.children&&b.children.length&&(b.children=d.replaceNavItem(a,b.children.slice()))});return b}},{key:"formatItemData",value:function(a,b){var d=this;if(b.externalLink)return b;var g=l.getState().get(b.collectionId),g=g?g.toJS():this.findNavItem(b.collectionId).navItem;b.items&&
b.items.forEach(function(b){return d.formatItemData(a,b)});return this.composeNavItem(b,g)}},{key:"composeNavItem",value:function(a){var b=v(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},"collectionType enabled passwordProtected title typeName urlId".split(" "));a.items&&(a.children=a.items,delete a.items);return(0,n.default)(a,b)}},{key:"findNavItem",value:function(a){for(var b in this.state){var d=this.findNavItemInWidget(b,a);if(d)return{widgetName:b,navItem:d}}return{}}},{key:"findNavItemInWidget",
value:function(a,b){for(var d=this.state[a].links.slice();d.length;){var g=d.pop();if(g.collectionId===b)return g;g.children&&(d=d.concat(g.children))}}},{key:"onRemoveCollection",value:function(a){var b=(0,n.default)({},this.state),d;for(d in b){var g=this.filterChildren(this.state[d].links,a);b[d]=(0,n.default)({},this.state[d],{links:g})}this.setState(b)}},{key:"filterChildren",value:function(a,b){var d=this;a=a.slice();return a.filter(function(a){a.children&&a.children.length&&(a.children=d.filterChildren(a.children,
b));return a.collectionId!==b})}},{key:"getCollectionLink",value:function(a){a=this.getPathToCollection(a);return a[a.length-1]}},{key:"getPathToCollection",value:function(a){var b=this.getState(),d;for(d in b){var g=C(b[d],"collectionId",a);if(g.length)return g}return[]}},{key:"getAllPageTitles",value:function(){for(var a=this.getState(),b=[],a=(0,h.default)(a).reduce(function(a,b){return a.concat(b.links)},[]);a.length;){var d=a.pop();d&&(a=a.concat(d.children),b.push(d.urlId))}return b}}]);return a}();
f.exports=c.createStore(a,"SiteNavigationStore")},1049:function(f,c,a){function e(a){return a&&a.__esModule?a:{"default":a}}c=a(28);var h=e(c);c=a(1);var n=e(c);c=a(2);var d=e(c);c=a(37);var m=e(c);c=a(134);var b=e(c);c=a(36);var k=e(c);c=a(19);c=e(c);var g=a(46),p=g.Record,q=g.Set,l=g.Map,v=a(130),C=a(1051);a={allowSquarespacePromotion:!0,amazonAssociateTag:void 0,ampEnabled:!1,announcementBarSettings:l(),assetPurchasesByNonAdminsAllowed:!0,businessHours:l(),canAddAcuityBlock:!1,collectionTitleFormat:void 0,
commentAnonAllowed:void 0,commentApprovalRequired:void 0,commentAvatarsOn:void 0,commentDisableAfterDaysDefault:0,commentEnableByDefault:void 0,commentFlagsAllowed:void 0,commentFlagThreshold:0,commentLikesAllowed:void 0,commentsEnabled:!0,commentSortType:void 0,commentThreaded:void 0,configurationMenuItems:void 0,contactEmail:void 0,contactPhoneNumber:void 0,contentDescription:l(),country:void 0,defaultPostFormat:void 0,disqusShortname:"",goals:l(),hideTrialBanner:!1,homepageTitleFormat:void 0,hours:void 0,
id:void 0,interfaceType:void 0,isExtendTrialButtonVisible:void 0,itemTitleFormat:void 0,lastAgreedTermsOfService:void 0,markdownMode:void 0,mobileInfoBarSettings:l(),popupOverlaySettings:l(),notFoundPageId:null,ownerId:void 0,pinterestOverlayOptions:l(),seoHidden:void 0,simpleLikingEnabled:void 0,socialAccountDisplayOrder:void 0,ssBadgeDevices:void 0,ssBadgePosition:void 0,ssBadgeType:void 0,ssBadgeVisibility:void 0,state:void 0,storeSettings:void 0,subjects:void 0,tutorialsCompleted:q(),type:void 0,
useDeviceView:!0,useEscapeKeyToLogin:!0,websiteId:void 0};var w=(0,c.default)(a);f.exports=function(a){function l(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,n.default)(this,l);return(0,m.default)(this,(l.__proto__||(0,h.default)(l)).call(this,g.fromJS(C(a))))}(0,k.default)(l,a);(0,d.default)(l,[{key:"merge",value:function(a){a=a instanceof p?a:v(C(a),w);return(0,b.default)(l.prototype.__proto__||(0,h.default)(l.prototype),"merge",this).call(this,a)}},{key:"serializeToModel",
value:function(){var a=this.toJS(),b=a.tutorialsCompleted;null===a.notFoundPageId&&(a.notFoundPageId="system-default");b&&(a.tutorialsCompleted=b.reduce(function(a,b){a[b]=!0;return a},{}));return a}}]);return l}(p(a))},1050:function(f,c,a){var e=(c=a(1))&&c.__esModule?c:{"default":c},h=(c=a(2))&&c.__esModule?c:{"default":c};c=a(11);var n=a(131),d=a(59),m=a(360),b=a(1024),k=a(1049),g=a(706);a=function(){function a(){(0,e.default)(this,a);this.state=new k;this.bindActions(m);this.bindListeners({onStaticBootstrap:d.BOOTSTRAP,
onUpdateStoreCurrencySuccess:g.updateStoreCurrencySuccess});this.exportPublicMethods({getMergedWebsiteSettings:this.getMergedWebsiteSettings})}(0,h.default)(a,[{key:"onStaticBootstrap",value:function(a){this.setState(new k(a.websiteSettings))}},{key:"onUpdate",value:function(a){this.setState(this.state.merge(a))}},{key:"onSaveSuccess",value:function(a){this.onUpdate(this.state.merge(new k(a)))}},{key:"onLoadSuccess",value:function(a){this.onUpdate(this.state.merge(new k(a)))}},{key:"onUpdateStoreCurrencySuccess",
value:function(a){var b=this.state,d=b.get("storeSettings"),d=d.set("selectedCurrency",a);this.setState(b.set("storeSettings",d))}},{key:"getMergedWebsiteSettings",value:function(a){var d=this.getState();return b(d,a)}}]);return a}();f.exports=c.createStore(n(a,{getState:function(a){return a.toJS()}}),"WebsiteSettingsStore")},1051:function(f,c,a){var e=(c=a(19))&&c.__esModule?c:{"default":c},h=(c=a(18))&&c.__esModule?c:{"default":c},n=a(46).Set;f.exports=function(a){var c=a.notFoundPageId,b=a.tutorialsCompleted;
a=(0,h.default)({},a);b&&(a.tutorialsCompleted=n((0,e.default)(b)));"system-default"===c&&(a.notFoundPageId=null);return a}},1052:function(f,c,a){var e=a(251),h=a(24),n=a(795),d=a(2514);f.exports={generateUrl:function(a){if(a.id){var b=3>a.title.length?a.typeName+"-"+a.title:a.title,b=d(b);return h.post("/api/content-collections/"+a.id+"/generate-url",{title:a.title,urlId:b})}},create:function(a){a=n(a);a=e.stringify(a);return h.post("/api/commondata/SaveCollection",a,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})},
read:function(a){return h.get("/api/commondata/GetCollection",{params:{collectionId:a}})},readAll:function(){return h.get("/api/commondata/GetCollections")},"delete":function(a){return h.post("/api/commondata/RemoveCollection",e.stringify({collectionId:a}))},deleteUnusedPageCollectionPermanently:function(a){return h.post("/api/commondata/unused-start-page-collection",e.stringify({collectionId:a}))},clone:function(a){return h.post("/api/commondata/CopyCollection",e.stringify({collectionId:a}))}}},
1053:function(f,c,a){var e=a(24);f.exports={save:function(a,c){return e.put("/api/settings",a,{params:c})},load:function(){return e.get("/api/settings")}}},1058:function(f,c,a){var e=a(24);f.exports={getResult:function(a){return e.get("/auth/ExternalAuthenticationGetResult",{params:{uuid:a}})}}},1059:function(f,c,a){function e(a){return a&&a.__esModule?a:{"default":a}}c=a(18);var h=e(c);c=a(1);var n=e(c);a=a(2);var d=e(a);a=function(){function a(b,d){var g=d.interval,g=void 0===g?1E3:g,c=d.increment,
c=void 0===c?0:c,h=d.maxInterval,h=void 0===h?5E3:h,l=d.maxIterations,l=void 0===l?1E3:l;(0,n.default)(this,a);this.intervalFn=b;this.config={initialInterval:g,increment:c,maxInterval:h,maxIterations:l};this.iterationsCount=0;this.timestamp=Date.now();this.isRunning=!1}(0,d.default)(a,[{key:"reset",value:function(a){a&&(0,h.default)(this.config,a);this.iterationsCount=0;a=this.timestamp+this.interval-Date.now();this.isRunning&&a>this.config.initialInterval&&(this.cancel(),this.run())}},{key:"cancel",
value:function(){clearTimeout(this._timer);this._timer=null;this.isRunning=!1}},{key:"run",value:function(){var a=this;this.iterationsCount>=this.config.maxIterations?this.cancel():(this.isRunning=!0,this._timer||(this._timer=setTimeout(function(){a._timer=null;a.timestamp=Date.now();a.intervalFn();a.isRunning&&a.run()},this.interval),this.iterationsCount++))}},{key:"interval",get:function(){var a=this.config,d=a.initialInterval,g=a.increment,a=a.maxInterval,c=this.iterationsCount;return 0<g?Math.min(d+
c*g,a):d}}]);return a}();f.exports=a},1060:function(f,c,a){var e=(c=a(19))&&c.__esModule?c:{"default":c};f.exports=function(a){return(0,e.default)(a).reduce(function(c,d){c.append(d,a[d]);return c},new FormData)}},1063:function(f,c,a){var e=(c=a(19))&&c.__esModule?c:{"default":c},h=a(546).CancellationError,n=a(101),d=a(736),m=a(737),b=a(738),k=a(609),g=function(a,b,d){a=Error(a);a.config=b;d&&(a.code=d);return a};f.exports=function(a,c,l){var v=l.data,f=l.headers,w=l.cancel;if(w&&w.isCanceled())return c(new h("Request has been canceled."));
n.isFormData(v)&&delete f["Content-Type"];var s=new XMLHttpRequest;s.open(l.method.toUpperCase(),d(l.url,l.params,l.paramSerializer),!0);s.timeout=l.timeout;s.onreadystatechange=function(){if(s&&!(4!==s.readyState||0===s.status)){var d=m(s.getAllResponseHeaders()),d={data:k(s.responseText||s.response,d,l.transformResponse),status:1223===s.status?204:s.status,statusText:1223===s.status?"No Content":s.statusText,headers:d,config:l,request:s};b(a,c,d);s=null}};s.onerror=function(){c(g("Network Error",
l));s=null};s.ontimeout=function(){c(g("timeout of "+l.timeout+"ms exceeded",l,"ECONNABORTED"));s=null};(0,e.default)(f).forEach(function(a){"undefined"===typeof v&&"content-type"===a.toLowerCase()?delete f[a]:s.setRequestHeader(a,f[a])});l.progress&&s.upload.addEventListener("progress",l.progress);w.onCancel(function(){s.abort();c(new h("Request has been canceled."));s=null});s.send(v)}},1067:function(f,c){f.exports={WEBSITE_CLASSIC_TRIAL:"website-classic-trial",WEBSITE_CLASSIC_PERSONAL:"website-classic-personal",
WEBSITE_CLASSIC_PROFESSIONAL:"website-classic-professional",WEBSITE_CLASSIC_COMPED:"website-classic-comped",WEBSITE_LEGACY_COMPED:"website-legacy-comped",WEBSITE_LEGACY_PROFESSIONAL:"website-legacy-professional",WEBSITE_LEGACY_PERSONAL:"website-legacy-personal",WEBSITE_LEGACY_COMMERCE:"website-legacy-commerce",WEBSITE_COVER_PAGE:"website-starter",WEBSITE_COVER_PAGE_TRIAL:"website-starter-trial",WEBSITE_COMMERCE_TRIAL:"website-commerce-trial",WEBSITE_COMMERCE_BASIC:"website-commerce-basic",WEBSITE_COMMERCE_ADVANCED:"website-commerce-advanced",
PARKING_PAGE_REMOVED:"parking-page-removed",WEBSITE_V5_LINKED_LOW:"website-v5-linked-low",WEBSITE_V5_LINKED_HIGH:"website-v5-linked-high",WEBSITE_PARKING_PAGE:"website-parking-page"}},1081:function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(d,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(d,g.key,g)}}return function(c,b,k){b&&a(c.prototype,b);k&&a(c,k);return c}}(),
h=(f=a(696))&&f.__esModule?f:{"default":f},n=function(){};f=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.internalIsCanceled=!1;this.listeners=[]}e(a,[{key:"isCanceled",value:function(){return this.internalIsCanceled}},{key:"cancel",value:function(){this.internalIsCanceled||(this.internalIsCanceled=!0,this.listeners.forEach(function(a){return a()}),this.listeners=null)}},{key:"throwIfCanceled",value:function(){if(this.internalIsCanceled)throw new h.default("Operation has been canceled.");
}},{key:"onCancel",value:function(a){var b=this;if(this.internalIsCanceled)return n;this.listeners.push(a);return function(){if(b.listeners){var d=b.listeners.indexOf(a);-1!==d&&b.listeners.splice(d,1)}}}},{key:"fork",value:function(){if(this.internalIsCanceled)return a.CANCELED;var c=new a;this.onCancel(function(){return c.cancel()});return c}}]);return a}();c.default=f;f.CANCELED=new f;f.CANCELED.internalIsCanceled=!0},1091:function(f,c,a){var e=a(701),h=a(757),n=a(743),d=a(342),m=a(63),b=a(441),
k=a(538),g=a(72),p=a(1033),q=a(641),l=a(1095);f.exports=function(a,c,f,s,z,r,t){var F=a[f],x=c[f],B=t.get(x);if(B)e(a,f,B);else{c=r?r(F,x,f+"",a,c,t):void 0;if(B=void 0===c)c=x,m(x)||q(x)?m(F)?c=F:b(F)?c=n(F):(B=!1,c=h(x,!0)):p(x)||d(x)?d(F)?c=l(F):!g(F)||s&&k(F)?(B=!1,c=h(x,!0)):c=F:B=!1;B&&(t.set(x,c),z(c,x,s,r,t),t["delete"](x));e(a,f,c)}}},1092:function(f,c,a){var e=a(1032);c=a(957);a=a(574);a=!(e&&1/a(new e([,-0]))[1]==1/0)?c:function(a){return new e(a)};f.exports=a},1093:function(f,c,a){var e=
a(949);c=a(952)(function(a,c,d,m){e(a,c,d,m)});f.exports=c},1095:function(f,c,a){var e=a(951),h=a(176);f.exports=function(a){return e(a,h(a))}},1112:function(f,c,a){var e=(c=a(1))&&c.__esModule?c:{"default":c},h=(c=a(2))&&c.__esModule?c:{"default":c};c=a(11);var n=a(2509);a=function(){function a(){(0,e.default)(this,a)}(0,h.default)(a,[{key:"loadTemplate",value:function(a){return function(b){n.getTemplate(a).then(function(a){b(a.data)},function(a){b({error:!0,response:a})})}}}]);return a}();f.exports=
c.createActions(a)},1153:function(f,c,a){function e(a){return a&&a.__esModule?a:{"default":a}}c=a(25);var h=e(c);c=a(1);var n=e(c);c=a(2);var d=e(c);c=a(46);var m=c.Map,b=c.fromJS;c=a(11);var k=a(786);a=a(131);var g=function(){function a(){(0,n.default)(this,a);this.state=m();this.bindListeners({onInsert:[k.insert,k.updateSuccess],onInsertMany:k.insertMany,onDelete:[k.delete,k.deleteUnusedCollectionPermanently]});this.exportPublicMethods({fetch:this.fetch,fetchFromServer:this.fetchFromServer})}(0,
d.default)(a,[{key:"onInsert",value:function(a){this.setState(this.state.set(a.id,b(a)))}},{key:"onInsertMany",value:function(a){var d=this.state;a.forEach(function(a){return d=d.set(a.id,b(a))});this.setState(d)}},{key:"onDelete",value:function(a){this.setState(this.state.delete(a))}},{key:"fetch",value:function(a){var b=this.getState().get(a);return b?h.default.resolve(b):this.fetchFromServer(a)}},{key:"fetchFromServer",value:function(a){var b=this;return k.read(a).then(function(){return b.getState().get(a)})}}]);
return a}();f.exports=c.createStore(a(g),"ContentCollectionStore")},130:function(f,c,a){var e=a(149),h=a(202),n=a(454);c=a(174);var d=a(205);a=c(function(a,b){return null==a?{}:n(a,e(h(b,1),d))});f.exports=a},1301:function(f,c,a){var e=a(385),h=a(195);YUI.add("squarespace-util-authenticated",function(a){a.namespace("Squarespace");a.Squarespace.UtilAuthenticated={userHasAccessPermission:function(a){return e.hasPermission(a)},isSquarespaceAdmin:function(){return e.isAdmin()},isBetaFeatureEnabled:function(a){return h.isFeatureEnabled(a)}}},
"1.0",{requires:["squarespace-util"]})},131:function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});var e=a(46),h=e&&e.__esModule?e:{"default":e},n=a(380);c["default"]=function(a,c){a.config=(0,n.assign)({setState:function(a,d){return this.state=d},getState:function(a){return a},onSerialize:function(a){return a.toJS()},onDeserialize:function(a){return h["default"].fromJS(a)}},c);return a};f.exports=c["default"]},134:function(f,c,a){c.__esModule=!0;var e=(f=a(28))&&f.__esModule?f:{"default":f},
h=(a=a(624))&&a.__esModule?a:{"default":a};c.default=function d(a,b,c){null===a&&(a=Function.prototype);var g=(0,h.default)(a,b);if(void 0===g)return a=(0,e.default)(a),null===a?void 0:d(a,b,c);if("value"in g)return g.value;b=g.get;return void 0===b?void 0:b.call(c)}},1394:function(f,c,a){var e=(c=a(1))&&c.__esModule?c:{"default":c};a=a(11);f.exports=a.createActions(function n(){(0,e.default)(this,n);this.generateActions("refreshNavData","navChange")})},1395:function(f,c,a){c=(c=a(390))&&c.__esModule?
c:{"default":c};f.exports=(0,c.default)({TRIAL_UPGRADE_PLAN:"trial-upgrade",UPGRADE_PLAN:"upgrade"})},140:function(f,c,a){c=a(1050);f.exports=c},149:function(f,c){f.exports=function(a,c){for(var h=-1,n=a?a.length:0,d=Array(n);++h<n;)d[h]=c(a[h],h,a);return d}},1570:function(f,c,a){var e=a(2031),h=a(2033),n=a(98),d=a(63),m=a(203);f.exports=function(a,c,g){var p=d(a)?e:h;g&&m(a,c,g)&&(c=void 0);return p(a,n(c,3))}},1583:function(f,c,a){var e=a(281),h=a(566),n=a(711),d=a(330),m=a(70),b=a(338);YUI.add("squarespace-content-collection-utils",
function(a){a.namespace("Squarespace").ContentCollectionUtils={groupCollectionsByTypeName:function(b){for(var d={},c=0;c<b.length;c++){var l=b[c];if(!l.get("isDemoCollection")){l=l.get("typeName");if(!d[l]){var h=e.getState().collectionConfigs[l];d[l]={title:h?h.title:"Unknown",collections:[]}}d[l].collections.push(b[c])}}return a.Object.values(d)},getIconClassNames:function(a){var b=a.getTemplateConfiguration(),d="";b&&b.get("supported")&&(d=b.get("icon"));""===d&&(b&&b.get("collectionType")===m.TEMPLATE_PAGE)&&
(d="template-page");""===d&&(d=a.get("typeName"));return d},filterCollections:function(b,d){var c=["collectionType","ordering","folder","index"];return a.Squarespace.ContentCollectionCache.filter(function(l){if(a.Lang.isArray(d)&&-1!==d.indexOf(l.get("id"))||l.get("isDemoCollection")&&l.get("type")!==m.TEMPLATE_PAGE)return!1;var h=!0,e=l.getTemplateConfiguration(),n;for(n in b)if(h=b[n],a.Lang.isArray(h)||(h=[h]),h=a.Array.some(h,function(b,d){var g;g=n;g=-1!==c.indexOf(g)?a.Lang.isValue(e)&&e.get(g)===
b:l.get(g)===b;return g}),!h)break;return h})},getCollectionFilter:function(a,b){return a===m.PRODUCTS?{collectionType:a}:{collectionType:a,ordering:b}},isTemplatePage:function(a){return a.get("type")===m.TEMPLATE_PAGE},isIndex:function(a){return(a=a.getTemplateConfiguration())&&a.get("folderBehavior")===b.INDEX?!0:!1},isFolder:function(a){return(a=a.getTemplateConfiguration())&&a.get("folder")},isVanillaFolder:function(a){return this.isFolder(a)&&!this.isIndex(a)&&!this.isVariation(a)},isVariation:function(a){return(a=
a.getTemplateConfiguration())&&a.get("variation")},isAdjustablePageSizeCollection:function(b){var d=e.getCollectionConfig(b.get("typeName")),d=d&&d.forcePageSize,c=b.get("type")===m.COLLECTION_TYPE_GENERIC,l=this._getCollectionOrdering(b)===a.Squarespace.CollectionOrdering.CHRONOLOGICAL;return!d&&!this.isIndex(b)&&!this.isFolder(b)&&c&&l},isBlog:function(b){return!this.isGenericOrProduct(b)||this.isFolder(b)||this.isIndex(b)?!1:this._getCollectionOrdering(b)==a.Squarespace.CollectionOrdering.CHRONOLOGICAL?
!0:!1},isGallery:function(b){return!this.isGeneric(b)||this.isFolder(b)||this.isIndex(b)?!1:this._getCollectionOrdering(b)===a.Squarespace.CollectionOrdering.USER},_getCollectionOrdering:function(a){return a.get("ordering")||a.getTemplateConfiguration().get("ordering")},isSupportedByBookmarklet:function(b){return!this.isIndex(b)&&!this.isFolder(b)&&b.get("type")===m.COLLECTION_TYPE_GENERIC&&this._getCollectionOrdering(b)===a.Squarespace.CollectionOrdering.CHRONOLOGICAL},hasSupportForInjectableCodePerItem:function(b){return!this.isIndex(b)&&
!this.isFolder(b)&&b.get("type")===m.COLLECTION_TYPE_GENERIC&&this._getCollectionOrdering(b)===a.Squarespace.CollectionOrdering.CHRONOLOGICAL},hasSupportForSyndication:function(b){return!this.isIndex(b)&&!this.isFolder(b)&&b.get("type")===m.COLLECTION_TYPE_GENERIC&&this._getCollectionOrdering(b)===a.Squarespace.CollectionOrdering.CHRONOLOGICAL},isDemoCollectionId:function(b){var d=e.getState().demoCollections;return!d?!1:!!a.Array.find(d,function(a){return a.collectionId==b})},isGeneric:function(a){a=
a.getTemplateConfiguration();return!a?!1:a.get("collectionType")===m.COLLECTION_TYPE_GENERIC},isGenericOrProduct:function(a){a=a.getTemplateConfiguration();return!a?!1:!1===a.get("folder")&&(a.get("collectionType")===m.PRODUCTS||a.get("collectionType")===m.COLLECTION_TYPE_GENERIC)},isProduct:function(a){var b=a.getTemplateConfiguration();return!b||a.get("isDemoCollection")?!1:!1===b.get("folder")&&b.get("collectionType")===m.PRODUCTS},isPage:function(a){a=a.getTemplateConfiguration();return!a?!1:
!1===a.get("folder")&&a.get("collectionType")===m.COLLECTION_TYPE_PAGE},isNotCalendar:function(b){return b.getTemplateConfiguration().get("ordering")===a.Squarespace.CollectionOrdering.CALENDAR?!1:!0},usesDisplayIndex:function(b){return[a.Squarespace.CollectionOrdering.MUSIC_ALBUM,a.Squarespace.CollectionOrdering.USER].includes(b)},getIdentifierForCollection:function(b){if(!a.Lang.isValue(b))return null;var d=b.get("typeName");!d&&b.get("type")===m.COLLECTION_TYPE_PAGE&&(b.set("typeName","page"),
d="page");var c=b.get("type");if(c===m.COLLECTION_TYPE_GENERIC){var l=b.get("ordering");a.Lang.isValue(l)||(l=e.getCollectionConfig(d),d=e.getPageConfig(d),l=(l||d).ordering);if(a.Squarespace.ContentCollectionUtils.isIndex(b))return"INDEX";if(l===a.Squarespace.CollectionOrdering.USER)return"GALLERY";if(l===a.Squarespace.CollectionOrdering.CHRONOLOGICAL)return"BLOG";if(l===a.Squarespace.CollectionOrdering.CALENDAR)return"CALENDAR";if(l===a.Squarespace.CollectionOrdering.MUSIC_ALBUM)return"MUSIC_ALBUM";
if(l===a.Squarespace.CollectionOrdering.KNOWLEDGE_BASE)return"KNOWLEDGE_BASE"}if(c===m.COLLECTION_TYPE_PAGE)return"PAGE";if(c===m.PRODUCTS)return"PRODUCT";if(c===m.TEMPLATE_PAGE)return"TEMPLATE_PAGE"},alreadyHasTooManyPagesEnabled:function(){return a.Squarespace.ContentCollectionCache.filter(function(a){return!a.get("isDemoCollection")&&!a.get("folder")&&a.get("enabled")}).length>h.getLimit(d.ADD_PAGES)?!0:!1},isHomepage:function(a){return n.getHomepageCollectionId()===a},containsHomepage:function(b){b=
a.Squarespace.Singletons.TemplateNavigationList.getItemByCollectionId(b).get("children");return b.isEmpty()?!1:!!b.toJSON().filter(function(b){return a.Squarespace.ContentCollectionUtils.isHomepage(b.collectionId)||a.Squarespace.ContentCollectionUtils.containsHomepage(b.collectionId)}).length}}},"1.0",{requires:["squarespace-models-content-collection"]})},1597:function(f,c,a){var e=a(4);YUI.add("squarespace-mixins-event-list",function(a){a.namespace("Squarespace.Mixins");a.Squarespace.Mixins.EventList=
a.Base.create("EventList",a.Base,[],{initializer:function(){a.Do.before(function(c){var d=a.Object.hasKey(c,"upcoming"),m=a.Object.hasKey(c,"past");if(d&&m)return new a.Do.AlterArgs(e("Parsing calendar-specific response"),[[].concat(c.upcoming).concat(c.past)])},this,"parse",this)},getPastEvents:function(){var c=new Date;return this.filter(function(d){d=d.get("structuredContent");if(null===d)return!1;d=a.DataType.Date.parse(d.get("endDate"));return a.DataType.Date.isGreater(c,d)})},getUpcomingEvents:function(){var c=
new Date;return this.filter(function(d){d=d.get("structuredContent");if(null===d)return!1;d=a.DataType.Date.parse(d.get("endDate"));return!a.DataType.Date.isGreater(c,d)})}})},"1.0",{requires:["base","datatype-date","event-custom","json"]})},1598:function(f,c){YUI.add("squarespace-models-audio",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Audio=a.Base.create("Audio",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Audio",validator:function(a){return"Audio"===
a},readOnly:!0},embed:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},audioAssetUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},artistName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},lengthInMilliSeconds:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},bitRate:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},sampleRate:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber}}})},"1.0",{requires:["base",
"squarespace-attr-validators","squarespace-models-structured-content"]})},1599:function(f,c){YUI.add("squarespace-models-calendar-event",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.CalendarEvent=a.Base.create("CalendarEvent",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"CalendarEvent",validator:function(a){return"CalendarEvent"===a},readOnly:!0},startDate:{valueFn:function(){var a=new Date,c=a.getMinutes();a.setSeconds(0);a.setMilliseconds(0);30<=c?(a.addHours(1),
a.setMinutes(0)):a.setMinutes(30);return a.getTime()},validator:a.Squarespace.AttrValidators.isNumber},endDate:{valueFn:function(){var a=new Date(this.get("startDate"));a.addHours(1);return a.getTime()},validator:a.Squarespace.AttrValidators.isNumber}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1600:function(f,c){YUI.add("squarespace-models-check-in",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.CheckIn=a.Base.create("CheckIn",
a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"CheckIn",validator:function(a){return"CheckIn"===a},readOnly:!0},checkinId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},venueId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},timeZone:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},venueName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},address:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},
crossStreet:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},city:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},state:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},country:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},postalCode:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},categoryId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},categoryPluralName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},
categoryShortName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},categoryIcon:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1601:function(f,c,a){var e=a(70),h=a(338);YUI.add("squarespace-models-collection-configuration",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.CollectionConfiguration=a.Base.create("CollectionConfiguration",a.Model,
[],{initializer:function(d){a.Lang.isBoolean(d.variation)&&d.variation?this.set("folderBehavior",h.VARIATION):a.Lang.isBoolean(d.index)&&d.index?this.set("folderBehavior",h.INDEX):a.Lang.isBoolean(d.folder)&&d.folder&&this.set("folderBehavior",h.NONE)}},{ATTRS:{collectionType:{value:e.COLLECTION_TYPE_GENERIC},folder:{value:!1},folderBehavior:{},supported:{value:!0}}})},"1.0",{requires:["base","model"]})},1602:function(f,c,a){var e=a(711),h=a(931),n=a(281),d=a(786),m=a(1153),b=a(70),k=a(379),g=a(646),
p=a(273),q=a(24),l=a(251),v=a(214);YUI.add("squarespace-models-content-collection",function(a){a.namespace("Squarespace.Models");var c=a.Squarespace.Models.ContentCollection=a.Base.create("Collection",a.Model,[],{initializer:function(b){this.items=b?new a.Squarespace.Models.ContentItemList({items:b.items||[],parent:this,limit:this.get("itemLimit")}):new a.Squarespace.Models.ContentItemList({parent:this,limit:this.get("itemLimit")});this._itemsEventHandle=this.items.after(["load","add","remove"],this._updateItemCount,
this);this._syncFolderChange(this.get("folder"));this.after("folderChange",function(a){this._syncFolderChange(a.newVal)});this._initialAttrs=this.getAttrs();this.unlistenToModelStore=m.listen(this._handleStoreChange.bind(this))},destructor:function(){this.unlistenToModelStore&&(this.unlistenToModelStore(),this.unlistenToModelStore=null);this._itemsEventHandle.detach();this._itemsEventHandle=null;this.items.destroy();this.items=null},toDebugString:function(){return a.JSON.stringify(this.getAttrs(["navigationTitle",
"urlId","id"]))},toJSON:function(){var a=this.constructor.superclass.toJSON.call(this);a.items=this.items.toJSON();return a},parse:function(a){a=c.superclass.parse.apply(this,arguments);a.passwordProtected&&(a.password=k.PASSWORD_MASK);return a},sync:function(a,b,d){switch(a){case "create":this._ensureDemoCloneAndSave(d);break;case "delete":b.isUnusedStarterPage?this._deleteUnusedCollectionPermanently(d):this._delete(d);break;case "read":this._read(b,d);break;case "update":this._ensureDemoCloneAndSave(d)}},
load:function(b,d,c){"function"===typeof b&&(c=d,d=b,b={});if(this._readInProgress)this.onceAfter("load",d,c);else a.Model.prototype.load.call(this,b,d?a.bind(d,c||this):null)},resetToLastRead:function(){return m.fetch(this.get("id")).then(function(b){var d=this.getAttrs();a.Object.keys(d).map(function(a){d[a]=void 0});b=a.merge(d,this._initialAttrs,this.parse(b.toJS()));this.setAttrs(b);this.set("dirty",!1)}.bind(this)).catch(this._errorHandler)},ensureProcessedItems:function(){var b=function(d){this.items.load({fields:["mediaProcessingState"]},
function(){this.items.some(function(a){return a.get("mediaProcessingState")!==g.READY})?a.later(500,this,b,d):d()}.bind(this))}.bind(this);return new a.Promise(function(a){b(a)}.bind(this))},_syncFolderChange:function(a){a&&this.set("dropdown",!0)},_ensureDemoCloneAndSave:function(b){if(this._shouldCloneCollection()){var d=this.toJSON();delete d.id;this.cloneToNewCollection({silent:!0}).then(a.bind(this._save,this,b,d))}else this._save(b)},_handleStoreChange:function(b){if(a.Env){if(b=b.get(this.getId()))this.setAttrs(this.parse(b.toJS())),
this.set("dirty",!1)}else this.unlistenToModelStore&&(this.unlistenToModelStore(),this.unlistenToModelStore=null)},serialize:function(b){b=a.merge(b,this.toJSON());b.collectionId=b.id;delete b.dirty;delete b.body;delete b.tags;delete b.categories;delete b.items;a.Lang.isValue(b.mainImage)&&(b.mainImageId=a.instanceOf(b.mainImage,a.Squarespace.Models.ContentItem)?b.mainImage.get("id"):b.mainImage.id);delete b.mainImage;b.metadata&&b.metadata.albumCover&&delete b.metadata.albumCover;b.productQuickViewEnabled&&
(b.features.productQuickView.isEnabled=b.productQuickViewEnabled,delete b.productQuickViewEnabled);b.relatedItemsEnabled&&(b.features.relatedItems.isEnabled=b.relatedItemsEnabled,delete b.relatedItemsEnabled);return b},_errorHandler:function(a){v.trackCaughtError("damask","ContentCollection._errorHandler ["+this.name+"] "+a.message,a.stack);console.error(a)},_save:function(a,b){b=this.serialize(b);d.update(b).then(function(b){b.error?a(b,null):(this._initialAttrs=b,a(null,b))}).catch(this._errorHandler)},
_delete:function(a){d.delete(this.get("id")).then(function(b){a(null,b)},function(b){a(b,null)}).catch(this._errorHandler)},_deleteUnusedCollectionPermanently:function(a){d.deleteUnusedCollectionPermanently(this.get("id")).then(function(b){a(null,b)},function(b){a(b,null)}).catch(this._errorHandler)},_read:function(b,d){this._readInProgress=!0;var c="fetch";b.forceReload&&(c="fetchFromServer");var l=Error().stack;m[c](this.get("id")).then(function(b){var c=this.parse(b.toJS());a.Squarespace.ContentCollectionUtils.usesDisplayIndex(c.ordering)?
this._fetchItemCount(c.id).then(function(a){this._readInProgress=!1;c.itemCount=a;d(null,c)}.bind(this)):(this._readInProgress=!1,d(null,c))}.bind(this),function(a){this._readInProgress=!1;d(a,null);a=b?"Options: "+JSON.stringify(b):"";v.trackCaughtError("damask","ContentCollection._read ["+this.name+"] Error retrieving content from store: \n"+a,l)}.bind(this)).catch(this._errorHandler)},_updateItemCount:function(){a.Squarespace.ContentCollectionUtils.usesDisplayIndex(this.get("ordering"))&&(this.isNew()?
this.set("itemCount",0):this._fetchItemCount(this.get("id")).then(function(a){this.set("itemCount",a)}.bind(this)).catch(this._errorHandler))},_fetchItemCount:function(b){return new a.Promise(function(d,c){a.Data.get({url:"/api/content-collections/"+b+"/item-count",success:function(a){d(a)},failure:c},this)})},getTemplateConfiguration:function(){var d;d=this.get("typeName");var c=this.get("type");return(d=c===b.TEMPLATE_PAGE?n.getPageConfig(d):n.getCollectionConfig(d))?new a.Squarespace.Models.CollectionConfiguration(d):
new a.Squarespace.Models.CollectionConfiguration({collectionType:c||b.COLLECTION_TYPE_GENERIC,ordering:this.get("ordering"),folder:this.get("folder"),supported:!1})},cloneToNewCollection:function(b){return new a.Promise(a.bind(function(d,c){var l=a.Squarespace.Singletons.TemplateNavigationList.getItemByCollectionId(this.get("id"));this._cloneExampleContent(b).then(a.bind(function(a){l.set("collectionId",a);l.save(d)},this))},this))},_cloneExampleContent:function(b){b=b||{};var d=new a.Promise(a.bind(function(b,
d){var c=this.get("id");q.post("/api/commondata/CopyCollection",l.stringify({collectionId:this.get("id")})).then(function(l){l=l.data;this.setAttrs(a.merge({mainImageId:null,mainImage:null},l));var g=l.id;e.getHomepageCollectionId()===c?h.setHomepageCollectionId(g).then(function(a){a.error?d():b(g)}):b(g)}.bind(this))},this));d.then(a.bind(function(){this.fire("clonedExampleContent",{silent:!!b.silent})},this));return d},_shouldCloneCollection:function(){return this.get("isDemoCollection")&&this.get("type")===
b.COLLECTION_TYPE_PAGE},deleteTrashItems:function(b){a.Data.del({url:"/api/recycle-bin/collection/"+this.get("id")+"/items",success:function(a){b(a,null)},failure:function(a){b(null,a)}})},getId:function(){return this.get("id")},_set:function(a,b,d){return this.constructor.superclass._set.call(this,a,b,d)}},{ATTRS:{dirty:{value:!1},body:{value:null},navigationTitle:{validator:a.Lang.isString},description:{value:{html:"",source:""}},websiteId:{},id:{value:null},enabled:{value:!0,validator:a.Lang.isBoolean},
deleted:{value:!1,validator:a.Lang.isBoolean},homepage:{validator:a.Lang.isBoolean},starred:{validator:a.Lang.isBoolean},synchronizing:{validator:a.Lang.isBoolean},updatedOn:{},folder:{value:!1},isDemoCollection:{getter:function(){return a.Squarespace.ContentCollectionUtils.isDemoCollectionId(this.get("id"))}},itemCount:{validator:a.Lang.isNumber},isEmpty:{getter:function(){return 0===this.items.size()}},tags:{value:[],validator:a.Lang.isArray},categories:{value:[],validator:a.Lang.isArray},pageSize:{validator:a.Lang.isNumber,
valueFn:function(){if(this.getTemplateConfiguration().get("ordering")===p.CHRONOLOGICAL)return 20}},itemLimit:{value:20,validator:a.Squarespace.AttrValidators.isNumber},ordering:{validator:function(b){return a.Object.values(p).includes(b)}},type:{validator:function(d){return a.Object.values(b).includes(d)}},typeName:{validator:a.Lang.isString},video:{validator:a.Lang.isObject},fullUrl:{validator:a.Lang.isString},nextDisplayIndex:{getter:function(){return this.get("itemCount")}},regionName:{value:"default",
validator:function(b){return!a.Lang.isString(b)||0===b.length?!1:a.Object.keys(n.getState().layouts).includes(b)}},title:{validator:a.Lang.isString},urlId:{validator:a.Squarespace.AttrValidators.isNullOrString},seoDescription:{validator:a.Lang.isString},seoHidden:{value:!1,validator:a.Lang.isBoolean}}});a.Squarespace.Models.ContentCollectionList=a.Base.create("Collections",a.ModelList,[],{model:a.Squarespace.Models.ContentCollection,sync:function(a,b,c){"read"==a&&d.readAll().then(function(a){c(null,
a)},function(a){c(a,null)}).catch(this._errorHandler)},getCollectionById:function(b,d,c){var l=this.getById(b);l?d.call(c,l):(l=new a.Squarespace.Models.ContentCollection({id:b}),l.load({},function(){this.add(l);d.call(c,l)},this))},getCollectionFromData:function(b,d){if(!b)return null;if(!b.id)throw Error("getCollectionFromData needs at least an ID in the data to work.");var c=this.getById(b.id);c?d||c.setAttrs(b):c=this.add(new a.Squarespace.Models.ContentCollection(b));return c}});a.Squarespace.Utils.isInDamaskFrame()?
a.Squarespace.ContentCollectionCache=a.config.win.top.Y.Squarespace.ContentCollectionCache:a.Squarespace.ContentCollectionCache=new a.Squarespace.Models.ContentCollectionList},"2.0",{requires:"base model model-list promise squarespace-content-collection-utils squarespace-models-collection-configuration squarespace-models-content-item squarespace-models-content-item-list squarespace-util squarespace-util-authenticated".split(" ")})},1603:function(f,c,a){var e=a(676);YUI.add("squarespace-models-content-item-list",
function(a){a.namespace("Squarespace.Models");var c=a.Squarespace.Models.ContentItemList=a.Base.create("ContentItemList",a.ModelList,[a.Squarespace.Mixins.EventList],{initializer:function(d){this.model=a.Squarespace.Models.ContentItem;d=d||{};(d=d.items)&&this.reset(d)},sync:function(a,c,b){switch(a){case "create":console.error("Squarespace.Models.ContentItemList: Create not implemented.");break;case "delete":console.error("Squarespace.Models.ContentItemList: Create not implemented.");break;case "read":this._read(c,
b);break;case "update":console.error("Squarespace.Models.ContentItemList: Create not implemented.")}},load:function(a,m){if(this.get("isChildItemList"))throw Error("Squarespace.Models.ContentItemList: Child items are loaded with their parent item. Loading them manually is not supported");c.superclass.load.call(this,a,m)},removeItems:function(d,c){this.remove(d,{source:"bulk-remove"});var b=a.Array.map(d,function(a){var b=a.get("id");a.destroy();return b},this);a.Data.post({url:"/api/commondata/RemoveItems",
data:{items:b},success:function(b){this.get("parent").load();a.Lang.isFunction(c)&&c(null,b);this.fire("bulk-remove",d)},failure:function(b){a.Lang.isFunction(c)&&c(b,null)}},this)},moveItems:function(d,c,b){if(this.get("isChildItemList"))throw Error("Squarespace.Models.ContentItemList: Moving child items is not currently supported.");var k=a.Array.map(d,function(a){return null!==this.getById(a.get("id"))?this.remove(this.getById(a.get("id"))):a},this),g=c.get("id"),p=c.items;p.load(a.bind(function(){p.add(k)},
this));var e=a.Array.map(k,function(a){a.set("collectionId",g);a.get("items").each(function(a){a.set("collectionId",g)});return a.get("id")},this);a.Data.post({url:"/api/commondata/MoveItems",data:{toCollectionId:g,items:e},success:function(l){this.get("parent").load();a.Lang.isFunction(b)&&b(null,l);this.fire("move-items",d,c)},failure:function(d){a.Lang.isFunction(b)&&b(d,null)}},this)},reorderItems:function(d,c,b){var k=this.get("parent"),g={};this.get("isChildItemList")?(g.collectionId=k.get("collectionId"),
g.parentId=k.get("id")):g.collectionId=k.get("id");var p=1===d.length,e;p?(d=d[0],e=this.indexOf(this.getById(d.get("id"))),this._reorder([d],c),0!==c&&(g.afterId=this.item(c-1).get("id")),g.itemId=d.get("id")):(this._reorder(d,c),0!==c&&(g.afterId=this.item(c-1).get("id")),d=a.Array.map(d,function(a){return a.get("id")},this),g.itemIds=a.JSON.stringify(d));var l=a.bind(function(d){a.Data.post({url:"/api/commondata/ReorderItems",data:d,success:function(d){p&&(0===e||0===c)&&k.load();a.Lang.isUndefined(d.items)||
a.Array.each(d.items,function(a,b){var d=this.getById(a.id);d&&d.set("displayIndex",a.displayIndex)},this);this.fire("reordered");a.Lang.isFunction(b)&&b(null,d);0<this._reorderQueue.size()&&l(thie._reorderQueue.next())},failure:function(d){a.Lang.isFunction(b)&&b(d,null)}},this)},this);this._reorderQueue||(this._reorderQueue=new a.Queue);this._reorderQueue.add(g);l(this._reorderQueue.next())},_reorder:function(a,c){var b=a.map(function(a){return this.getById(a.get("id"))},this);this.remove(b,{onReorder:!0,
source:"reorder"});this.add(b,{onReorder:!0,source:"reorder",index:c})},_read:function(d,c){a.Data.get({url:this._getReadUrl(),data:a.merge({limit:this.get("limit")},d),success:function(a){this.set("pagination",{hasNextPage:a.hasNextPage,hasPreviousPage:a.hasPreviousPage,nextPageStart:a.nextPageStart,previousPageStart:a.previousPageStart});c(null,a.results)},failure:function(a){c(a,null)}},this)},_getReadUrl:function(){var d=this.get("parent"),c=e.getTemplateForCollectionItems(d.get("ordering"),d.get("type"));
return a.Lang.sub(c,{collectionId:d.get("id")})}},{ATTRS:{parent:{value:null,validator:function(d){return d instanceof a.Squarespace.Models.ContentCollection||d instanceof a.Squarespace.Models.ContentItem}},isChildItemList:{getter:function(){return this.get("parent")instanceof a.Squarespace.Models.ContentItem}},pagination:{value:null},limit:{value:20,validator:a.Squarespace.AttrValidators.isNumber}}})},"1.0",{requires:"base json model-list squarespace-content-collection-utils squarespace-mixins-event-list squarespace-models-content-collection squarespace-models-content-item squarespace-util".split(" ")})},
1604:function(f,c,a){var e=a(772),h=a(646),n=a(91),d=a(694),m=a(541),b=a(556),k=a(140),g=a(676);YUI.add("squarespace-models-content-item",function(a){a.namespace("Squarespace.Models");var c=a.Squarespace.Models.ContentItem=a.Base.create("Item",a.Model,[],{sync:function(a,b,d){switch(a){case "delete":this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(this._delete.bind(this,d));break;case "read":this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(this._read.bind(this,
b,d));break;case "update":this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(this._save.bind(this,d));break;case "create":this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(this._create.bind(this,b,d))}},_errorHandler:function(a){console.error(a.stack)},_save:function(a,b){var d=this.serialize();d.id||this._create(a);d.collectionId?m.updateForCollection(d,b).then(function(b){a(null,b)},function(b){a(b,null)}).catch(this._errorHandler):m.update(d).then(function(b){a(null,
b)},function(b){a(b,null)}).catch(this._errorHandler)},_create:function(a,b,d){var c=this.serialize();c.collectionId?m.createForCollection(c,a,d).then(function(a){b(null,a)},function(a){b(a,null)}).catch(this._errorHandler):m.create(c,a).then(function(a){b(null,a)},function(a){b(a,null)}).catch(this._errorHandler)},_delete:function(a,b){m.delete(this.get("id"),b).then(function(b){a(null,b)},function(b){a(b,null)}).catch(this._errorHandler)},_read:function(a,d,c){if(this.get("isGlobalFakeContentItem"))this._readGlobalFakeContentItem(this.get("id"),
a,d);else{this._readInProgress=!0;var g="fetch";a.forceReload&&(g="fetchFromServer");b[g](this.get("id"),!1,c).then(function(a){this._readInProgress=!1;(a=a.toJS?a.toJS():a)&&a.recordType&&this.set("recordType",a.recordType);d(null,a)}.bind(this),function(a){this._readInProgress=!1;d(a,null)}.bind(this)).catch(this._errorHandler)}},_readGlobalFakeContentItem:function(b,d,c){a.Data.get({url:"/api/rest/global-content-items/"+b,success:function(a){c(null,a)},failure:function(a){c(a,null)}},this)},_getUrlDeterminants:function(a){var b=
{recordType:this.get("recordType")};a&&(b.collectionOrdering=a.get("ordering"),b.collectionType=a.get("type"),b.collectionId=a.get("id"),b.parentId=this.get("parentId"));return b},resetToLastRead:function(a,d){return b.fetch(this.get("id")).then(function(b){this.setAttrs(b.toJS());a()}.bind(this)).catch(function(a){d();this._errorHandler(a)}.bind(this))},initializer:function(a){this._needsJobListener()&&this._bindJobListener();this._updateNextDisplayIndex();a=this.get("items");a.after(["add","remove"],
function(){this._updateNextDisplayIndex()},this);this.items=a},destructor:function(){this._jobListener&&(this._jobListener.detach(),this._jobListener=null)},_getParentCollection:function(){return new a.Promise(function(b,d){var c=this.get("collectionId");c?a.Squarespace.ContentCollectionCache.getCollectionById(c,b):b(null)}.bind(this))},toJSON:function(){var b=c.superclass.toJSON.call(this),d=b.structuredContent;a.Lang.isValue(d)&&(b.structuredContent=d.toJSON());b.items=b.items.toJSON();a.Lang.isObject(b.pushedServices)&&
(b.pushedServices=a.Object.keys(b.pushedServices));a.Lang.isObject(b.pendingPushedServices)&&(b.pendingPushedServices=a.Object.keys(b.pendingPushedServices));return b},serialize:function(){var a=this.toJSON();delete a.items;delete a.author;delete a.fullUrl;delete a.assetUrl;delete a.resolved;delete a.postItemInjectCode;delete a.promotedBlock;delete a.promotedBlockType;delete a.nextDisplayIndex;delete a.mediaIsUploading;delete a.hasFileData;delete a.isGlobalFakeContentItem;delete a.childrenGroups;
delete a.colorData;delete a.mainImage;delete a.gallery;this._normalizeDates(a);this._attachCommentingToData(a);this._attachWorkflowToData(a);this._updateStructuredContent(a);return a},_updateStructuredContent:function(b){b.structuredContent&&b.startDate&&(b.structuredContent=a.merge(b.structuredContent,{startDate:b.startDate,endDate:b.endDate}))},_getWorkflowStateForString:function(b){return a.Object.getValue({published:d.PUBLISHED,scheduled:d.SCHEDULED,needsreview:d.NEEDS_REVIEW,draft:d.DRAFT},b)},
_attachWorkflowToData:function(b){a.Lang.isValue(b.workflow)&&(b.workflowState=this._getWorkflowStateForString(b.workflow.state),b.publishOn=b.workflow.date,delete b.workflow)},_attachCommentingToData:function(b){a.Lang.isValue(b.commenting)&&(b.commentState=a.Squarespace.CommentStates["allow"===b.commenting.state?"ENABLED":"DISABLED"],b.commentDisableOn=b.commenting.date,delete b.commenting)},_normalizeDates:function(b){a.Array.each("addedOn publishOn updatedOn commentDisableOn startDate endDate".split(" "),
function(d,c){a.Lang.isDate(b[d])&&(b[d]=b[d].getTime())},this)},save:function(b,d){this.isNew()||!a.Lang.isObject(b)||!b.fields?c.superclass.save.call(this,b,d):this._saveFields(b.fields,d)},autoSave:function(b,d){a.Lang.isFunction(b)?(d=b,b={}):a.Lang.isValue(b)||(b={});b.headers=a.merge(b.headers,{"X-AutoSave":!0});this.save(b,d)},like:function(b){a.Data.post({url:"/api/content-items/"+this.getId()+"/sentiment/like",success:function(d){a.Lang.isFunction(b)&&b(null,d)},failure:function(d){a.Lang.isFunction(b)&&
b(d,null)}},this)},dislike:function(b){a.Data.post({url:"/api/content-items/"+this.getId()+"/sentiment/dislike",success:function(d){a.Lang.isFunction(b)&&b(null,d)},failure:function(d){a.Lang.isFunction(b)&&b(d,null)}},this)},clearFileData:function(b){this.setAttrs({systemDataId:null,systemDataOrigin:null,mediaProcessingState:null,systemDataSourceType:null,systemDataVariants:null,filename:null});this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(function(b){var d=this.get("id");
b=g.getMainImageDeletionUrl(b).replace("{id}",d);a.Data.del({url:b,data:{itemId:d}})}.bind(this))},clearChildGroup:function(b,d){a.Data.post({url:"/api/commondata/ClearChildGroup",data:{childType:b,itemId:this.get("id")},success:function(b){a.Lang.isFunction(d)&&d(null,b)},failure:function(b){a.Lang.isFunction(d)&&d(b,null)}})},getAssetUrlForFormat:function(b){return a.Lang.sub("{assetUrl}?format={format}",{assetUrl:this.get("assetUrl"),format:b})},getId:function(){return this.get("id")},isLicensedAssetPreview:function(){return a.Lang.isValue(this.get("licensedAssetPreview"))},
isLicensedAsset:function(){return a.Lang.isValue(this.get("licensedAssetId"))},getMainImageUploadUrl:function(a){this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(function(b){a(g.getMainImageUploadUrl(b).replace("{id}",this.get("id")))}.bind(this))},_needsJobListener:function(){var a=this.get("mediaProcessingState");return a===h.QUEUED||a===h.PROCESSING},_bindJobListener:function(){Static&&Static.JOB_MANAGER&&(this._jobListener=a.config.win.Static.JOB_MANAGER.on("completed",
function(b){var d=b.job;b=this.get("id");var c=d.get("data.contentItemId"),d=d.get("data.globalContentItemId");c===b?(this.load({forceReload:!0}),this._jobListener.detach()):a.Lang.isValue(d)&&d===b&&(this._readGlobalFakeContentItem(d,{},function(a,b){a?console.log("error loading model",a):(this.set("assetUrl",b.assetUrl),this.setAttrs(b))}.bind(this)),this._jobListener.detach())},this))},_updateNextDisplayIndex:function(){var a=0;this.get("items").each(function(b){b=b.get("displayIndex");b>=a&&(a=
b+1)},this);this._set("nextDisplayIndex",a)},_saveFields:function(b,d){if(1<b.length)throw Error("Saving multiple fields is not currently supported.");var c=b[0];m.updateField(this.get("id"),c,this.get(c)).then(function(b){a.Lang.isFunction(d)&&d(null,b.item)},function(b){a.Lang.isFunction(d)&&d.call(b,null)}).catch(this._errorHandler)},_getStructuredContentCtor:function(){switch(this.get("recordType")){case n.AUDIO:return a.Squarespace.Models.Audio;case n.EVENT:return a.Squarespace.Models.CalendarEvent;
case n.CHECKIN:return a.Squarespace.Models.CheckIn;case n.VIDEO:return a.Squarespace.Models.Embed;case n.KBARTICLE:return a.Squarespace.Models.KBArticle;case n.LINK:return a.Squarespace.Models.Link;case n.QUOTE:return a.Squarespace.Models.Quote;case n.STORE_ITEM:return a.Squarespace.Models.StoreItem;case n.TWEET:return a.Squarespace.Models.Tweet;default:return null}}},{ATTRS:{id:{value:null},collectionId:{value:null},parentId:{value:null},authorId:{valueFn:function(){var b=a.Object.getValue(Static,
["SQUARESPACE_CONTEXT","authenticatedAccount"]);return b?b.id:null}},proxyForId:{value:null},recordType:{validator:a.Squarespace.AttrValidators.isValueIn(n),writeOnce:!0},childType:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},addedOn:{valueFn:function(){return(new Date).getTime()},validator:a.Squarespace.AttrValidators.isNumber,writeOnce:"initOnly"},updatedOn:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},publishOn:{valueFn:function(){return(new Date).getTime()},
validator:a.Squarespace.AttrValidators.isNumber},unsaved:{value:null,validator:a.Squarespace.AttrValidators.isNullOrBoolean},urlId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},title:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},body:{value:null,setter:function(b){return a.merge(this.get("body"),b)},validator:a.Squarespace.AttrValidators.isNullOrObject},excerpt:{value:{html:"",raw:!1},validator:a.Squarespace.AttrValidators.isNullOrObject},displayIndex:{value:0,
validator:a.Squarespace.AttrValidators.isNumber},starred:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},passthrough:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},tags:{value:[],validator:a.Squarespace.AttrValidators.isArray},categories:{value:[],validator:a.Squarespace.AttrValidators.isArray},workflowState:{value:d.DRAFT,validator:a.Squarespace.AttrValidators.isValueIn(d)},systemDataId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},systemDataVariants:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},systemDataOrigin:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},contentType:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},filename:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},dataSize:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},sourceUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},mediaProcessingState:{value:null,validator:a.Squarespace.AttrValidators.isNullOr(a.Squarespace.AttrValidators.isValueIn(h))},
mediaFocalPoint:{value:{x:0.5,y:0.5},setter:function(b){if(a.Lang.isString(b)){b=b.split(",");var d=parseFloat(b[0]);b=parseFloat(b[1]);return{x:!isNaN(d)&&1>=d?d:0.5,y:!isNaN(b)&&1>=b?b:0.5}}return b}},colorData:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},clickthroughUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},location:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},customContent:{value:null},likeCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},
dislikeCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},commentCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},publicCommentCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},commentState:{valueFn:function(){var a=k.getState(),b=a.commentsEnabled;return a.commentEnableByDefault&&b?e.ENABLED:e.DISABLED},validator:a.Squarespace.AttrValidators.isValueIn(e)},commentDisableOn:{valueFn:function(){var b=a.Object.getValue(Static,["SQUARESPACE_CONTEXT","websiteSettings",
"commentDisableAfterDaysDefault"]);return b?a.Date.addDays(new Date,b).getTime():null},validator:a.Squarespace.AttrValidators.isNullOrNumber},pushedServices:{value:{},validator:a.Squarespace.AttrValidators.isObject},shareStates:{value:[]},structuredContent:{valueFn:function(){var b=this._getStructuredContentCtor();return a.Lang.isNull(b)?null:new b},setter:function(b){if(b instanceof a.Squarespace.Models.StructuredContent)return b;var d=this._getStructuredContentCtor();return a.Lang.isNull(d)?null:
new d(b)}},items:{valueFn:function(){return new a.Squarespace.Models.ContentItemList({parent:this})},setter:function(b){var d=this.get("items");return a.Lang.isValue(d)?(d.reset(b),d):b instanceof a.Squarespace.Models.ContentItemList?b:new a.Squarespace.Models.ContentItemList({items:b,parent:this})}},childrenGroups:{value:{},validator:a.Squarespace.AttrValidators.isObject},author:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},fullUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},
assetUrl:{value:null,getter:function(b){return a.Squarespace.UrlUtils.isSecure()?a.Squarespace.UrlUtils.securifyURL(b):b},validator:a.Squarespace.AttrValidators.isNulLOrString},resolved:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},postItemInjectCode:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},promotedBlock:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},promotedBlockType:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},nextDisplayIndex:{value:0,
validator:a.Squarespace.AttrValidators.isNumber,readOnly:!0},mediaIsUploading:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},hasFileData:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},isGlobalFakeContentItem:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},licensedAssetPreview:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},licensedAssetId:{value:null,validator:a.Lang.isString},isPusher:{value:!0,readOnly:!0,validator:a.Squarespace.AttrValidators.isBoolean}}})},
"1.0",{requires:"base json model squarespace-attr-validators squarespace-model-sync-rest squarespace-models-audio squarespace-models-calendar-event squarespace-models-check-in squarespace-models-content-collection squarespace-models-content-item-list squarespace-models-embed squarespace-models-instagram squarespace-models-kb-article squarespace-models-link squarespace-models-quote squarespace-models-store-item squarespace-models-tweet squarespace-url-utils squarespace-util".split(" ")})},1605:function(f,
c){YUI.add("squarespace-models-embed",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Embed=a.Base.create("Embed",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Embed",validator:function(a){return"Embed"===a},readOnly:!0},embed:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},oembed:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},overlay:{value:!0,validator:a.Squarespace.AttrValidators.isBoolean}}})},"1.0",{requires:["base",
"squarespace-attr-validators","squarespace-models-structured-content"]})},1607:function(f,c){YUI.add("squarespace-models-instagram",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Instagram=a.Base.create("Instagram",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Instagram",validator:function(a){return"Instagram"===a},readOnly:!0},instagramId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},timeZone:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},
imageLowResolutionUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},imageThumbnailUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},imageStandardUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},width:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},height:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},filter:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},userProfilePictureUrl:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},userAccountName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},userDisplayName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1608:function(f,c){YUI.add("squarespace-models-kb-article",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.KBArticle=a.Base.create("KBArticle",a.Squarespace.Models.StructuredContent,
[],{},{ATTRS:{_type:{value:"KBArticle",validator:function(a){return"KBArticle"===a},readOnly:!0},upVotes:{value:0,validator:a.Squarespace.AttrValidators.isNumber},downVotes:{value:0,validator:a.Squarespace.AttrValidators.isNumber}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1609:function(f,c){YUI.add("squarespace-models-link",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Link=a.Base.create("Link",a.Squarespace.Models.StructuredContent,
[],{},{ATTRS:{_type:{value:"Link",validator:function(a){return"Link"===a},readOnly:!0},url:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1610:function(f,c){YUI.add("squarespace-models-quote",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Quote=a.Base.create("Quote",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Quote",validator:function(a){return"Quote"===
a},readOnly:!0},quote:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1612:function(f,c,a){var e=a(4),h=a(349);YUI.add("squarespace-models-store-item",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.StoreItem=a.Base.create("StoreItem",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"StoreItem",validator:function(a){return"StoreItem"===a},readOnly:!0},
productType:{value:h.PHYSICAL,validator:a.Squarespace.AttrValidators.isValueIn(h)},priceCents:{value:0,validator:a.Squarespace.AttrValidators.isNumber},salePriceCents:{value:0,validator:a.Squarespace.AttrValidators.isNumber},onSale:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},variants:{value:[],validator:a.Squarespace.AttrValidators.isArray},originalVariants:{value:[],validator:a.Squarespace.AttrValidators.isArray},variantOptionOrdering:{value:[],validator:a.Squarespace.AttrValidators.isArray},
additionalFieldsFormId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},customAddButtonText:{value:e("Add to Cart"),validator:a.Squarespace.AttrValidators.isString},useCustomAddButtonText:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},additionalFieldsForm:{value:null}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1613:function(f,c){YUI.add("squarespace-models-structured-content",function(a){a.namespace("Squarespace.Models");
a.Squarespace.Models.StructuredContent=a.Base.create("StructuredContent",a.Model,[],{},{ATTRS:{_type:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString,writeOnce:"initOnly"}}})},"1.0",{requires:["base","model","squarespace-attr-validators"]})},1614:function(f,c){YUI.add("squarespace-models-tweet",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Tweet=a.Base.create("Tweet",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Tweet",validator:function(a){return"Tweet"===
a},readOnly:!0},tweetId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},timeZone:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},accountId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},displayName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},accountName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},tweet:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},profileImageUrl:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},profileImageUrlHttps:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},userLocation:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},174:function(f,c,a){var e=a(550),h=Math.max;f.exports=function(a,d){d=h(void 0===d?a.length-1:d,0);return function(){for(var c=arguments,b=-1,k=h(c.length-d,0),g=Array(k);++b<k;)g[b]=
c[d+b];b=-1;for(k=Array(d+1);++b<d;)k[b]=c[b];k[d]=g;return e(a,this,k)}}},176:function(f,c,a){var e=a(383),h=a(186),n=a(132);f.exports=function(a){return n(a)?e(a,!0):h(a)}},186:function(f,c,a){var e=a(72),h=a(275),n=a(204),d=Object.prototype.hasOwnProperty;f.exports=function(a){if(!e(a))return n(a);var b=h(a),c=[],g;for(g in a)"constructor"==g&&(b||!d.call(a,g))||c.push(g);return c}},187:function(f,c){f.exports={WAITING:1,PROCESSING:2,SUCCESS:3,FAILURE:4,CANCELLED:5,SCHEDULED:6}},19:function(f,
c,a){f.exports={"default":a(381),__esModule:!0}},202:function(f,c,a){function e(a,c,b,k,g){var p=-1,f=a.length;b||(b=n);for(g||(g=[]);++p<f;){var l=a[p];0<c&&b(l)?1<c?e(l,c-1,b,k,g):h(g,l):k||(g[g.length]=l)}return g}var h=a(439),n=a(687);f.exports=e},2031:function(f,c){f.exports=function(a,c){for(var h=-1,n=a?a.length:0;++h<n;)if(!c(a[h],h,a))return!1;return!0}},2033:function(f,c,a){var e=a(725);f.exports=function(a,c){var d=!0;e(a,function(a,b,h){return d=!!c(a,b,h)});return d}},204:function(f,
c){f.exports=function(a){var c=[];if(null!=a)for(var h in Object(a))c.push(h);return c}},2100:function(f,c,a){var e=(c=a(1))&&c.__esModule?c:{"default":c},h=(c=a(2))&&c.__esModule?c:{"default":c};c=a(11);var n=a(2124);a=function(){function a(){(0,e.default)(this,a);this.generateActions("saveSuccess")}(0,h.default)(a,[{key:"save",value:function(a,b){var d=this;return function(c){c();return n.save(a,b).then(function(a){d.saveSuccess(a)})}}}]);return a}();f.exports=c.createActions(a)},211:function(f,
c){f.exports={BANDSINTOWN:29,BEHANCE:30,CHOWNOW:49,CODEPEN:31,DRIBBBLE:18,DROPBOX:9,DROPBOX2:40,EMAIL:20,FACEBOOK:2,FIVEHUNDREDPIX:16,FLICKR:3,FOURSQUARE:1,GITHUB:23,GOODREADS:52,GOOGLE:5,GOOGLEAUTH2:21,GOOGLEDOCS2:22,GOOGLEPLAY:28,GOOGLE_SPREADSHEET:6,HOUZZ:42,IMDB:51,INSTAGRAM:10,ITUNES:27,LINKEDIN:14,MAILCHIMP:13,MEDIUM:32,MEETUP:33,PAYPAL_LIVE_BILLING:48,PAYPAL_LIVE_ONBOARDING:46,PAYPAL_SANDBOX_BILLING:47,PAYPAL_SANDBOX_ONBOARDING:45,PINTEREST:19,RDIO:34,REDDIT:43,SMUGMUG:17,SNAPCHAT:50,SOUNDCLOUD:25,
SPOTIFY:26,STITCHER:53,STRIPE:15,STUMBLEUPON:44,TIDAL:54,TUMBLR:8,TWITCH:35,TWITTER:4,VEVO:36,VIMEO:12,VINE:37,VSCO:38,XERO:24,YELP:39,YOUTUBE:11}},2124:function(f,c,a){var e=a(24);f.exports={save:function(a,c){return e.put("/api/member-website-settings/"+a,c)},commerceUpsellShown:function(a){return e.post("/api/member-website-settings/"+a+"/commerce-upsell-shown")}}},2456:function(f,c,a){c=a(273);var e=a(70);a=a(2488);f.exports={DEFAULT_COLLECTION_CONFIGURATIONS:{page:{collectionType:e.COLLECTION_TYPE_PAGE,
typeName:"page",title:"Page",ordering:c.CUSTOM,icon:"page",addText:"Add Block"},"gallery-block":{collectionType:e.GALLERY_BLOCK,typeName:"gallery-block",title:"Gallery Block",ordering:c.USER,acceptTypes:["image","video"]},products:{collectionType:e.PRODUCTS,typeName:"products",title:"Products",pageSize:20,ordering:c.USER,acceptTypes:["store_item"],view:a.PRODUCT_TABLE,icon:"products",addText:"Add Product"},"template-page":{collectionType:e.TEMPLATE_PAGE,title:"Template Page",icon:"projects"},"splash-page":{collectionType:e.SPLASH_PAGE,
typeName:"splash-page",title:"Cover Page",ordering:c.CUSTOM,icon:"splash-page"},subscription:{collectionType:e.COLLECTION_TYPE_SUBSCRIPTION,typeName:"subscription",title:"Subscription",ordering:c.CHRONOLOGICAL}},DEFAULT_COLLECTION_CONFIGURATION:{collectionType:e.COLLECTION_TYPE_GENERIC,supported:!0,supportsVideoBackgrounds:!1},DEFAULT_TEMPLATE_PAGE_CONFIGURATION:{icon:"template-page",collectionType:e.TEMPLATE_PAGE,supported:!0,folder:!1,supportsVideoBackgrounds:!1}}},2460:function(f,c,a){function e(a){return a&&
a.__esModule?a:{"default":a}}c=a(1);var h=e(c);c=a(2);var n=e(c);c=a(390);var d=e(c);c=a(76);var m=e(c);c=a(19);var b=e(c),k,g,p,q,l,v,C,w;c=a(11);var s=a(111),z=a(330),r=a(1067),t=a(1395);a=a(2461);var F=function y(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,b.default)(a).forEach(function(b){b=a[b];"object"===("undefined"===typeof b?"undefined":(0,m.default)(b))&&y(b)});return(0,d.default)(a)},x=(w={},w[z.ABANDONED_CART_RECOVERY]=(k={},k[r.WEBSITE_LEGACY_COMMERCE]={title:a.abandonedCartPlanSwitchTitle,
message:a.abandonedCartPlanSwitchMessage,destination:t.UPGRADE_PLAN},k[r.WEBSITE_LEGACY_PERSONAL]={title:a.abandonedCartPlanSwitchTitle,message:a.abandonedCartPlanSwitchMessage,destination:t.UPGRADE_PLAN},k[r.WEBSITE_LEGACY_PROFESSIONAL]={title:a.abandonedCartPlanSwitchTitle,message:a.abandonedCartPlanSwitchMessage,destination:t.UPGRADE_PLAN},k[r.WEBSITE_CLASSIC_TRIAL]={title:a.abandonedCartSoftTrialUpgradeTitle,message:a.abandonedCartSoftTrialUpgradeMessage,destination:t.TRIAL_UPGRADE_PLAN,isSoftWarning:!0},
k[r.WEBSITE_COMMERCE_TRIAL]={title:a.abandonedCartSoftTrialUpgradeTitle,message:a.abandonedCartSoftTrialUpgradeMessage,destination:t.TRIAL_UPGRADE_PLAN,isSoftWarning:!0},k[r.WEBSITE_CLASSIC_PERSONAL]={title:a.abandonedCartPlanSwitchTitle,message:a.abandonedCartPlanSwitchMessage,destination:t.UPGRADE_PLAN},k[r.WEBSITE_CLASSIC_PROFESSIONAL]={title:a.abandonedCartPlanSwitchTitle,message:a.abandonedCartPlanSwitchMessage,destination:t.UPGRADE_PLAN},k[r.WEBSITE_COMMERCE_BASIC]={title:a.abandonedCartPlanSwitchTitle,
message:a.abandonedCartPlanSwitchMessage,destination:t.UPGRADE_PLAN},k),w[z.ACCOUNTING]=(g={},g[r.WEBSITE_LEGACY_PERSONAL]={title:a.accountingPlanSwitchTitle,message:a.accountingPlanSwitchMessage,destination:t.UPGRADE_PLAN},g[r.WEBSITE_LEGACY_PROFESSIONAL]={title:a.accountingPlanSwitchTitle,message:a.accountingPlanSwitchMessage,destination:t.UPGRADE_PLAN},g[r.WEBSITE_CLASSIC_TRIAL]={title:a.accountingSoftTrialUpgradeTitle,message:a.accountingSoftTrialUpgradeMessage,destination:t.TRIAL_UPGRADE_PLAN,
isSoftWarning:!0},g[r.WEBSITE_COMMERCE_TRIAL]={title:a.accountingSoftTrialUpgradeTitle,message:a.accountingSoftTrialUpgradeMessage,destination:t.TRIAL_UPGRADE_PLAN,isSoftWarning:!0},g[r.WEBSITE_CLASSIC_PERSONAL]={title:a.accountingPlanSwitchTitle,message:a.accountingPlanSwitchMessage,destination:t.UPGRADE_PLAN},g[r.WEBSITE_CLASSIC_PROFESSIONAL]={title:a.accountingPlanSwitchTitle,message:a.accountingPlanSwitchMessage,destination:t.UPGRADE_PLAN},g),w[z.AUTO_TRIGGERED_DISCOUNTS]=(p={},p[r.WEBSITE_LEGACY_PERSONAL]=
{title:a.automaticDiscountsPlanSwitchTitle,message:a.automaticDiscountsPlanSwitchMessage,destination:t.UPGRADE_PLAN},p[r.WEBSITE_LEGACY_PROFESSIONAL]={title:a.automaticDiscountsPlanSwitchTitle,message:a.automaticDiscountsPlanSwitchMessage,destination:t.UPGRADE_PLAN},p[r.WEBSITE_LEGACY_COMMERCE]={title:a.automaticDiscountsPlanSwitchTitle,message:a.automaticDiscountsPlanSwitchMessage,destination:t.UPGRADE_PLAN},p[r.WEBSITE_CLASSIC_PERSONAL]={title:a.automaticDiscountsPlanSwitchTitle,message:a.automaticDiscountsPlanSwitchMessage,
destination:t.UPGRADE_PLAN},p[r.WEBSITE_CLASSIC_PROFESSIONAL]={title:a.automaticDiscountsPlanSwitchTitle,message:a.automaticDiscountsPlanSwitchMessage,destination:t.UPGRADE_PLAN},p[r.WEBSITE_COMMERCE_BASIC]={title:a.automaticDiscountsPlanSwitchTitle,message:a.automaticDiscountsPlanSwitchMessage,destination:t.UPGRADE_PLAN},p[r.WEBSITE_CLASSIC_COMPED]={title:a.automaticDiscountsTrialUpgradeTitle,message:a.automaticDiscountsTrialUpgradeMessage,destination:t.TRIAL_UPGRADE_PLAN,isSoftWarning:!0},p[r.WEBSITE_CLASSIC_TRIAL]=
{title:a.automaticDiscountsTrialUpgradeTitle,message:a.automaticDiscountsTrialUpgradeMessage,destination:t.TRIAL_UPGRADE_PLAN,isSoftWarning:!0},p[r.WEBSITE_COMMERCE_TRIAL]={title:a.automaticDiscountsTrialUpgradeTitle,message:a.automaticDiscountsTrialUpgradeMessage,destination:t.TRIAL_UPGRADE_PLAN,isSoftWarning:!0},p),w[z.COMMERCE]=(q={},q[r.WEBSITE_CLASSIC_TRIAL]={title:a.commerceTrialUpgradeTitle,message:a.commerceTrialUpgradeMessage,destination:t.TRIAL_UPGRADE_PLAN},q[r.WEBSITE_COMMERCE_TRIAL]=
{title:a.commerceTrialUpgradeTitle,message:a.commerceTrialUpgradeMessage,destination:t.TRIAL_UPGRADE_PLAN},q),w[z.CRM]=(l={},l[r.WEBSITE_LEGACY_PERSONAL]={title:a.crmPlanSwitchTitle,message:a.crmPlanSwitchMessage,destination:t.UPGRADE_PLAN},l[r.WEBSITE_LEGACY_PROFESSIONAL]={title:a.crmPlanSwitchTitle,message:a.crmPlanSwitchMessage,destination:t.UPGRADE_PLAN},l[r.WEBSITE_CLASSIC_TRIAL]={title:a.crmSoftTrialUpgradeTitle,message:a.crmSoftTrialUpgradeMessage,destination:t.TRIAL_UPGRADE_PLAN,isSoftWarning:!0},
l[r.WEBSITE_COMMERCE_TRIAL]={title:a.crmSoftTrialUpgradeTitle,message:a.crmSoftTrialUpgradeMessage,destination:t.TRIAL_UPGRADE_PLAN,isSoftWarning:!0},l[r.WEBSITE_CLASSIC_PERSONAL]={title:a.crmPlanSwitchTitle,message:a.crmPlanSwitchMessage,destination:t.UPGRADE_PLAN},l[r.WEBSITE_CLASSIC_PROFESSIONAL]={title:a.crmPlanSwitchTitle,message:a.crmPlanSwitchMessage,destination:t.UPGRADE_PLAN},l),w[z.REAL_TIME_SHIPPING_RATES]=(v={},v[r.WEBSITE_CLASSIC_TRIAL]={title:a.realTimeShippingSoftTrialUpgradeTitle,
message:a.realTimeShippingSoftTrialUpgradeMessage,destination:t.TRIAL_UPGRADE_PLAN,isSoftWarning:!0},v[r.WEBSITE_COMMERCE_TRIAL]={title:a.realTimeShippingSoftTrialUpgradeTitle,message:a.realTimeShippingSoftTrialUpgradeMessage,destination:t.TRIAL_UPGRADE_PLAN,isSoftWarning:!0},v[r.WEBSITE_LEGACY_PERSONAL]={title:a.realTimeShippingPlanSwitchTitle,message:a.realTimeShippingPlanSwitchMessage,destination:t.UPGRADE_PLAN},v[r.WEBSITE_LEGACY_PROFESSIONAL]={title:a.realTimeShippingPlanSwitchTitle,message:a.realTimeShippingPlanSwitchMessage,
destination:t.UPGRADE_PLAN},v[r.WEBSITE_CLASSIC_PERSONAL]={title:a.realTimeShippingPlanSwitchTitle,message:a.realTimeShippingPlanSwitchMessage,destination:t.UPGRADE_PLAN},v[r.WEBSITE_CLASSIC_PROFESSIONAL]={title:a.realTimeShippingPlanSwitchTitle,message:a.realTimeShippingPlanSwitchMessage,destination:t.UPGRADE_PLAN},v[r.WEBSITE_COMMERCE_BASIC]={title:a.realTimeShippingPlanSwitchTitle,message:a.realTimeShippingPlanSwitchMessage,destination:t.UPGRADE_PLAN},v),w[z.SHIPSTATION_INTEGRATION]=(C={},C[r.WEBSITE_CLASSIC_TRIAL]=
{title:a.shipstationSoftTrialUpgradeTitle,message:a.shipstationSoftTrialUpgradeMessage,destination:t.TRIAL_UPGRADE_PLAN,isSoftWarning:!0},C[r.WEBSITE_COMMERCE_TRIAL]={title:a.shipstationSoftTrialUpgradeTitle,message:a.shipstationSoftTrialUpgradeMessage,destination:t.TRIAL_UPGRADE_PLAN,isSoftWarning:!0},C[r.WEBSITE_LEGACY_PERSONAL]={title:a.shipstationPlanSwitchTitle,message:a.shipstationPlanSwitchMessage,destination:t.UPGRADE_PLAN},C[r.WEBSITE_CLASSIC_PERSONAL]={title:a.shipstationPlanSwitchTitle,
message:a.shipstationPlanSwitchMessage,destination:t.UPGRADE_PLAN},C[r.WEBSITE_CLASSIC_PROFESSIONAL]={title:a.shipstationPlanSwitchTitle,message:a.shipstationPlanSwitchMessage,destination:t.UPGRADE_PLAN},C),w);k=function(){function a(){(0,h.default)(this,a);this.state=F(x);this.exportPublicMethods({get:this.get})}(0,n.default)(a,[{key:"get",value:function(a){return s(this.state,a)}}]);return a}();f.exports=c.createStore(k,"UpsellFeaturesStore")},2461:function(f,c,a){c=(c=a(390))&&c.__esModule?c:{"default":c};
c=(0,c.default)({abandonedCartPlanSwitchTitle:"Upgrade Needed",abandonedCartPlanSwitchMessage:"Upgrade to the Commerce Advanced plan to get Abandoned Checkout. Your current plan doesn't include this feature.",abandonedCartSoftTrialUpgradeTitle:"Note",abandonedCartSoftTrialUpgradeMessage:"To continue using Abandoned Checkout after your trial, subscribe to the Commerce Advanced plan.",accountingPlanSwitchTitle:"Upgrade Needed",accountingPlanSwitchMessage:"Upgrade to the Commerce Basic plan to get the Xero Integration. Your current plan doesn't include this feature.",
accountingSoftTrialUpgradeTitle:"Note",accountingSoftTrialUpgradeMessage:"To continue using the Xero integration after your trial, subscribe to the Commerce Basic or Advanced plans.",automaticDiscountsPlanSwitchTitle:"Upgrade Needed",automaticDiscountsPlanSwitchMessage:"Upgrade to the Commerce Advanced plan to use Automatic Discounts. Your current plan doesn't include this feature.",automaticDiscountsTrialUpgradeTitle:"Note",automaticDiscountsTrialUpgradeMessage:"To continue using Automatic Discounts after your trial, subscribe to the Commerce Advanced plan.",
commerceTrialUpgradeTitle:"Cannot Go Live",commerceTrialUpgradeMessage:"Subscribe to a paid plan to launch your store and start accepting payments.",crmPlanSwitchTitle:"Upgrade Needed",crmPlanSwitchMessage:"Upgrade to the Commerce Basic or Advanced plan to get access to Customers. Your current plan doesn't include this feature.",crmSoftTrialUpgradeTitle:"Note",crmSoftTrialUpgradeMessage:"To continue using the Customers features after your trial, subscribe to the Commerce Basic or Advanced plan.",
realTimeShippingSoftTrialUpgradeTitle:"Note",realTimeShippingSoftTrialUpgradeMessage:"To continue using Real&#8209;Time Carrier Rates after your trial, subscribe to the Commerce Advanced plan.",realTimeShippingPlanSwitchTitle:"Upgrade Needed",realTimeShippingPlanSwitchMessage:"Upgrade to the Commerce Advanced plan to get Real&#8209;Time Carrier Rates. Your current plan doesn't include this feature.",shipstationSoftTrialUpgradeTitle:"Note",shipstationSoftTrialUpgradeMessage:"To continue using ShipStation after your trial, subscribe to the Commerce Basic or Advanced plan.",
shipstationPlanSwitchTitle:"Upgrade Needed",shipstationPlanSwitchMessage:"Upgrade to the Commerce Basic plan to get the ShipStation integration. Your current plan doesn't include this feature."});f.exports=c},2462:function(f,c,a){f.exports=a(2460)},2465:function(f,c,a){var e={diff:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],d={deletions:[],additions:[]};a.forEach(function(a){var b=c.find(function(b){return b.collectionId===
a.collectionId});b?(b=e.diff(a.children,b.children),b.deletions.length&&d.deletions.push([a.collectionId,b.deletions[0][0]]),b.additions.length&&d.additions.push([a.collectionId,b.additions[0][0]])):d.deletions.push([a.collectionId])});c.forEach(function(c){a.find(function(a){return a.collectionId===c.collectionId})||d.additions.push([c.collectionId])});return d}};f.exports=e},2488:function(f,c,a){f.exports={LIST:"list",GRID:"grid",PRODUCT:"product"}},2509:function(f,c,a){var e=a(24);f.exports={getTemplate:function(a){return e.get("/api/templates/"+
a)}}},2510:function(f,c,a){var e=a(24),h=a(251);f.exports={loadTemplateInstallations:function(){return e.get("/api/template-installations")},setLiveInstallation:function(a){return e.post("/api/template/SetTemplate",h.stringify({installationId:a}))},updateInstallation:function(a){return e.put("/api/template-installations/"+a.id,a)},setHomepageCollectionId:function(a){return e.post("/api/template/SetHomepageCollection",h.stringify({collectionId:a}))}}},2514:function(f,c,a){f.exports=function(a){return a.replace(/^\s\s*/,
"").replace(/\s\s*$/,"").toLowerCase().replace(/[^a-z0-9_\s]+/g,"").replace(/[\s]+/g,"-")}},265:function(f,c){f.exports={AUTHENTICATED:0,CONFIG:1,ADMIN:2,CONFIG_CONTENT_MANAGER:11,CONFIG_SETTINGS:12,CONFIG_ACTIVITY:13,CONFIG_COMMERCE:14,CONFIG_NEWSLETTER:15,CONFIG_DAMASK:17,CONFIG_CRM:18,CONFIG_CHANGE_STRUCTURE:1110,CONFIG_TRUSTED_COMMENTER:1111,CONFIG_SETTINGS_GENERAL:1210,CONFIG_SETTINGS_LOCALE:1211,CONFIG_SETTINGS_SOCIAL_ACCOUNT:1212,CONFIG_SETTINGS_FACEBOOK:1213,CONFIG_SETTINGS_SOCIAL_SETTINGS:1214,
CONFIG_SETTINGS_MEMBER_ACCOUNTS:1215,CONFIG_SETTINGS_DOMAIN:1216,CONFIG_SETTINGS_TEMPLATE:1217,CONFIG_SETTINGS_IMPORT:1218,CONFIG_SETTINGS_CODEINJECT:1219,CONFIG_SETTINGS_ADVANCED:1220,CONFIG_SETTINGS_DEVELOPER:1221,CONFIG_SETTINGS_SESSIONS:1222,CONFIG_SETTINGS_MOBILE:1223,CONFIG_SETTINGS_BILLING:1224,CONFIG_SETTINGS_SUPPORT:1225,CONFIG_SETTINGS_SITE:1226,CONFIG_SETTINGS_LABS:1227,CONFIG_SETTINGS_ADVERTISING:1228,CONFIG_ACTIVITY_STATS:1310,CONFIG_ACTIVITY_COMMENTS:1311,CONFIG_COMMERCE_ORDERS:1410,
CONFIG_COMMERCE_STORE_SETTINGS:1411,CONFIG_COMMERCE_SHIPPING:1412,CONFIG_COMMERCE_COUPONS:1413,CONFIG_COMMERCE_TAXES:1414,CONFIG_COMMERCE_EMAIL_NOTIFICATIONS:1415,CONFIG_COMMERCE_INVENTORY:1416,CONFIG_COMMERCE_DONATIONS:1417,CONFIG_COMMERCE_ACCOUNTING:1418,CONFIG_COMMERCE_DISCOUNTS:1419,CONFIG_COMMERCE_PAYMENTS:1420,CONFIG_NEWSLETTER_READ_SUBSCRIBER:1510,CONFIG_NEWSLETTER_WRITE_SUBSCRIBER:1511,CONFIG_NEWSLETTER_READ_GROUP:1512,CONFIG_NEWSLETTER_WRITE_GROUP:1513,CONFIG_NEWSLETTER_READ_MESSAGE:1514,
CONFIG_NEWSLETTER_WRITE_MESSAGE:1515,CONFIG_NEWSLETTER_READ_SETTINGS:1516,CONFIG_NEWSLETTER_WRITE_SETTINGS:1517,CONFIG_ACCEPT_TOS:1610,CONFIG_DOMAINS_REMOVE:1611,CONFIG_DOMAINS_ADD:1612,CONFIG_CRM_COMMERCE_CUSTOMERS:1810,ADMIN_GRANT_ACCESS:2010,ADMIN_BILLING_READ:2011,ADMIN_BILLING_WRITE:2012,ADMIN_READ_CUSTOMER_DATA:2013,ADMIN_WRITE_CUSTOMER_DATA:2014,ADMIN_DEV_SETTINGS:2015,ADMIN_MARKETING_READ:2016,ADMIN_MARKETING_WRITE:2017,ADMIN_LOGINAS:2018,ADMIN_TEMPLATE_SETTINGS:2019,ADMIN_SYSTEM_JSON_VIEW:2020,
ADMIN_TAXONOMY:2021,ADMIN_CHANGE_USER_EMAIL:2022,ADMIN_ADD_NOTE:2023,ADMIN_EDIT_OTHER_NOTES:2024,ADMIN_EXTEND_TRIAL:2025,ADMIN_BIZPIPE_STATS_MOBILE_ACCESS:2026,ADMIN_REFERRALS_WRITE:2027,ADMIN_BILLING_REFUND:2028,ADMIN_BILLING_APPLY_EDU_DISCOUNT:2029,ADMIN_DEACTIVATE_SQUARESPACE_ACCOUNT:2030,ADMIN_BILLING_EXPIRE:2031,ADMIN_CHANGE_MAX_COMPS:2032,ADMIN_CHANGE_GUILDS:2033,ADMIN_DOMAIN_WRITE:2034,ADMIN_GOOGLE_APPS_WRITE:2035,ADMIN_ADD_CONTRIBUTER:2036,ADMIN_CHANGE_WEBSITE_OWNER:2037,ADMIN_REMOVE_CONTRIBUTER:2038,
ADMIN_TAXATION_READ:2039,ADMIN_SUSPEND:2040,ADMIN_TAXATION_WRITE:2041,ADMIN_LOGINAS_PUBLIC:2042,ADMIN_MASS_REMOVAL:2043,ADMIN_REMOVE_SITE:2044,ADMIN_TERMINATE_MEMBER_ACCOUNT:2045,ADMIN_DOMAIN_REMOVE:2046,ADMIN_GOOGLE_APPS_LINK:2047,ADMIN_REFERRALS_READ:2048,ADMIN_SURVEYS:2049}},27:function(f,c,a){f.exports={"default":a(719),__esModule:!0}},273:function(f,c){f.exports={USER:1,CHRONOLOGICAL:2,CUSTOM:3,CALENDAR:4,MUSIC_ALBUM:5,KNOWLEDGE_BASE:6}},28:function(f,c,a){f.exports={"default":a(400),__esModule:!0}},
281:function(f,c,a){function e(a){return a&&a.__esModule?a:{"default":a}}c=a(19);var h=e(c);c=a(18);var n=e(c);c=a(1);var d=e(c);c=a(2);var m=e(c),b=a(629);c=a(11);var k=a(1048),g=a(59),p=a(1112),q=a(273),l=a(338);a=a(2456);var v=a.DEFAULT_COLLECTION_CONFIGURATIONS,C=a.DEFAULT_COLLECTION_CONFIGURATION,w=a.DEFAULT_TEMPLATE_PAGE_CONFIGURATION;a=function(){function a(){(0,d.default)(this,a);this.bindListeners({handleLoadTemplate:p.LOAD_TEMPLATE,staticInitialized:g.BOOTSTRAP});this.exportPublicMethods({isTemplateOwner:this.isTemplateOwner,
getCollectionConfig:this.getCollectionConfig,getCustomType:this.getCustomType,getPageConfig:this.getPageConfig})}(0,m.default)(a,[{key:"getCollectionConfig",value:function(a){return this.getState().collectionConfigs[a]}},{key:"getCustomType",value:function(a){return this.getState().customTypes[a]}},{key:"getPageConfig",value:function(a){return this.getState().pageConfigs[a]}},{key:"isTemplateOwner",value:function(){var a=this.getState();return a.ownerWebsiteId===a.websiteId}},{key:"staticInitialized",
value:function(a){this.setTemplateData(a.template);this.demoCollections=this.processDemoCollections(a.demoCollections);this.websiteId=a.website.id;a.templateInstallation&&(this.installationId=a.templateInstallation.id)}},{key:"handleLoadTemplate",value:function(a){this.waitFor(k.dispatchToken);a.error?this.error=a.response:(this.error=null,this.setTemplateData(a.template),this.demoCollections=this.processDemoCollections(a.demoCollections),this.installationId=a.installation.id)}},{key:"setTemplateData",
value:function(a){a&&(this.id=a.id,this.name=a.name,this.updatedOn=a.updatedOn,this.ownerWebsiteId=a.ownerWebsiteId,this.collectionConfigs=this.processCollectionConfigs(a.collectionConfigs),this.pageConfigs=this.processPageConfigs(a.pageConfigs),this.customTypes=this.processCustomTypes(a.customTypes),this.layouts=this.processLayouts(a.layouts),this.navigations=a.navigations)}},{key:"processCollectionConfigs",value:function(a){a.products&&(a.products=(0,n.default)({},v.products,a.products),a.products.acceptTypes&&
0===a.products.acceptTypes.length&&(a.products.acceptTypes=v.products.acceptTypes),a.products.ordering=q.USER);a.page&&(a.page=(0,n.default)({},v.page,a.page));a=(0,n.default)({},v,a);a=b(a,function(a){a=(0,n.default)({},C,a);!0===a.variation?a.folderBehavior=l.VARIATION:!0===a.index?a.folderBehavior=l.INDEX:!0===a.folder&&(a.folderBehavior=l.NONE);return a});var d=a.folders||a.folder;d&&(d.acceptTypes=this.calculateFolderAcceptTypes(a));return a}},{key:"calculateFolderAcceptTypes",value:function(a){var b=
["subscription","gallery-block","template-page"];return(0,h.default)(a).filter(function(d){return a[d].folder?!1:-1===b.indexOf(d)}).concat(["link"])}},{key:"processPageConfigs",value:function(a){return b(a,function(a){return(0,n.default)({},w,a)})}},{key:"processCustomTypes",value:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(a,b){a[b.name]=b;return a},{})}},{key:"processDemoCollections",value:function(a){return a||[]}},{key:"processLayouts",value:function(a){return a||
{}}}]);return a}();f.exports=c.createStore(a,"TemplateStore")},330:function(f,c){f.exports={ADD_PAGES:1,ADD_CONTRIBUTORS:2,ADD_COMMERCE_PRODUCTS:3,DEVELOPER_SDK:4,MOBILE_PORTFOLIO:5,COMMERCE:6,ACCOUNTING:7,SHIPSTATION_INTEGRATION:8,ABANDONED_CART_RECOVERY:9,REAL_TIME_SHIPPING_RATES:10,COMMERCE_TRANSACTION_FEE:11,FREE_GOOGLE_APPS_INBOX:12,GOOGLE_AD_WORDS_CREDIT:13,VAT_COLLECTION_BETA:14,MULTICURRENCY_BETA:15,STRICT_GOOGLE_APPS_FREE_INBOX_POLICY:16,CRM:17,AUTO_TRIGGERED_DISCOUNTS:18,ACUITY:19,COMMERCE_CHECKOUT_ON_DOMAIN:20}},
338:function(f,c){f.exports={INDEX:1,REDIRECT:2,NONE:3,VARIATION:4}},344:function(f,c,a){function e(a){return a&&a.__esModule?a:{"default":a}}c=a(175);var h=e(c);c=a(18);var n=e(c);c=a(25);var d=e(c);c=a(123);var m=e(c);c=a(1);var b=e(c);c=a(2);var k=e(c),g=a(546).CancellationError,p=a(184);c=a(11);var q=a(354),l=a(578),v=a(663).isValidUploadToken,C=a(214).trackCaughtError,w=function(){},s=[],z=[],r=p(function(){0<s.length&&6>z.length&&s.splice(0,Math.min(6-z.length,s.length)).forEach(function(a){var b=
a.dequeue;z.push(a.token.getId());b()})},100),t=function(a){a=z.indexOf(a.getId());-1<a&&z.splice(a,1);r()};a=function(){function a(){(0,b.default)(this,a);this.generateActions("uploadProgress","cleanUploadData")}(0,k.default)(a,[{key:"uploadFile",value:function(a,b,d){var c=this;return function(g){v(a)?(l.uploadFile(a.getId(),b,d,{onProgress:function(b){return c.uploadProgress({token:a,percent:b})},onCancel:w}).then(function(b){return c.uploadSuccess(a,b,d)},function(b){return c.uploadFailure(a,
b)}),g({token:a,data:d})):c.uploadFailure(a,Error("Upload token is invalid"))}}},{key:"uploadFiles",value:function(a,b,d){var c=this;d=d.map(function(b,d){return{token:a[d],data:b}});s.push.apply(s,(0,m.default)(d.map(function(a){var d=a.token,g=a.data;return{token:d,dequeue:function(){return c.uploadFile(d,b,g)}}})));r();return d}},{key:"uploadFromFileUrl",value:function(a,b,c){var g=this;return function(h){if(v(a))return h({token:a,data:c}),l.uploadFromFileUrl(a.getId(),b,c).then(function(b){return g.uploadSuccess(a,
b,c)},function(b){g.uploadFailure(a,b);return d.default.reject({token:a,error:b})});g.uploadFailure(a,Error("Upload token is invalid"))}}},{key:"uploadSuccess",value:function(a,b,d){var c=b=b.data,g=c.job,c=c.media,h=d.replaceItemId,k=d.Filedata,m=d.fileUrl;c&&(b={job:g,contentItem:c[0]});-1<d.contentType.indexOf("image")?(0,n.default)(b,{replaceItemId:h,fileData:k,fileUrl:m}):h&&(b.replaceItemId=h);t(a);(d=g&&g.id||b.processingJobId)&&q.monitor.defer(d);return{token:a,data:b}}},{key:"uploadFailure",
value:function(a,b){if(!(b instanceof g)){var d=b.message||b.statusText||b;b.data&&C("damask","Upload Error: "+(0,h.default)(b.data));t(a);return{token:a,error:d}}}},{key:"cancelUpload",value:function(a){var b=s.findIndex(function(b){return b.token===a});-1<b&&s.splice(b,1);t(a);l.cancelFileUpload(a.getId());return a}}]);return a}();f.exports=c.createActions(a)},350:function(f,c,a){var e=a(351);f.exports=function(a,c){return!(!a||!a.length)&&-1<e(a,c,0)}},351:function(f,c,a){var e=a(402),h=a(656);
f.exports=function(a,d,c){if(d!==d)return e(a,h,c);c-=1;for(var b=a.length;++c<b;)if(a[c]===d)return c;return-1}},354:function(f,c,a){var e=(c=a(1))&&c.__esModule?c:{"default":c},h=(c=a(2))&&c.__esModule?c:{"default":c},n=a(760),d=a(1019);c=a(11);var m=a(1026),b=a(1059),k=a(187),g={interval:2E3,increment:400,maxInterval:12E4,maxIterations:1E3},p=[k.WAITING,k.PROCESSING],q=void 0,l=[],v=function(a){q?q.reset():q=new b(a,g);q.run()};a=function(){function a(){(0,e.default)(this,a);this.generateActions("complete")}
(0,h.default)(a,[{key:"monitor",value:function(a){var b=this;l=n(l.concat(a));0<l.length&&v(function(){0===l.length?q&&(q.cancel(),q=null):b.load(l)});return a}},{key:"load",value:function(a){var b=this;return m.load(a).then(function(d){d=d.data;Array.isArray(d)&&0===d.length&&(d=a.map(function(a){return{id:a,status:k.SUCCESS}}));b.loadSuccess(d);return d})}},{key:"loadChildren",value:function(a){var b=this;return m.loadChildren(a).then(function(a){a=a.jobs;b.loadSuccess(a);return a})}},{key:"loadExisting",
value:function(){var a=this;return m.loadExisting().then(function(b){b=b.data;a.loadSuccess(b);return b})}},{key:"loadSuccess",value:function(a){l=d(l,a.filter(function(a){return!(-1<p.indexOf(a.status))}).map(function(a){return a.id}));var b=a.filter(function(a){return a.status===k.SUCCESS});0<b.length&&this.complete.defer(b.map(function(a){return a.id}));return a}},{key:"cancel",value:function(a){return function(b){b(a);b=l.indexOf(a);-1<b&&l.splice(b,1);return m.delete(a)}}},{key:"delete",value:function(a){return function(b){b(a);
b=l.indexOf(a);-1<b&&l.splice(b,1);return m.delete(a)}}}]);return a}();f.exports=c.createActions(a)},36:function(f,c,a){function e(a){return a&&a.__esModule?a:{"default":a}}c.__esModule=!0;f=a(449);var h=e(f);f=a(623);var n=e(f);a=a(76);var d=e(a);c.default=function(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof b?"undefined":(0,d.default)(b)));a.prototype=(0,n.default)(b&&b.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});b&&(h.default?(0,h.default)(a,b):a.__proto__=b)}},360:function(f,c,a){function e(a){return a&&a.__esModule?a:{"default":a}}c=a(19);e(c);c=a(1);var h=e(c);c=a(2);var n=e(c);c=a(11);var d=a(1053);a=function(){function a(){(0,h.default)(this,a);this.generateActions("update","saveSuccess","loadSuccess")}(0,n.default)(a,[{key:"save",value:function(a,c){var g=this;return d.save(a,c?{isOnboarding:c}:{}).then(function(a){return g.saveSuccess(a.data)})}},{key:"load",
value:function(){var a=this;return d.load().then(function(d){return a.loadSuccess(d.data)})}}]);return a}();f.exports=c.createActions(a)},37:function(f,c,a){c.__esModule=!0;var e=(f=a(76))&&f.__esModule?f:{"default":f};c.default=function(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&("object"===("undefined"===typeof c?"undefined":(0,e.default)(c))||"function"===typeof c)?c:a}},3730:function(f,c,a){var e=a(4);YUI.add("squarespace-simple-liking",
function(a){var c=a.config.win.Static;a.Squarespace.SimpleLike={TEXT_LIKE_VERB_NONE:e("No Likes"),TEXT_LIKE_VERB_SINGULAR:"Like",TEXT_LIKE_VERB_PLURAL:"Likes",TEXT_LIKE_ACTIVATED:e("You like this"),TEXT_LIKE_SUGGEST:e("Click to like"),attached:!1,attach:function(){if(!this.attached){this.attached=!0;var d;try{localStorage&&((d=a.JSON.parse(localStorage.getItem("squarespace-likes")))||(d={}),localStorage.setItem("squarespace-likes",a.JSON.stringify(d)))}catch(m){d={}}this.eventHandlers=[];var b=a.delegate("click",
function(b){b=b.currentTarget;var c=b.getAttribute("data-item-id");if(c){for(var m=0;5>m;++m)a.Squarespace.SimpleLike.burst(b);if(!b.hasClass("clicked")&&!b.hasClass("float")){m=parseInt(b.getAttribute("data-like-count"),10);b.setAttribute("data-like-count",m+1);a.Squarespace.SimpleLike.renderLikeCount(b);b.addClass("clicked");try{localStorage&&(d[c]=!0,localStorage.setItem("squarespace-likes",a.JSON.stringify(d)))}catch(n){console.warn("Unable to save like to local storage: ",n)}(new a.Squarespace.Models.ContentItem({id:c})).like(function(b,
d){d.commited&&console.log("Like was counted!");a.Lang.isValue(b)&&b.crumbFail&&!a.Squarespace.Utils.areCookiesEnabled()&&alert(e("You need to enable cookies to be able to like something."))})}}},"body",".sqs-simple-like");this.eventHandlers.push(b);a.all(".sqs-simple-like").each(function(b){var g=b.getAttribute("data-item-id");g&&(c.SQUARESPACE_CONTEXT.websiteSettings.simpleLikingEnabled||b.remove(),d[g]&&b.addClass("clicked"),a.Squarespace.SimpleLike.renderLikeCount(b))})}},detach:function(){this.attached=
!1;this.eventHandlers.forEach(function(a){a.detach()})},renderLikeCount:function(d){var c=d.getAttribute("data-item-id"),b=d.getAttribute("data-like-count");d=d.one(".like-count");c&&d&&(c="",c=0===b?a.Squarespace.SimpleLike.TEXT_LIKE_VERB_NONE:1==b?"1 "+a.Squarespace.SimpleLike.TEXT_LIKE_VERB_SINGULAR:b+" "+a.Squarespace.SimpleLike.TEXT_LIKE_VERB_PLURAL,d.setContent(c))},burst:function(d){var c=d.cloneNode(!0);c.one(".like-count")&&c.one(".like-count").remove();var b=d.one(".like-icon");if(!b||"none"===
b.getStyle("display"))b=d;c.setStyles({position:"absolute",left:b.getX()+"px",top:b.getY()+"px"});a.one(a.config.doc.body).append(c);d=new a.Anim({node:c,duration:2,easing:a.Easing.easeOut});d.set("to",{curve:a.Squarespace.SimpleLike.randomCurve(c)});d.on("end",function(){this.get("node").remove()});d.run();c.removeClass("clicked");c.addClass("float")},randomCurve:function(a){var c=[],b=Math.floor(2*Math.random())?1:-1,e=Math.floor(2*Math.random())?1:-1,g=a.getX();a=a.getY();for(var h=0;3>h;++h)g+=
Math.floor(30*Math.random())*b,a+=Math.floor(30*Math.random())*e,c.push([g,a]);return c}};a.config.win.Squarespace.onInitialize(a,function(){c.SQUARESPACE_CONTEXT.websiteSettings.simpleLikingEnabled&&a.Squarespace.SimpleLike.attach()});a.config.win.Squarespace.onDestroy(a,function(){!0===a.Squarespace.SimpleLike.attached&&a.Squarespace.SimpleLike.detach()})},"1.0",{requires:["anim","json","node","squarespace-models-content-item","squarespace-util"]})},380:function(f,c,a){function e(a,c){c.forEach(function(c){Object.keys(Object(c)).forEach(function(b){a(b,
c[b])})})}Object.defineProperty(c,"__esModule",{value:!0});c.isPojo=function(a){var c=a.constructor;return!!a&&"object"===typeof a&&"[object Object]"===Object.prototype.toString.call(a)&&h(c)&&(c instanceof c||"AltStore"===a.type)};c.isPromise=function(a){return!!a&&("object"===typeof a||"function"===typeof a)&&"function"===typeof a.then};c.eachObject=e;c.assign=function(a){for(var c=arguments.length,h=Array(1<c?c-1:0),b=1;b<c;b++)h[b-1]=arguments[b];e(function(b,c){return a[b]=c},h);return a};var h=
function(a){return"function"===typeof a};c.isFunction=h},381:function(f,c,a){a(420);f.exports=a(30).Object.keys},382:function(f,c){f.exports=function(a,c,h){for(var f=-1,d=a?a.length:0;++f<d;)if(h(c,a[f]))return!0;return!1}},384:function(f,c){f.exports=function(a,c){return a.has(c)}},385:function(f,c,a){var e=(c=a(1))&&c.__esModule?c:{"default":c},h=(c=a(2))&&c.__esModule?c:{"default":c},n=a(46).Set,d=a(1570),m=a(1094);c=a(11);var b=a(131),k=a(265),g=a(59),p=a(63),q=a(672),l=function(a){return p(a)&&
a.every(function(a){return q(a)})};a=function(){function a(){(0,e.default)(this,a);this.state=n();this.bindListeners({onStaticBootstrap:g.BOOTSTRAP});this.exportPublicMethods({hasPermission:this.hasPermission,hasAllPermissions:this.hasAllPermissions,hasAnyPermission:this.hasAnyPermission,isAdmin:this.isAdmin})}(0,h.default)(a,[{key:"onStaticBootstrap",value:function(a){a=a.accessPermissions;return l(a)?(this.setState(n(a)),!0):!1}},{key:"hasPermission",value:function(a){var b=this.getState(),c="string"===
typeof a?k[a]:a;if(void 0===c)throw Error(a?"Permission '"+a+"' not found.":"Permission is undefined.");return b.has(c)}},{key:"hasAllPermissions",value:function(a){return d(a,this.hasPermission.bind(this))}},{key:"hasAnyPermission",value:function(a){return m(a,this.hasPermission.bind(this))}},{key:"isAdmin",value:function(){return this.hasPermission(k.ADMIN)}}]);return a}();f.exports=c.createStore(b(a,{onDeserialize:function(a){return n.of(a)}}),"AccessPermissionStore")},389:function(f,c){f.exports=
{STRIPE:1,PAYPAL:2}},396:function(f,c){YUI.add("model",function(a,c){function h(){h.superclass.constructor.apply(this,arguments)}var f=YUI.namespace("Env.Model"),d=a.Lang,m=a.Array,b=a.Object,k="error";a.Model=a.extend(h,a.Base,{idAttribute:"id",_allowAdHocAttrs:!0,_isYUIModel:!0,initializer:function(a){this.changed={};this.lastChange={};this.lists=[]},destroy:function(a,b){var c=this;"function"===typeof a&&(b=a,a=null);c.onceAfter("destroy",function(){function d(h){h||m.each(c.lists.concat(),function(b){b.remove(c,
a)});b&&b.apply(null,arguments)}a&&(a.remove||a["delete"])?c.sync("delete",a,d):d()});return h.superclass.destroy.call(c)},generateClientId:function(){f.lastId||(f.lastId=0);return this.constructor.NAME+"_"+(f.lastId+=1)},getAsHTML:function(b){b=this.get(b);return a.Escape.html(d.isValue(b)?String(b):"")},getAsURL:function(a){a=this.get(a);return encodeURIComponent(d.isValue(a)?String(a):"")},isModified:function(){return this.isNew()||!b.isEmpty(this.changed)},isNew:function(){return!d.isValue(this.get("id"))},
load:function(a,b){var c=this;"function"===typeof a&&(b=a,a={});a||(a={});c.sync("read",a,function(d,h){var e={options:a,response:h},f;d?(e.error=d,e.src="load",c.fire(k,e)):(c._loadEvent||(c._loadEvent=c.publish("load",{preventable:!1})),f=e.parsed=c._parse(h),c.setAttrs(f,a),c.changed={},c.fire("load",e));b&&b.apply(null,arguments)});return c},parse:function(b){if("string"===typeof b)try{return a.JSON.parse(b)}catch(c){return this.fire(k,{error:c,response:b,src:"parse"}),null}return b},save:function(a,
b){var c=this;"function"===typeof a&&(b=a,a={});a||(a={});c._validate(c.toJSON(),function(d){d?b&&b.call(null,d):c.sync(c.isNew()?"create":"update",a,function(d,h){var e={options:a,response:h},l;d?(e.error=d,e.src="save",c.fire(k,e)):(c._saveEvent||(c._saveEvent=c.publish("save",{preventable:!1})),h&&(l=e.parsed=c._parse(h),c.setAttrs(l,a)),c.changed={},c.fire("save",e));b&&b.apply(null,arguments)})});return c},set:function(a,b,c){var d={};d[a]=b;return this.setAttrs(d,c)},setAttrs:function(c,d){var e=
this.idAttribute,h,k,f,m;d=a.merge(d);m=d._transaction={};"id"!==e&&(c=a.merge(c),b.owns(c,e)?c.id=c[e]:b.owns(c,"id")&&(c[e]=c.id));for(k in c)b.owns(c,k)&&this._setAttr(k,c[k],d);if(!b.isEmpty(m)){e=this.changed;f=this.lastChange={};for(k in m)b.owns(m,k)&&(h=m[k],e[k]=h.newVal,f[k]={newVal:h.newVal,prevVal:h.prevVal,src:h.src||null});d.silent||(this._changeEvent||(this._changeEvent=this.publish("change",{preventable:!1})),d.changed=f,this.fire("change",d))}return this},sync:function(){var a=m(arguments,
0,!0).pop();"function"===typeof a&&a()},toJSON:function(){var a=this.getAttrs();delete a.clientId;delete a.destroyed;delete a.initialized;"id"!==this.idAttribute&&delete a.id;return a},undo:function(a,c){var d=this.lastChange,e=this.idAttribute,h={},k;a||(a=b.keys(d));m.each(a,function(a){b.owns(d,a)&&(a=a===e?"id":a,k=!0,h[a]=d[a].prevVal)});return k?this.setAttrs(h,c):this},validate:function(a,b){b&&b()},addAttr:function(a,b,c){var e=this.idAttribute,k;e&&a===e&&(e=this._isLazyAttr("id")||this._getAttrCfg("id"),
k=b.value===b.defaultValue?null:b.value,d.isValue(k)||(k=e.value===e.defaultValue?null:e.value,d.isValue(k)||(k=d.isValue(b.defaultValue)?b.defaultValue:e.defaultValue)),b.value=k,e.value!==k&&(e.value=k,this._isLazyAttr("id")?this._state.add("id","lazy",e):this._state.add("id","value",k)));return h.superclass.addAttr.apply(this,arguments)},_parse:function(a){return this.parse(a)},_validate:function(a,b){function c(h){d.isValue(h)?(e.fire(k,{attributes:a,error:h,src:"validate"}),b(h)):b()}var e=this;
1===e.validate.length?c(e.validate(a,c)):e.validate(a,c)},_setAttrVal:function(a,b,c,d,e,k){var f=h.superclass._setAttrVal.apply(this,arguments),m=e&&e._transaction,n=k&&k.initializing;f&&(m&&!n)&&(m[a]={newVal:this.get(a),prevVal:c,src:e.src||null});return f}},{NAME:"model",ATTRS:{clientId:{valueFn:"generateClientId",readOnly:!0},id:{value:null}}})},"3.17.2",{requires:["base-build","escape","json-parse"]})},400:function(f,c,a){a(452);f.exports=a(30).Object.getPrototypeOf},401:function(f,c,a){a(453);
f.exports=a(30).Object.setPrototypeOf},402:function(f,c){f.exports=function(a,c,h,f){var d=a.length;for(h+=f?1:-1;f?h--:++h<d;)if(c(a[h],h,a))return h;return-1}},420:function(f,c,a){var e=a(143),h=a(121);a(182)("keys",function(){return function(a){return h(e(a))}})},442:function(f,c,a){var e=a(63),h=a(206),n=Object.prototype.toString;f.exports=function(a){return"string"==typeof a||!e(a)&&h(a)&&"[object String]"==n.call(a)}},447:function(f,c,a){function e(a){return a&&a.__esModule?a:{"default":a}}
c=a(25);var h=e(c);c=a(76);var n=e(c);c=a(18);var d=e(c);c=a(1);var m=e(c);c=a(2);var b=e(c),k=a(214),g=a(442),p=a(211),q=a(1058),l=a(1417),v={useLoginFlag:!1,includeWebsiteList:!1,targetIdentifier:null,authenticationType:null,startSubscription:!1},C={serviceProvider:null,customParameters:null,urlParams:{}},w=function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"===b?c:c&7|8).toString(16)})},
s=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,m.default)(this,a);this.urlParams=(0,d.default)({},v,b);this.urlParams.uuid=w();this.reset();this.boundMessageReceiver=this.receiveMessage.bind(this)}(0,b.default)(a,[{key:"getAuthResponse",value:function(){return{socialConfig:this.socialConfig,websites:this.websites,website:this.website,memberAccount:this.memberAccount}}},{key:"openPopupWindow",value:function(a,b){var c="/auth/ExternalAuthenticationInitiate?"+
this.buildQueryParams(a,b);this.oauthWindow=window.open(c,"ConnectWithOAuth","location=0,status=0,scrollbars=1,width=1020,height=520");window.addEventListener("message",this.boundMessageReceiver)}},{key:"reset",value:function(){this.socialConfig=this.memberAccount=this.website=this.websites=null;this.messageReceived=!1}},{key:"buildQueryParams",value:function(a,b){var c=(0,d.default)({},this.urlParams,b);c.serviceProvider=g(a)?p[a.toUpperCase()]:a;a===p.FACEBOOK&&(c.redirArgs=encodeURIComponent("scopeuser_checkins,offline_access,manage_pages,publish_stream"));
c.useLoginFlag&&(c.loginFlag=!0,delete c.useLoginFlag);var e=this.getInviteCode();e&&(c.invitation=e);return l.stringify(c,{skipNulls:!0,filter:function(a,b){if(!1!==b)return b}})}},{key:"getInviteCode",value:function(){var a=document.location.search;"?"===a[0]&&(a=a.slice(1));return l.parse(a).invitation}},{key:"receiveMessage",value:function(a){var b;a=a.data;try{b=JSON.parse(a)}catch(c){k.trackCaughtError("damask",'ExternalAuthentication could not parse data: "'+a+'"',c.stack||[]),b=null}if(null!==
b&&"object"===("undefined"===typeof b?"undefined":(0,n.default)(b)))this.saveAuthResponse(b),this.messageReceived=!0}},{key:"saveAuthResponse",value:function(a){this.websites=a.websites;this.memberAccount=a.memberAccount;this.website=a.website;this.socialConfig=a.config?a.config:a.socialConfig}},{key:"checkClosedOnInterval",value:function(a,b){this.oauthWindow.closed?(window.removeEventListener("message",this._boundMessageReceiver),setTimeout(function(){var c=this;this.messageReceived?a(this.getAuthResponse()):
q.getResult(this.urlParams.uuid).then(function(b){c.saveAuthResponse(b);a(c.getAuthResponse())},b).catch(b)}.bind(this,a,b),20)):setTimeout(this.checkClosedOnInterval.bind(this,a,b),200)}}]);return a}();f.exports={authenticate:function(a){a=(0,d.default)({},C,a);if(null===a.serviceProvider||!["string","number"].includes((0,n.default)(a.serviceProvider)))throw Error("Invalid or nonexistant oauth service provider");var b=new s(a.urlParams);return new h.default(function(c,d){b.openPopupWindow(a.serviceProvider,
a.customParameters);b.checkClosedOnInterval(c,d)})}}},449:function(f,c,a){f.exports={"default":a(401),__esModule:!0}},450:function(f,c,a){var e=a(115),h=a(90),n=function(a,c){h(a);if(!e(c)&&null!==c)throw TypeError(c+": can't set as prototype!");};f.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(c,e,b){try{b=a(136)(Function.call,a(271).f(Object.prototype,"__proto__").set,2),b(c,[]),e=!(c instanceof Array)}catch(h){e=!0}return function(a,c){n(a,c);e?a.__proto__=c:b(a,c);return a}}({},
!1):void 0),check:n}},452:function(f,c,a){var e=a(143),h=a(436);a(182)("getPrototypeOf",function(){return function(a){return h(e(a))}})},453:function(f,c,a){f=a(69);f(f.S,"Object",{setPrototypeOf:a(450).set})},454:function(f,c,a){var e=a(637);f.exports=function(a,c){a=Object(a);return e(a,c,function(c,e){return e in a})}},46:function(f,c,a){(function(a,c){f.exports=c()})(this,function(){function a(u,b){b&&(u.prototype=Object.create(b.prototype));u.prototype.constructor=u}function c(a){return b(a)?
a:M(a)}function f(a){return k(a)?a:U(a)}function d(a){return g(a)?a:L(a)}function m(a){return b(a)&&!p(a)?a:ca(a)}function b(a){return!(!a||!a[Jb])}function k(a){return!(!a||!a[Kb])}function g(a){return!(!a||!a[Lb])}function p(a){return k(a)||g(a)}function q(a){return!(!a||!a[wa])}function l(a){a.value=!1;return a}function v(a){a&&(a.value=!0)}function C(){}function w(a,b){b=b||0;for(var c=Math.max(0,a.length-b),d=Array(c),A=0;A<c;A++)d[A]=a[A+b];return d}function s(a){void 0===a.size&&(a.size=a.__iterate(r));
return a.size}function z(a,b){if("number"!==typeof b){var c=b>>>0;if(""+c!==b||4294967295===c)return NaN;b=c}return 0>b?s(a)+b:b}function r(){return!0}function t(a,b,c){return(0===a||void 0!==c&&a<=-c)&&(void 0===b||void 0!==c&&b>=c)}function F(a,b,c){return void 0===a?c:0>a?Math.max(0,b+a):void 0===b?a:Math.min(b,a)}function x(a){this.next=a}function B(a,b,c,d){a=0===a?b:1===a?c:[b,c];d?d.value=a:d={value:a,done:!1};return d}function y(){return{value:void 0,done:!0}}function aa(a){return a&&"function"===
typeof a.next}function ba(a){var b=Ga(a);return b&&b.call(a)}function Ga(a){a=a&&(db&&a[db]||a[Nb]);if("function"===typeof a)return a}function M(a){if(null===a||void 0===a)a=Sa();else if(b(a))a=a.toSeq();else{var c=Ob(a)||"object"===typeof a&&new pa(a);if(!c)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+a);a=c}return a}function U(a){return null===a||void 0===a?Sa().toKeyedSeq():b(a)?k(a)?a.toSeq():a.fromEntrySeq():Pb(a)}function L(a){return null===a||void 0===
a?Sa():!b(a)?eb(a):k(a)?a.entrySeq():a.toIndexedSeq()}function ca(a){return(null===a||void 0===a?Sa():!b(a)?eb(a):k(a)?a.entrySeq():a).toSetSeq()}function ia(a){this._array=a;this.size=a.length}function pa(a){var b=Object.keys(a);this._object=a;this._keys=b;this.size=b.length}function Ha(a){this._iterable=a;this.size=a.length||a.size}function Ia(a){this._iterator=a;this._iteratorCache=[]}function fb(a){return!(!a||!a[Qb])}function Sa(){return Rb||(Rb=new ia([]))}function Pb(a){var b=Array.isArray(a)?
(new ia(a)).fromEntrySeq():aa(a)?(new Ia(a)).fromEntrySeq():Ga(a)?(new Ha(a)).fromEntrySeq():"object"===typeof a?new pa(a):void 0;if(!b)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+a);return b}function eb(a){var b=Ob(a);if(!b)throw new TypeError("Expected Array or iterable object of values: "+a);return b}function Ob(a){return a&&"number"===typeof a.length?new ia(a):aa(a)?new Ia(a):Ga(a)?new Ha(a):void 0}function Sb(a,b,c,d){var A=a._cache;if(A){for(var g=
A.length-1,e=0;e<=g;e++){var k=A[c?g-e:e];if(!1===b(k[1],d?k[0]:e,a))return e+1}return e}return a.__iterateUncached(b,c)}function Tb(a,b,c,d){var A=a._cache;if(A){var g=A.length-1,e=0;return new x(function(){var a=A[c?g-e:e];return e++>g?y():B(b,d?a[0]:e-1,a[1])})}return a.__iteratorUncached(b,c)}function gb(a,b){return b?hb(b,a,"",{"":a}):ib(a)}function hb(a,b,c,d){return Array.isArray(b)?a.call(d,c,L(b).map(function(c,d){return hb(a,c,d,b)})):b&&(b.constructor===Object||void 0===b.constructor)?
a.call(d,c,U(b).map(function(c,d){return hb(a,c,d,b)})):b}function ib(a){return Array.isArray(a)?L(a).map(ib).toList():a&&(a.constructor===Object||void 0===a.constructor)?U(a).map(ib).toMap():a}function N(a,b){if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1;if("function"===typeof a.valueOf&&"function"===typeof b.valueOf){a=a.valueOf();b=b.valueOf();if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1}return"function"===typeof a.equals&&"function"===typeof b.equals&&a.equals(b)?!0:!1}function jb(a,
c){if(a===c)return!0;if(!b(c)||void 0!==a.size&&void 0!==c.size&&a.size!==c.size||void 0!==a.__hash&&void 0!==c.__hash&&a.__hash!==c.__hash||k(a)!==k(c)||g(a)!==g(c)||q(a)!==q(c))return!1;if(0===a.size&&0===c.size)return!0;var d=!p(a);if(q(a)){var da=a.entries();return c.every(function(a,b){var u=da.next().value;return u&&N(u[1],a)&&(d||N(u[0],b))})&&da.next().done}var A=!1;if(void 0===a.size)if(void 0===c.size)"function"===typeof a.cacheResult&&a.cacheResult();else{var A=!0,e=a;a=c;c=e}var f=!0,
e=c.__iterate(function(b,c){if(d?!a.has(b):A?!N(b,a.get(c,E)):!N(a.get(c,E),b))return f=!1});return f&&a.size===e}function R(a,b){if(!(this instanceof R))return new R(a,b);this._value=a;this.size=void 0===b?Infinity:Math.max(0,b);if(0===this.size){if(kb)return kb;kb=this}}function Ta(a,b){if(!a)throw Error(b);}function S(a,b,c){if(!(this instanceof S))return new S(a,b,c);Ta(0!==c,"Cannot step a Range by 0");a=a||0;void 0===b&&(b=Infinity);c=void 0===c?1:Math.abs(c);b<a&&(c=-c);this._start=a;this._end=
b;this._step=c;this.size=Math.max(0,Math.ceil((b-a)/c-1)+1);if(0===this.size){if(lb)return lb;lb=this}}function qa(){throw TypeError("Abstract");}function Ja(){}function xa(){}function Ua(){}function X(a){if(!1===a||(null===a||void 0===a)||"function"===typeof a.valueOf&&(a=a.valueOf(),!1===a||null===a||void 0===a))return 0;if(!0===a)return 1;var b=typeof a;if("number"===b){b=a|0;for(b!==a&&(b^=4294967295*a);4294967295<a;)a/=4294967295,b^=a;return b>>>1&1073741824|b&3221225471}if("string"===b)return a.length>
Hc?(b=mb[a],void 0===b&&(b=nb(a),ob===Ic&&(ob=0,mb={}),ob++,mb[a]=b),a=b):a=nb(a),a;if("function"===typeof a.hashCode)return a.hashCode();if("object"===b)return Jc(a);if("function"===typeof a.toString)return nb(a.toString());throw Error("Value type "+b+" cannot be hashed.");}function nb(a){for(var b=0,c=0;c<a.length;c++)b=31*b+a.charCodeAt(c)|0;return b>>>1&1073741824|b&3221225471}function Jc(a){var b;if(pb&&(b=qb.get(a),void 0!==b))return b;b=a[ta];if(void 0!==b)return b;if(!Va){b=a.propertyIsEnumerable&&
a.propertyIsEnumerable[ta];if(void 0!==b)return b;a:{if(a&&0<a.nodeType)switch(a.nodeType){case 1:b=a.uniqueID;break a;case 9:b=a.documentElement&&a.documentElement.uniqueID;break a}b=void 0}if(void 0!==b)return b}b=++rb;rb&1073741824&&(rb=0);if(pb)qb.set(a,b);else{if(void 0!==Ub&&!1===Ub(a))throw Error("Non-extensible objects are not allowed as keys.");if(Va)Object.defineProperty(a,ta,{enumerable:!1,configurable:!1,writable:!1,value:b});else if(void 0!==a.propertyIsEnumerable&&a.propertyIsEnumerable===
a.constructor.prototype.propertyIsEnumerable)a.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},a.propertyIsEnumerable[ta]=b;else if(void 0!==a.nodeType)a[ta]=b;else throw Error("Unable to set a non-enumerable property on object.");}return b}function Y(a){Ta(Infinity!==a,"Cannot perform this action with an infinite size.")}function G(a){return null===a||void 0===a?ja():sb(a)&&!q(a)?a:ja().withMutations(function(b){var c=f(a);Y(c.size);c.forEach(function(a,
u){return b.set(u,a)})})}function sb(a){return!(!a||!a[Vb])}function Ka(a,b){this.ownerID=a;this.entries=b}function ya(a,b,c){this.ownerID=a;this.bitmap=b;this.nodes=c}function La(a,b,c){this.ownerID=a;this.count=b;this.nodes=c}function ua(a,b,c){this.ownerID=a;this.keyHash=b;this.entries=c}function ka(a,b,c){this.ownerID=a;this.keyHash=b;this.entry=c}function tb(a,b,c){this._type=b;this._reverse=c;this._stack=a._root&&{node:a._root,index:0,__prev:void 0}}function ub(a,b,c,d){var A=Object.create(D);
A.size=a;A._root=b;A.__ownerID=c;A.__hash=d;A.__altered=!1;return A}function ja(){return Wb||(Wb=ub(0))}function Xb(a,b,c){var d;if(a._root){d=l(Kc);var A=l(Yb);b=vb(a._root,a.__ownerID,0,void 0,b,c,d,A);if(!A.value)return a;d=a.size+(d.value?c===E?-1:1:0)}else{if(c===E)return a;d=1;b=new Ka(a.__ownerID,[[b,c]])}return a.__ownerID?(a.size=d,a._root=b,a.__hash=void 0,a.__altered=!0,a):b?ub(d,b):ja()}function vb(a,b,c,d,A,e,g,k){if(!a){if(e===E)return a;v(k);v(g);return new ka(b,d,[A,e])}return a.update(b,
c,d,A,e,g,k)}function wb(a,b,c,d,A){if(a.keyHash===d)return new ua(b,d,[a.entry,A]);var e=(0===c?a.keyHash:a.keyHash>>>c)&V,g=(0===c?d:d>>>c)&V,k;a=e===g?[wb(a,b,c+I,d,A)]:(k=new ka(b,d,A),e<g?[a,k]:[k,a]);return new ya(b,1<<e|1<<g,a)}function Wa(a,c,d){for(var da=[],A=0;A<d.length;A++){var e=d[A],g=f(e);b(e)||(g=g.map(function(a){return gb(a)}));da.push(g)}return Zb(a,c,da)}function $b(a,c,d){return a&&a.mergeDeep&&b(c)?a.mergeDeep(c):N(a,c)?a:c}function ac(a){return function(c,d,da){if(c&&c.mergeDeepWith&&
b(d))return c.mergeDeepWith(a,d);d=a(c,d,da);return N(c,d)?c:d}}function Zb(a,b,c){c=c.filter(function(a){return 0!==a.size});return 0===c.length?a:0===a.size&&!a.__ownerID&&1===c.length?a.constructor(c[0]):a.withMutations(function(a){for(var u=b?function(c,u){a.update(u,E,function(a){return a===E?c:b(a,c,u)})}:function(b,c){a.set(c,b)},d=0;d<c.length;d++)c[d].forEach(u)})}function bc(a,b,c,d){var A=a===E,e=b.next();if(e.done)return A=A?c:a,d=d(A),d===A?a:d;Ta(A||a&&a.set,"invalid keyPath");var e=
e.value,g=A?E:a.get(e,E);d=bc(g,b,c,d);return d===g?a:d===E?a.remove(e):(A?ja():a).set(e,d)}function cc(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);a=a+(a>>4)&252645135;a+=a>>8;return a+(a>>16)&127}function J(a){var b=xb();if(null===a||void 0===a)return b;if(dc(a))return a;var c=d(a),e=c.size;if(0===e)return b;Y(e);return 0<e&&e<ea?Ma(0,e,I,null,new ra(c.toArray())):b.withMutations(function(a){a.setSize(e);c.forEach(function(b,c){return a.set(c,b)})})}function dc(a){return!(!a||!a[ec])}
function ra(a,b){this.array=a;this.ownerID=b}function fc(a,b){function c(a,u){var d=u===k?f&&f.array:a&&a.array,Mb=u>e?0:e-u,da=g-u;da>ea&&(da=ea);return function(){if(Mb===da)return Na;var a=b?--da:Mb++;return d&&d[a]}}function d(a,u,k){var f,h=a&&a.array,m=k>e?0:e-k>>u,l=(g-k>>u)+1;l>ea&&(l=ea);return function(){do{if(f){var a=f();if(a!==Na)return a;f=null}if(m===l)return Na;a=b?--l:m++;f=0===u-I?c(h&&h[a],k+(a<<u)):d(h&&h[a],u-I,k+(a<<u))}while(1)}}var e=a._origin,g=a._capacity,k=Oa(g),f=a._tail;
return 0===a._level?c(a._root,0):d(a._root,a._level,0)}function Ma(a,b,c,d,e,g,k){var f=Object.create(W);f.size=b-a;f._origin=a;f._capacity=b;f._level=c;f._root=d;f._tail=e;f.__ownerID=g;f.__hash=k;f.__altered=!1;return f}function xb(){return gc||(gc=Ma(0,0,I))}function Lc(a,b,c){b=z(a,b);if(b!==b)return a;if(b>=a.size||0>b)return a.withMutations(function(a){0>b?sa(a,b).set(0,c):sa(a,0,b+1).set(b,c)});b+=a._origin;var d=a._tail,e=a._root,g=l(Yb);b>=Oa(a._capacity)?d=yb(d,a.__ownerID,0,b,c,g):e=yb(e,
a.__ownerID,a._level,b,c,g);return!g.value?a:a.__ownerID?(a._root=e,a._tail=d,a.__hash=void 0,a.__altered=!0,a):Ma(a._origin,a._capacity,a._level,e,d)}function yb(a,b,c,d,e,g){var k=d>>>c&V,f=a&&k<a.array.length;if(!f&&void 0===e)return a;if(0<c){f=a&&a.array[k];e=yb(f,b,c-I,d,e,g);if(e===f)return a;a=za(a,b);a.array[k]=e;return a}if(f&&a.array[k]===e)return a;v(g);a=za(a,b);void 0===e&&k===a.array.length-1?a.array.pop():a.array[k]=e;return a}function za(a,b){return b&&a&&b===a.ownerID?a:new ra(a?
a.array.slice():[],b)}function hc(a,b){if(b>=Oa(a._capacity))return a._tail;if(b<1<<a._level+I){for(var c=a._root,d=a._level;c&&0<d;)c=c.array[b>>>d&V],d-=I;return c}}function sa(a,b,c){void 0!==b&&(b|=0);void 0!==c&&(c|=0);var d=a.__ownerID||new C,e=a._origin,g=a._capacity;b=e+b;c=void 0===c?g:0>c?g+c:e+c;if(b===e&&c===g)return a;if(b>=c)return a.clear();for(var k=a._level,f=a._root,h=0;0>b+h;)f=new ra(f&&f.array.length?[void 0,f]:[],d),k+=I,h+=1<<k;h&&(b+=h,e+=h,c+=h,g+=h);for(var m=Oa(g),l=Oa(c);l>=
1<<k+I;)f=new ra(f&&f.array.length?[f]:[],d),k+=I;var h=a._tail,n=l<m?hc(a,c-1):l>m?new ra([],d):h;if(h&&l>m&&b<g&&h.array.length){for(var p=f=za(f,d),q=k;q>I;q-=I)var v=m>>>q&V,p=p.array[v]=za(p.array[v],d);p.array[m>>>I&V]=h}c<g&&(n=n&&n.removeAfter(d,0,c));if(b>=l)b-=l,c-=l,k=I,f=null,n=n&&n.removeBefore(d,0,b);else if(b>e||l<m){for(h=0;f;){g=b>>>k&V;if(g!==l>>>k&V)break;g&&(h+=(1<<k)*g);k-=I;f=f.array[g]}f&&b>e&&(f=f.removeBefore(d,k,b-h));f&&l<m&&(f=f.removeAfter(d,k,l-h));h&&(b-=h,c-=h)}return a.__ownerID?
(a.size=c-b,a._origin=b,a._capacity=c,a._level=k,a._root=f,a._tail=n,a.__hash=void 0,a.__altered=!0,a):Ma(b,c,k,f,n)}function Xa(a,c,e){for(var g=[],k=0,f=0;f<e.length;f++){var h=e[f],l=d(h);l.size>k&&(k=l.size);b(h)||(l=l.map(function(a){return gb(a)}));g.push(l)}k>a.size&&(a=a.setSize(k));return Zb(a,c,g)}function Oa(a){return a<ea?0:a-1>>>I<<I}function O(a){return null===a||void 0===a?Ya():ic(a)?a:Ya().withMutations(function(b){var c=f(a);Y(c.size);c.forEach(function(a,c){return b.set(c,a)})})}
function ic(a){return sb(a)&&q(a)}function zb(a,b,c,d){var e=Object.create(O.prototype);e.size=a?a.size:0;e._map=a;e._list=b;e.__ownerID=c;e.__hash=d;return e}function Ya(){return jc||(jc=zb(ja(),xb()))}function kc(a,b,c){var d=a._map,e=a._list,g=d.get(b),k=void 0!==g;if(c===E){if(!k)return a;e.size>=ea&&e.size>=2*d.size?(b=e.filter(function(a,b){return void 0!==a&&g!==b}),d=b.toKeyedSeq().map(function(a){return a[0]}).flip().toMap(),a.__ownerID&&(d.__ownerID=b.__ownerID=a.__ownerID)):(d=d.remove(b),
b=g===e.size-1?e.pop():e.set(g,void 0))}else if(k){if(c===e.get(g)[1])return a;b=e.set(g,[b,c])}else d=d.set(b,e.size),b=e.set(e.size,[b,c]);return a.__ownerID?(a.size=d.size,a._map=d,a._list=b,a.__hash=void 0,a):zb(d,b)}function fa(a,b){this._iter=a;this._useKeys=b;this.size=a.size}function Aa(a){this._iter=a;this.size=a.size}function Ba(a){this._iter=a;this.size=a.size}function Ca(a){this._iter=a;this.size=a.size}function lc(a){var b=la(a);b._iter=a;b.size=a.size;b.flip=function(){return a};b.reverse=
function(){var b=a.reverse.apply(this);b.flip=function(){return a.reverse()};return b};b.has=function(b){return a.includes(b)};b.includes=function(b){return a.has(b)};b.cacheResult=Ab;b.__iterateUncached=function(b,c){var d=this;return a.__iterate(function(a,c){return!1!==b(c,a,d)},c)};b.__iteratorUncached=function(b,c){if(b===ma){var d=a.__iterator(b,c);return new x(function(){var a=d.next();if(!a.done){var b=a.value[0];a.value[0]=a.value[1];a.value[1]=b}return a})}return a.__iterator(b===ga?Pa:
ga,c)};return b}function mc(a,b,c){var d=la(a);d.size=a.size;d.has=function(b){return a.has(b)};d.get=function(d,e){var g=a.get(d,E);return g===E?e:b.call(c,g,d,a)};d.__iterateUncached=function(d,e){var g=this;return a.__iterate(function(a,u,e){return!1!==d(b.call(c,a,u,e),u,g)},e)};d.__iteratorUncached=function(d,e){var g=a.__iterator(ma,e);return new x(function(){var e=g.next();if(e.done)return e;var k=e.value,f=k[0];return B(d,f,b.call(c,k[1],f,a),e)})};return d}function Bb(a,b){var c=la(a);c._iter=
a;c.size=a.size;c.reverse=function(){return a};a.flip&&(c.flip=function(){var b=lc(a);b.reverse=function(){return a.flip()};return b});c.get=function(c,d){return a.get(b?c:-1-c,d)};c.has=function(c){return a.has(b?c:-1-c)};c.includes=function(b){return a.includes(b)};c.cacheResult=Ab;c.__iterate=function(b,c){var d=this;return a.__iterate(function(a,c){return b(a,c,d)},!c)};c.__iterator=function(b,c){return a.__iterator(b,!c)};return c}function nc(a,b,c,d){var e=la(a);d&&(e.has=function(d){var e=
a.get(d,E);return e!==E&&!!b.call(c,e,d,a)},e.get=function(d,e){var g=a.get(d,E);return g!==E&&b.call(c,g,d,a)?g:e});e.__iterateUncached=function(e,g){var k=this,f=0;a.__iterate(function(a,u,g){if(b.call(c,a,u,g))return f++,e(a,d?u:f-1,k)},g);return f};e.__iteratorUncached=function(e,g){var k=a.__iterator(ma,g),f=0;return new x(function(){for(;;){var g=k.next();if(g.done)return g;var h=g.value,l=h[0],h=h[1];if(b.call(c,h,l,a))return B(e,d?l:f++,h,g)}})};return e}function Mc(a,b,c){var d=G().asMutable();
a.__iterate(function(e,g){d.update(b.call(c,e,g,a),0,function(a){return a+1})});return d.asImmutable()}function Nc(a,b,c){var e=k(a),h=(q(a)?O():G()).asMutable();a.__iterate(function(d,g){h.update(b.call(c,d,g,a),function(a){return a=a||[],a.push(e?[g,d]:d),a})});var l=k(a)?f:g(a)?d:m;return h.map(function(b){return H(a,l(b))})}function Cb(a,b,c,d){var e=a.size;void 0!==b&&(b|=0);void 0!==c&&(c|=0);if(t(b,c,e))return a;var g=F(b,e,0),e=F(c,e,e);if(g!==g||e!==e)return Cb(a.toSeq().cacheResult(),b,
c,d);b=e-g;var k;b===b&&(k=0>b?0:b);b=la(a);b.size=0===k?k:a.size&&k||void 0;!d&&(fb(a)&&0<=k)&&(b.get=function(b,c){b=z(this,b);return 0<=b&&b<k?a.get(b+g,c):c});b.__iterateUncached=function(b,c){var Ra=this;if(0===k)return 0;if(c)return this.cacheResult().__iterate(b,c);var e=0,f=!0,h=0;a.__iterate(function(a,c){if(!f||!(f=e++<g))return h++,!1!==b(a,d?c:h-1,Ra)&&h!==k});return h};b.__iteratorUncached=function(b,c){if(0!==k&&c)return this.cacheResult().__iterator(b,c);var Ra=0!==k&&a.__iterator(b,
c),e=0,f=0;return new x(function(){for(;e++<g;)Ra.next();if(++f>k)return y();var a=Ra.next();return d||b===ga?a:b===Pa?B(b,f-1,void 0,a):B(b,f-1,a.value[1],a)})};return b}function Oc(a,b,c){var d=la(a);d.__iterateUncached=function(d,e){var g=this;if(e)return this.cacheResult().__iterate(d,e);var k=0;a.__iterate(function(a,u,e){return b.call(c,a,u,e)&&++k&&d(a,u,g)});return k};d.__iteratorUncached=function(d,e){var g=this;if(e)return this.cacheResult().__iterator(d,e);var k=a.__iterator(ma,e),f=!0;
return new x(function(){if(!f)return y();var a=k.next();if(a.done)return a;var u=a.value,e=u[0],u=u[1];return!b.call(c,u,e,g)?(f=!1,y()):d===ma?a:B(d,e,u,a)})};return d}function oc(a,b,c,d){var e=la(a);e.__iterateUncached=function(e,g){var k=this;if(g)return this.cacheResult().__iterate(e,g);var f=!0,h=0;a.__iterate(function(a,u,g){if(!f||!(f=b.call(c,a,u,g)))return h++,e(a,d?u:h-1,k)});return h};e.__iteratorUncached=function(e,g){var k=this;if(g)return this.cacheResult().__iterator(e,g);var f=a.__iterator(ma,
g),h=!0,l=0;return new x(function(){var a,u,g;do{a=f.next();if(a.done)return d||e===ga?a:e===Pa?B(e,l++,void 0,a):B(e,l++,a.value[1],a);g=a.value;u=g[0];g=g[1];h&&(h=b.call(c,g,u,k))}while(h);return e===ma?a:B(e,u,g,a)})};return e}function Pc(a,c){var d=k(a),e=[a].concat(c).map(function(a){b(a)?d&&(a=f(a)):a=d?Pb(a):eb(Array.isArray(a)?a:[a]);return a}).filter(function(a){return 0!==a.size});if(0===e.length)return a;if(1===e.length){var h=e[0];if(h===a||d&&k(h)||g(a)&&g(h))return h}h=new ia(e);d?
h=h.toKeyedSeq():g(a)||(h=h.toSetSeq());h=h.flatten(!0);h.size=e.reduce(function(a,b){if(void 0!==a){var c=b.size;if(void 0!==c)return a+c}},0);return h}function pc(a,c,d){var e=la(a);e.__iterateUncached=function(e,g){function k(a,u){var l=this;a.__iterate(function(a,g){if((!c||u<c)&&b(a))k(a,u+1);else if(!1===e(a,d?g:f++,l))h=!0;return!h},g)}var f=0,h=!1;k(a,0);return f};e.__iteratorUncached=function(e,g){var k=a.__iterator(e,g),f=[],h=0;return new x(function(){for(;k;){var a=k.next();if(!1!==a.done)k=
f.pop();else{var u=a.value;e===ma&&(u=u[1]);if((!c||f.length<c)&&b(u))f.push(k),k=u.__iterator(e,g);else return d?a:B(e,h++,u,a)}}return y()})};return e}function Qc(a,b,c){var e=k(a)?f:g(a)?d:m;return a.toSeq().map(function(d,g){return e(b.call(c,d,g,a))}).flatten(!0)}function Rc(a,b){var c=la(a);c.size=a.size&&2*a.size-1;c.__iterateUncached=function(c,d){var e=this,g=0;a.__iterate(function(a,d){return(!g||!1!==c(b,g++,e))&&!1!==c(a,g++,e)},d);return g};c.__iteratorUncached=function(c,d){var e=a.__iterator(ga,
d),g=0,k;return new x(function(){if(!k||g%2)if(k=e.next(),k.done)return k;return g%2?B(c,g++,b):B(c,g++,k.value,k)})};return c}function Da(a,b,c){b||(b=qc);var d=k(a),e=0,f=a.toSeq().map(function(b,d){return[d,b,e++,c?c(b,d,a):b]}).toArray();f.sort(function(a,c){return b(a[3],c[3])||a[2]-c[2]}).forEach(d?function(a,b){f[b].length=2}:function(a,b){f[b]=a[1]});return d?U(f):g(a)?L(f):ca(f)}function Za(a,b,c){b||(b=qc);if(c){var d=a.toSeq().map(function(b,d){return[b,c(b,d,a)]}).reduce(function(a,c){return rc(b,
a[1],c[1])?c:a});return d&&d[0]}return a.reduce(function(a,c){return rc(b,a,c)?c:a})}function rc(a,b,c){a=a(c,b);return 0===a&&c!==b&&(void 0===c||null===c||c!==c)||0<a}function Db(a,b,d){a=la(a);a.size=(new ia(d)).map(function(a){return a.size}).min();a.__iterate=function(a,b){for(var c=this.__iterator(ga,b),d,u=0;!(d=c.next()).done&&!1!==a(d.value,u++,this););return u};a.__iteratorUncached=function(a,u){var e=d.map(function(a){return a=c(a),ba(u?a.reverse():a)}),g=0,k=!1;return new x(function(){var c;
k||(c=e.map(function(a){return a.next()}),k=c.some(function(a){return a.done}));return k?y():B(a,g++,b.apply(null,c.map(function(a){return a.value})))})};return a}function H(a,b){return fb(a)?b:a.constructor(b)}function sc(a){if(a!==Object(a))throw new TypeError("Expected [K, V] tuple: "+a);}function tc(a){Y(a.size);return s(a)}function la(a){return Object.create((k(a)?U:g(a)?L:ca).prototype)}function Ab(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):M.prototype.cacheResult.call(this)}
function qc(a,b){return a>b?1:a<b?-1:0}function uc(a){var b=ba(a);if(!b){if(!(a&&"number"===typeof a.length))throw new TypeError("Expected iterable or array-like: "+a);b=ba(c(a))}return b}function Z(a,b){var c,d=function(g){if(g instanceof d)return g;if(!(this instanceof d))return new d(g);if(!c){c=!0;var k=Object.keys(a);try{k.forEach(Sc.bind(void 0,e))}catch(f){}e.size=k.length;e._name=b;e._keys=k;e._defaultValues=a}this._map=G(g)},e=d.prototype=Object.create(Q);return e.constructor=d}function $a(a,
b,c){a=Object.create(Object.getPrototypeOf(a));a._map=b;a.__ownerID=c;return a}function Sc(a,b){Object.defineProperty(a,b,{get:function(){return this.get(b)},set:function(a){Ta(this.__ownerID,"Cannot set on an immutable record.");this.set(b,a)}})}function K(a){return null===a||void 0===a?Eb():Fb(a)&&!q(a)?a:Eb().withMutations(function(b){var c=m(a);Y(c.size);c.forEach(function(a){return b.add(a)})})}function Fb(a){return!(!a||!a[vc])}function Gb(a,b){return a.__ownerID?(a.size=b.size,a._map=b,a):
b===a._map?a:0===b.size?a.__empty():a.__make(b)}function wc(a,b){var c=Object.create($);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}function Eb(){return xc||(xc=wc(ja()))}function na(a){return null===a||void 0===a?Hb():yc(a)?a:Hb().withMutations(function(b){var c=m(a);Y(c.size);c.forEach(function(a){return b.add(a)})})}function yc(a){return Fb(a)&&q(a)}function zc(a,b){var c=Object.create(ab);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}function Hb(){return Ac||(Ac=zc(Ya()))}function P(a){return null===
a||void 0===a?Ea||(Ea=va(0)):Bc(a)?a:(Ea||(Ea=va(0))).unshiftAll(a)}function Bc(a){return!(!a||!a[Cc])}function va(a,b,c,d){var e=Object.create(Fa);e.size=a;e._head=b;e.__ownerID=c;e.__hash=d;e.__altered=!1;return e}function oa(a,b){var c=function(c){a.prototype[c]=b[c]};Object.keys(b).forEach(c);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(b).forEach(c);return a}function Tc(a,b){return b}function Uc(a,b){return[b,a]}function bb(a){return function(){return!a.apply(this,arguments)}}function Dc(a){return function(){return-a.apply(this,
arguments)}}function Ec(a){return"string"===typeof a?JSON.stringify(a):a}function Vc(){return w(arguments)}function Fc(a,b){return a<b?1:a>b?-1:0}function Wc(a){if(Infinity===a.size)return 0;var b=q(a),c=k(a),d=b?1:0;a=a.__iterate(c?b?function(a,b){d=31*d+Gc(X(a),X(b))|0}:function(a,b){d=d+Gc(X(a),X(b))|0}:b?function(a){d=31*d+X(a)|0}:function(a){d=d+X(a)|0});return Xc(a,d)}function Xc(a,b){b=Qa(b,3432918353);b=Qa(b<<15|b>>>-15,461845907);b=Qa(b<<13|b>>>-13,5);b=(b+3864292196|0)^a;b=Qa(b^b>>>16,2246822507);
b=Qa(b^b>>>13,3266489909);return(b^b>>>16)>>>1&1073741824|(b^b>>>16)&3221225471}function Gc(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}var ha=Array.prototype.slice;a(f,c);a(d,c);a(m,c);c.isIterable=b;c.isKeyed=k;c.isIndexed=g;c.isAssociative=p;c.isOrdered=q;c.Keyed=f;c.Indexed=d;c.Set=m;var Jb="@@__IMMUTABLE_ITERABLE__@@",Kb="@@__IMMUTABLE_KEYED__@@",Lb="@@__IMMUTABLE_INDEXED__@@",wa="@@__IMMUTABLE_ORDERED__@@",I=5,ea=1<<I,V=ea-1,E={},Kc={value:!1},Yb={value:!1},Pa=0,ga=1,ma=2,db="function"===typeof Symbol&&
Symbol.iterator,Nb="@@iterator",Ib=db||Nb;x.prototype.toString=function(){return"[Iterator]"};x.KEYS=Pa;x.VALUES=ga;x.ENTRIES=ma;x.prototype.inspect=x.prototype.toSource=function(){return this.toString()};x.prototype[Ib]=function(){return this};a(M,c);M.of=function(){return M(arguments)};M.prototype.toSeq=function(){return this};M.prototype.toString=function(){return this.__toString("Seq {","}")};M.prototype.cacheResult=function(){!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),
this.size=this._cache.length);return this};M.prototype.__iterate=function(a,b){return Sb(this,a,b,!0)};M.prototype.__iterator=function(a,b){return Tb(this,a,b,!0)};a(U,M);U.prototype.toKeyedSeq=function(){return this};a(L,M);L.of=function(){return L(arguments)};L.prototype.toIndexedSeq=function(){return this};L.prototype.toString=function(){return this.__toString("Seq [","]")};L.prototype.__iterate=function(a,b){return Sb(this,a,b,!1)};L.prototype.__iterator=function(a,b){return Tb(this,a,b,!1)};
a(ca,M);ca.of=function(){return ca(arguments)};ca.prototype.toSetSeq=function(){return this};M.isSeq=fb;M.Keyed=U;M.Set=ca;M.Indexed=L;var Qb="@@__IMMUTABLE_SEQ__@@";M.prototype[Qb]=!0;a(ia,L);ia.prototype.get=function(a,b){return this.has(a)?this._array[z(this,a)]:b};ia.prototype.__iterate=function(a,b){for(var c=this._array,d=c.length-1,e=0;e<=d;e++)if(!1===a(c[b?d-e:e],e,this))return e+1;return e};ia.prototype.__iterator=function(a,b){var c=this._array,d=c.length-1,e=0;return new x(function(){return e>
d?y():B(a,e,c[b?d-e++:e++])})};a(pa,U);pa.prototype.get=function(a,b){return void 0!==b&&!this.has(a)?b:this._object[a]};pa.prototype.has=function(a){return this._object.hasOwnProperty(a)};pa.prototype.__iterate=function(a,b){for(var c=this._object,d=this._keys,e=d.length-1,g=0;g<=e;g++){var k=d[b?e-g:g];if(!1===a(c[k],k,this))return g+1}return g};pa.prototype.__iterator=function(a,b){var c=this._object,d=this._keys,e=d.length-1,g=0;return new x(function(){var k=d[b?e-g:g];return g++>e?y():B(a,k,
c[k])})};pa.prototype[wa]=!0;a(Ha,L);Ha.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);var c=ba(this._iterable),d=0;if(aa(c))for(var e;!(e=c.next()).done&&!1!==a(e.value,d++,this););return d};Ha.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);var c=ba(this._iterable);if(!aa(c))return new x(y);var d=0;return new x(function(){var b=c.next();return b.done?b:B(a,d++,b.value)})};a(Ia,L);Ia.prototype.__iterateUncached=function(a,
b){if(b)return this.cacheResult().__iterate(a,b);for(var c=this._iterator,d=this._iteratorCache,e=0;e<d.length;)if(!1===a(d[e],e++,this))return e;for(var g;!(g=c.next()).done&&!(g=g.value,d[e]=g,!1===a(g,e++,this)););return e};Ia.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);var c=this._iterator,d=this._iteratorCache,e=0;return new x(function(){if(e>=d.length){var b=c.next();if(b.done)return b;d[e]=b.value}return B(a,e,d[e++])})};var Rb;a(R,L);R.prototype.toString=
function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"};R.prototype.get=function(a,b){return this.has(a)?this._value:b};R.prototype.includes=function(a){return N(this._value,a)};R.prototype.slice=function(a,b){var c=this.size;return t(a,b,c)?this:new R(this._value,F(b,c,c)-F(a,c,0))};R.prototype.reverse=function(){return this};R.prototype.indexOf=function(a){return N(this._value,a)?0:-1};R.prototype.lastIndexOf=function(a){return N(this._value,a)?this.size:-1};
R.prototype.__iterate=function(a,b){for(var c=0;c<this.size;c++)if(!1===a(this._value,c,this))return c+1;return c};R.prototype.__iterator=function(a,b){var c=this,d=0;return new x(function(){return d<c.size?B(a,d++,c._value):y()})};R.prototype.equals=function(a){return a instanceof R?N(this._value,a._value):jb(a)};var kb;a(S,L);S.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1<this._step?" by "+this._step:"")+" ]"};S.prototype.get=function(a,
b){return this.has(a)?this._start+z(this,a)*this._step:b};S.prototype.includes=function(a){a=(a-this._start)/this._step;return 0<=a&&a<this.size&&a===Math.floor(a)};S.prototype.slice=function(a,b){if(t(a,b,this.size))return this;a=F(a,this.size,0);b=F(b,this.size,this.size);return b<=a?new S(0,0):new S(this.get(a,this._end),this.get(b,this._end),this._step)};S.prototype.indexOf=function(a){a-=this._start;return 0===a%this._step&&(a/=this._step,0<=a&&a<this.size)?a:-1};S.prototype.lastIndexOf=function(a){return this.indexOf(a)};
S.prototype.__iterate=function(a,b){for(var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start,g=0;g<=c;g++){if(!1===a(e,g,this))return g+1;e+=b?-d:d}return g};S.prototype.__iterator=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start,g=0;return new x(function(){var k=e;e+=b?-d:d;return g>c?y():B(a,g++,k)})};S.prototype.equals=function(a){return a instanceof S?this._start===a._start&&this._end===a._end&&this._step===a._step:jb(this,a)};var lb;a(qa,c);a(Ja,qa);a(xa,
qa);a(Ua,qa);qa.Keyed=Ja;qa.Indexed=xa;qa.Set=Ua;var Qa="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(a,b){a|=0;b|=0;var c=a&65535,d=b&65535;return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0},Ub=Object.isExtensible,Va;try{Object.defineProperty({},"@",{}),Va=!0}catch(ad){Va=!1}var pb="function"===typeof WeakMap,qb;pb&&(qb=new WeakMap);var rb=0,ta="__immutablehash__";"function"===typeof Symbol&&(ta=Symbol(ta));var Hc=16,Ic=255,ob=0,mb={};a(G,Ja);G.prototype.toString=function(){return this.__toString("Map {",
"}")};G.prototype.get=function(a,b){return this._root?this._root.get(0,void 0,a,b):b};G.prototype.set=function(a,b){return Xb(this,a,b)};G.prototype.setIn=function(a,b){return this.updateIn(a,E,function(){return b})};G.prototype.remove=function(a){return Xb(this,a,E)};G.prototype.deleteIn=function(a){return this.updateIn(a,function(){return E})};G.prototype.update=function(a,b,c){return 1===arguments.length?a(this):this.updateIn([a],b,c)};G.prototype.updateIn=function(a,b,c){c||(c=b,b=void 0);a=bc(this,
uc(a),b,c);return a===E?void 0:a};G.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ja()};G.prototype.merge=function(){return Wa(this,void 0,arguments)};G.prototype.mergeWith=function(a){var b=ha.call(arguments,1);return Wa(this,a,b)};G.prototype.mergeIn=function(a){var b=ha.call(arguments,1);return this.updateIn(a,ja(),function(a){return"function"===typeof a.merge?a.merge.apply(a,b):b[b.length-1]})};G.prototype.mergeDeep=
function(){return Wa(this,$b,arguments)};G.prototype.mergeDeepWith=function(a){var b=ha.call(arguments,1);return Wa(this,ac(a),b)};G.prototype.mergeDeepIn=function(a){var b=ha.call(arguments,1);return this.updateIn(a,ja(),function(a){return"function"===typeof a.mergeDeep?a.mergeDeep.apply(a,b):b[b.length-1]})};G.prototype.sort=function(a){return O(Da(this,a))};G.prototype.sortBy=function(a,b){return O(Da(this,b,a))};G.prototype.withMutations=function(a){var b=this.asMutable();a(b);return b.wasAltered()?
b.__ensureOwner(this.__ownerID):this};G.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new C)};G.prototype.asImmutable=function(){return this.__ensureOwner()};G.prototype.wasAltered=function(){return this.__altered};G.prototype.__iterator=function(a,b){return new tb(this,a,b)};G.prototype.__iterate=function(a,b){var c=this,d=0;this._root&&this._root.iterate(function(b){d++;return a(b[1],b[0],c)},b);return d};G.prototype.__ensureOwner=function(a){return a===this.__ownerID?
this:!a?(this.__ownerID=a,this.__altered=!1,this):ub(this.size,this._root,a,this.__hash)};G.isMap=sb;var Vb="@@__IMMUTABLE_MAP__@@",D=G.prototype;D[Vb]=!0;D["delete"]=D.remove;D.removeIn=D.deleteIn;Ka.prototype.get=function(a,b,c,d){a=this.entries;b=0;for(var e=a.length;b<e;b++)if(N(c,a[b][0]))return a[b][1];return d};Ka.prototype.update=function(a,b,c,d,e,g,k){c=e===E;b=this.entries;for(var f=0,h=b.length;f<h&&!N(d,b[f][0]);f++);var l=f<h;if(l?b[f][1]===e:c)return this;v(k);(c||!l)&&v(g);if(!(c&&
1===b.length)){if(!l&&!c&&b.length>=Yc){a||(a=new C);d=new ka(a,X(d),[d,e]);for(e=0;e<b.length;e++)g=b[e],d=d.update(a,0,void 0,g[0],g[1]);return d}b=(g=a&&a===this.ownerID)?b:w(b);l?c?f===h-1?b.pop():b[f]=b.pop():b[f]=[d,e]:b.push([d,e]);return g?(this.entries=b,this):new Ka(a,b)}};ya.prototype.get=function(a,b,c,d){void 0===b&&(b=X(c));var e=1<<((0===a?b:b>>>a)&V),g=this.bitmap;return 0===(g&e)?d:this.nodes[cc(g&e-1)].get(a+I,b,c,d)};ya.prototype.update=function(a,b,c,d,e,g,k){void 0===c&&(c=X(d));
var f=(0===b?c:c>>>b)&V,h=1<<f,l=this.bitmap,m=0!==(l&h);if(!m&&e===E)return this;var n=cc(l&h-1),p=this.nodes,q=m?p[n]:void 0;b=vb(q,a,b+I,c,d,e,g,k);if(b===q)return this;if(!m&&b&&p.length>=Zc){n=l;h=0;m=Array(ea);for(l=0;0!==n;l++,n>>>=1)m[l]=n&1?p[h++]:void 0;m[f]=b;return new La(a,h+1,m)}if(m&&!b&&2===p.length&&(p[n^1].constructor===ka||p[n^1].constructor===ua))return p[n^1];if(m&&b&&1===p.length&&(b.constructor===ka||b.constructor===ua))return b;f=a&&a===this.ownerID;h=m?b?l:l^h:l|h;if(m)if(b)p=
f?p:w(p),p[n]=b;else if(b=p.length-1,f&&n===b)p.pop();else{m=Array(b);for(q=l=0;q<b;q++)q===n&&(l=1),m[q]=p[q+l];p=m}else if(m=p.length+1,f&&n+1===m)p[n]=b;else{l=Array(m);for(c=q=0;c<m;c++)c===n?(l[c]=b,q=-1):l[c]=p[c+q];p=l}return f?(this.bitmap=h,this.nodes=p,this):new ya(a,h,p)};La.prototype.get=function(a,b,c,d){void 0===b&&(b=X(c));var e=this.nodes[(0===a?b:b>>>a)&V];return e?e.get(a+I,b,c,d):d};La.prototype.update=function(a,b,c,d,e,g,k){void 0===c&&(c=X(d));var f=(0===b?c:c>>>b)&V,h=this.nodes,
l=h[f];if(e===E&&!l)return this;b=vb(l,a,b+I,c,d,e,g,k);if(b===l)return this;c=this.count;if(l){if(!b&&(c--,c<$c)){b=l=0;c=Array(c);d=0;e=1;for(g=h.length;d<g;d++,e<<=1)k=h[d],void 0!==k&&d!==f&&(l|=e,c[b++]=k);return new ya(a,l,c)}}else c++;h=(l=a&&a===this.ownerID)?h:w(h);h[f]=b;return l?(this.count=c,this.nodes=h,this):new La(a,c,h)};ua.prototype.get=function(a,b,c,d){a=this.entries;b=0;for(var e=a.length;b<e;b++)if(N(c,a[b][0]))return a[b][1];return d};ua.prototype.update=function(a,b,c,d,e,g,
k){void 0===c&&(c=X(d));var f=e===E;if(c!==this.keyHash){if(f)return this;v(k);v(g);return wb(this,a,b,c,[d,e])}var h=this.entries;b=0;for(c=h.length;b<c&&!N(d,h[b][0]);b++);var l=b<c;if(l?h[b][1]===e:f)return this;v(k);(f||!l)&&v(g);if(f&&2===c)return new ka(a,this.keyHash,h[b^1]);k=(g=a&&a===this.ownerID)?h:w(h);l?f?b===c-1?k.pop():k[b]=k.pop():k[b]=[d,e]:k.push([d,e]);return g?(this.entries=k,this):new ua(a,this.keyHash,k)};ka.prototype.get=function(a,b,c,d){return N(c,this.entry[0])?this.entry[1]:
d};ka.prototype.update=function(a,b,c,d,e,g,k){c=e===E;var f=N(d,this.entry[0]);if(f?e===this.entry[1]:c)return this;v(k);if(c)v(g);else{if(f)return a&&a===this.ownerID?(this.entry[1]=e,this):new ka(a,this.keyHash,[d,e]);v(g);return wb(this,a,b,X(d),[d,e])}};Ka.prototype.iterate=ua.prototype.iterate=function(a,b){for(var c=this.entries,d=0,e=c.length-1;d<=e;d++)if(!1===a(c[b?e-d:d]))return!1};ya.prototype.iterate=La.prototype.iterate=function(a,b){for(var c=this.nodes,d=0,e=c.length-1;d<=e;d++){var g=
c[b?e-d:d];if(g&&!1===g.iterate(a,b))return!1}};ka.prototype.iterate=function(a,b){return a(this.entry)};a(tb,x);tb.prototype.next=function(){for(var a=this._type,b=this._stack;b;){var c=b.node,d=b.index++,e;if(c.entry){if(0===d)return B(a,c.entry[0],c.entry[1])}else if(c.entries){if(e=c.entries.length-1,d<=e)return B(a,c.entries[this._reverse?e-d:d][0],c.entries[this._reverse?e-d:d][1])}else if(e=c.nodes.length-1,d<=e){if(c=c.nodes[this._reverse?e-d:d]){if(c.entry)return B(a,c.entry[0],c.entry[1]);
b=this._stack={node:c,index:0,__prev:b}}continue}b=this._stack=this._stack.__prev}return y()};var Wb,Yc=ea/4,Zc=ea/2,$c=ea/4;a(J,xa);J.of=function(){return this(arguments)};J.prototype.toString=function(){return this.__toString("List [","]")};J.prototype.get=function(a,b){a=z(this,a);if(0<=a&&a<this.size){a+=this._origin;var c=hc(this,a);return c&&c.array[a&V]}return b};J.prototype.set=function(a,b){return Lc(this,a,b)};J.prototype.remove=function(a){return!this.has(a)?this:0===a?this.shift():a===
this.size-1?this.pop():this.splice(a,1)};J.prototype.insert=function(a,b){return this.splice(a,0,b)};J.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=I,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):xb()};J.prototype.push=function(){var a=arguments,b=this.size;return this.withMutations(function(c){sa(c,0,b+a.length);for(var d=0;d<a.length;d++)c.set(b+d,a[d])})};J.prototype.pop=function(){return sa(this,
0,-1)};J.prototype.unshift=function(){var a=arguments;return this.withMutations(function(b){sa(b,-a.length);for(var c=0;c<a.length;c++)b.set(c,a[c])})};J.prototype.shift=function(){return sa(this,1)};J.prototype.merge=function(){return Xa(this,void 0,arguments)};J.prototype.mergeWith=function(a){var b=ha.call(arguments,1);return Xa(this,a,b)};J.prototype.mergeDeep=function(){return Xa(this,$b,arguments)};J.prototype.mergeDeepWith=function(a){var b=ha.call(arguments,1);return Xa(this,ac(a),b)};J.prototype.setSize=
function(a){return sa(this,0,a)};J.prototype.slice=function(a,b){var c=this.size;return t(a,b,c)?this:sa(this,F(a,c,0),F(b,c,c))};J.prototype.__iterator=function(a,b){var c=0,d=fc(this,b);return new x(function(){var b=d();return b===Na?y():B(a,c++,b)})};J.prototype.__iterate=function(a,b){for(var c=0,d=fc(this,b),e;(e=d())!==Na&&!1!==a(e,c++,this););return c};J.prototype.__ensureOwner=function(a){return a===this.__ownerID?this:!a?(this.__ownerID=a,this):Ma(this._origin,this._capacity,this._level,
this._root,this._tail,a,this.__hash)};J.isList=dc;var ec="@@__IMMUTABLE_LIST__@@",W=J.prototype;W[ec]=!0;W["delete"]=W.remove;W.setIn=D.setIn;W.deleteIn=W.removeIn=D.removeIn;W.update=D.update;W.updateIn=D.updateIn;W.mergeIn=D.mergeIn;W.mergeDeepIn=D.mergeDeepIn;W.withMutations=D.withMutations;W.asMutable=D.asMutable;W.asImmutable=D.asImmutable;W.wasAltered=D.wasAltered;ra.prototype.removeBefore=function(a,b,c){if(c===b?1<<b:0===this.array.length)return this;var d=c>>>b&V;if(d>=this.array.length)return new ra([],
a);var e=0===d,g;if(0<b){var k=this.array[d];g=k&&k.removeBefore(a,b-I,c);if(g===k&&e)return this}if(e&&!g)return this;a=za(this,a);if(!e)for(e=0;e<d;e++)a.array[e]=void 0;g&&(a.array[d]=g);return a};ra.prototype.removeAfter=function(a,b,c){if(c===(b?1<<b:0)||0===this.array.length)return this;var d=c-1>>>b&V;if(d>=this.array.length)return this;var e;if(0<b){var g=this.array[d];e=g&&g.removeAfter(a,b-I,c);if(e===g&&d===this.array.length-1)return this}a=za(this,a);a.array.splice(d+1);e&&(a.array[d]=
e);return a};var Na={},gc;a(O,G);O.of=function(){return this(arguments)};O.prototype.toString=function(){return this.__toString("OrderedMap {","}")};O.prototype.get=function(a,b){var c=this._map.get(a);return void 0!==c?this._list.get(c)[1]:b};O.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ya()};O.prototype.set=function(a,b){return kc(this,a,b)};O.prototype.remove=function(a){return kc(this,a,E)};O.prototype.wasAltered=
function(){return this._map.wasAltered()||this._list.wasAltered()};O.prototype.__iterate=function(a,b){var c=this;return this._list.__iterate(function(b){return b&&a(b[1],b[0],c)},b)};O.prototype.__iterator=function(a,b){return this._list.fromEntrySeq().__iterator(a,b)};O.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a),c=this._list.__ensureOwner(a);return!a?(this.__ownerID=a,this._map=b,this._list=c,this):zb(b,c,a,this.__hash)};O.isOrderedMap=
ic;O.prototype[wa]=!0;O.prototype["delete"]=O.prototype.remove;var jc;a(fa,U);fa.prototype.get=function(a,b){return this._iter.get(a,b)};fa.prototype.has=function(a){return this._iter.has(a)};fa.prototype.valueSeq=function(){return this._iter.valueSeq()};fa.prototype.reverse=function(){var a=this,b=Bb(this,!0);this._useKeys||(b.valueSeq=function(){return a._iter.toSeq().reverse()});return b};fa.prototype.map=function(a,b){var c=this,d=mc(this,a,b);this._useKeys||(d.valueSeq=function(){return c._iter.toSeq().map(a,
b)});return d};fa.prototype.__iterate=function(a,b){var c=this,d;return this._iter.__iterate(this._useKeys?function(b,d){return a(b,d,c)}:(d=b?tc(this):0,function(e){return a(e,b?--d:d++,c)}),b)};fa.prototype.__iterator=function(a,b){if(this._useKeys)return this._iter.__iterator(a,b);var c=this._iter.__iterator(ga,b),d=b?tc(this):0;return new x(function(){var e=c.next();return e.done?e:B(a,b?--d:d++,e.value,e)})};fa.prototype[wa]=!0;a(Aa,L);Aa.prototype.includes=function(a){return this._iter.includes(a)};
Aa.prototype.__iterate=function(a,b){var c=this,d=0;return this._iter.__iterate(function(b){return a(b,d++,c)},b)};Aa.prototype.__iterator=function(a,b){var c=this._iter.__iterator(ga,b),d=0;return new x(function(){var b=c.next();return b.done?b:B(a,d++,b.value,b)})};a(Ba,ca);Ba.prototype.has=function(a){return this._iter.includes(a)};Ba.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){return a(b,b,c)},b)};Ba.prototype.__iterator=function(a,b){var c=this._iter.__iterator(ga,
b);return new x(function(){var b=c.next();return b.done?b:B(a,b.value,b.value,b)})};a(Ca,U);Ca.prototype.entrySeq=function(){return this._iter.toSeq()};Ca.prototype.__iterate=function(a,c){var d=this;return this._iter.__iterate(function(c){if(c){sc(c);var e=b(c);return a(e?c.get(1):c[1],e?c.get(0):c[0],d)}},c)};Ca.prototype.__iterator=function(a,c){var d=this._iter.__iterator(ga,c);return new x(function(){for(;;){var c=d.next();if(c.done)return c;var e=c.value;if(e){sc(e);var g=b(e);return B(a,g?
e.get(0):e[0],g?e.get(1):e[1],c)}}})};Aa.prototype.cacheResult=fa.prototype.cacheResult=Ba.prototype.cacheResult=Ca.prototype.cacheResult=Ab;a(Z,Ja);Z.prototype.toString=function(){return this.__toString((this._name||this.constructor.name||"Record")+" {","}")};Z.prototype.has=function(a){return this._defaultValues.hasOwnProperty(a)};Z.prototype.get=function(a,b){if(!this.has(a))return b;var c=this._defaultValues[a];return this._map?this._map.get(a,c):c};Z.prototype.clear=function(){if(this.__ownerID)return this._map&&
this._map.clear(),this;var a=this.constructor;return a._empty||(a._empty=$a(this,ja()))};Z.prototype.set=function(a,b){if(!this.has(a))throw Error('Cannot set unknown key "'+a+'" on '+(this._name||this.constructor.name||"Record"));var c=this._map&&this._map.set(a,b);return this.__ownerID||c===this._map?this:$a(this,c)};Z.prototype.remove=function(a){if(!this.has(a))return this;a=this._map&&this._map.remove(a);return this.__ownerID||a===this._map?this:$a(this,a)};Z.prototype.wasAltered=function(){return this._map.wasAltered()};
Z.prototype.__iterator=function(a,b){var c=this;return f(this._defaultValues).map(function(a,b){return c.get(b)}).__iterator(a,b)};Z.prototype.__iterate=function(a,b){var c=this;return f(this._defaultValues).map(function(a,b){return c.get(b)}).__iterate(a,b)};Z.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map&&this._map.__ensureOwner(a);return!a?(this.__ownerID=a,this._map=b,this):$a(this,b,a)};var Q=Z.prototype;Q["delete"]=Q.remove;Q.deleteIn=Q.removeIn=D.removeIn;
Q.merge=D.merge;Q.mergeWith=D.mergeWith;Q.mergeIn=D.mergeIn;Q.mergeDeep=D.mergeDeep;Q.mergeDeepWith=D.mergeDeepWith;Q.mergeDeepIn=D.mergeDeepIn;Q.setIn=D.setIn;Q.update=D.update;Q.updateIn=D.updateIn;Q.withMutations=D.withMutations;Q.asMutable=D.asMutable;Q.asImmutable=D.asImmutable;a(K,Ua);K.of=function(){return this(arguments)};K.fromKeys=function(a){return this(f(a).keySeq())};K.prototype.toString=function(){return this.__toString("Set {","}")};K.prototype.has=function(a){return this._map.has(a)};
K.prototype.add=function(a){return Gb(this,this._map.set(a,!0))};K.prototype.remove=function(a){return Gb(this,this._map.remove(a))};K.prototype.clear=function(){return Gb(this,this._map.clear())};K.prototype.union=function(){var a=ha.call(arguments,0),a=a.filter(function(a){return 0!==a.size});return 0===a.length?this:0===this.size&&!this.__ownerID&&1===a.length?this.constructor(a[0]):this.withMutations(function(b){for(var c=0;c<a.length;c++)m(a[c]).forEach(function(a){return b.add(a)})})};K.prototype.intersect=
function(){var a=ha.call(arguments,0);if(0===a.length)return this;var a=a.map(function(a){return m(a)}),b=this;return this.withMutations(function(c){b.forEach(function(b){a.every(function(a){return a.includes(b)})||c.remove(b)})})};K.prototype.subtract=function(){var a=ha.call(arguments,0);if(0===a.length)return this;var a=a.map(function(a){return m(a)}),b=this;return this.withMutations(function(c){b.forEach(function(b){a.some(function(a){return a.includes(b)})&&c.remove(b)})})};K.prototype.merge=
function(){return this.union.apply(this,arguments)};K.prototype.mergeWith=function(a){var b=ha.call(arguments,1);return this.union.apply(this,b)};K.prototype.sort=function(a){return na(Da(this,a))};K.prototype.sortBy=function(a,b){return na(Da(this,b,a))};K.prototype.wasAltered=function(){return this._map.wasAltered()};K.prototype.__iterate=function(a,b){var c=this;return this._map.__iterate(function(b,d){return a(d,d,c)},b)};K.prototype.__iterator=function(a,b){return this._map.map(function(a,b){return b}).__iterator(a,
b)};K.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a);return!a?(this.__ownerID=a,this._map=b,this):this.__make(b,a)};K.isSet=Fb;var vc="@@__IMMUTABLE_SET__@@",$=K.prototype;$[vc]=!0;$["delete"]=$.remove;$.mergeDeep=$.merge;$.mergeDeepWith=$.mergeWith;$.withMutations=D.withMutations;$.asMutable=D.asMutable;$.asImmutable=D.asImmutable;$.__empty=Eb;$.__make=wc;var xc;a(na,K);na.of=function(){return this(arguments)};na.fromKeys=function(a){return this(f(a).keySeq())};
na.prototype.toString=function(){return this.__toString("OrderedSet {","}")};na.isOrderedSet=yc;var ab=na.prototype;ab[wa]=!0;ab.__empty=Hb;ab.__make=zc;var Ac;a(P,xa);P.of=function(){return this(arguments)};P.prototype.toString=function(){return this.__toString("Stack [","]")};P.prototype.get=function(a,b){var c=this._head;for(a=z(this,a);c&&a--;)c=c.next;return c?c.value:b};P.prototype.peek=function(){return this._head&&this._head.value};P.prototype.push=function(){if(0===arguments.length)return this;
for(var a=this.size+arguments.length,b=this._head,c=arguments.length-1;0<=c;c--)b={value:arguments[c],next:b};return this.__ownerID?(this.size=a,this._head=b,this.__hash=void 0,this.__altered=!0,this):va(a,b)};P.prototype.pushAll=function(a){a=d(a);if(0===a.size)return this;Y(a.size);var b=this.size,c=this._head;a.reverse().forEach(function(a){b++;c={value:a,next:c}});return this.__ownerID?(this.size=b,this._head=c,this.__hash=void 0,this.__altered=!0,this):va(b,c)};P.prototype.pop=function(){return this.slice(1)};
P.prototype.unshift=function(){return this.push.apply(this,arguments)};P.prototype.unshiftAll=function(a){return this.pushAll(a)};P.prototype.shift=function(){return this.pop.apply(this,arguments)};P.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this.__hash=this._head=void 0,this.__altered=!0,this):Ea||(Ea=va(0))};P.prototype.slice=function(a,b){if(t(a,b,this.size))return this;var c=F(a,this.size,0);if(F(b,this.size,this.size)!==this.size)return xa.prototype.slice.call(this,
a,b);for(var d=this.size-c,e=this._head;c--;)e=e.next;return this.__ownerID?(this.size=d,this._head=e,this.__hash=void 0,this.__altered=!0,this):va(d,e)};P.prototype.__ensureOwner=function(a){return a===this.__ownerID?this:!a?(this.__ownerID=a,this.__altered=!1,this):va(this.size,this._head,a,this.__hash)};P.prototype.__iterate=function(a,b){if(b)return this.reverse().__iterate(a);for(var c=0,d=this._head;d&&!1!==a(d.value,c++,this);)d=d.next;return c};P.prototype.__iterator=function(a,b){if(b)return this.reverse().__iterator(a);
var c=0,d=this._head;return new x(function(){if(d){var b=d.value;d=d.next;return B(a,c++,b)}return y()})};P.isStack=Bc;var Cc="@@__IMMUTABLE_STACK__@@",Fa=P.prototype;Fa[Cc]=!0;Fa.withMutations=D.withMutations;Fa.asMutable=D.asMutable;Fa.asImmutable=D.asImmutable;Fa.wasAltered=D.wasAltered;var Ea;c.Iterator=x;oa(c,{toArray:function(){Y(this.size);var a=Array(this.size||0);this.valueSeq().__iterate(function(b,c){a[c]=b});return a},toIndexedSeq:function(){return new Aa(this)},toJS:function(){return this.toSeq().map(function(a){return a&&
"function"===typeof a.toJS?a.toJS():a}).__toJS()},toJSON:function(){return this.toSeq().map(function(a){return a&&"function"===typeof a.toJSON?a.toJSON():a}).__toJS()},toKeyedSeq:function(){return new fa(this,!0)},toMap:function(){return G(this.toKeyedSeq())},toObject:function(){Y(this.size);var a={};this.__iterate(function(b,c){a[c]=b});return a},toOrderedMap:function(){return O(this.toKeyedSeq())},toOrderedSet:function(){return na(k(this)?this.valueSeq():this)},toSet:function(){return K(k(this)?
this.valueSeq():this)},toSetSeq:function(){return new Ba(this)},toSeq:function(){return g(this)?this.toIndexedSeq():k(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return P(k(this)?this.valueSeq():this)},toList:function(){return J(k(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(a,b){return 0===this.size?a+b:a+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+b},concat:function(){var a=ha.call(arguments,0);return H(this,Pc(this,a))},
includes:function(a){return this.some(function(b){return N(b,a)})},entries:function(){return this.__iterator(ma)},every:function(a,b){Y(this.size);var c=!0;this.__iterate(function(d,e,g){if(!a.call(b,d,e,g))return c=!1});return c},filter:function(a,b){return H(this,nc(this,a,b,!0))},find:function(a,b,c){return(a=this.findEntry(a,b))?a[1]:c},findEntry:function(a,b){var c;this.__iterate(function(d,e,g){if(a.call(b,d,e,g))return c=[e,d],!1});return c},findLastEntry:function(a,b){return this.toSeq().reverse().findEntry(a,
b)},forEach:function(a,b){Y(this.size);return this.__iterate(b?a.bind(b):a)},join:function(a){Y(this.size);a=void 0!==a?""+a:",";var b="",c=!0;this.__iterate(function(d){c?c=!1:b+=a;b+=null!==d&&void 0!==d?d.toString():""});return b},keys:function(){return this.__iterator(Pa)},map:function(a,b){return H(this,mc(this,a,b))},reduce:function(a,b,c){Y(this.size);var d,e;2>arguments.length?e=!0:d=b;this.__iterate(function(b,g,k){e?(e=!1,d=b):d=a.call(c,d,b,g,k)});return d},reduceRight:function(a,b,c){var d=
this.toKeyedSeq().reverse();return d.reduce.apply(d,arguments)},reverse:function(){return H(this,Bb(this,!0))},slice:function(a,b){return H(this,Cb(this,a,b,!0))},some:function(a,b){return!this.every(bb(a),b)},sort:function(a){return H(this,Da(this,a))},values:function(){return this.__iterator(ga)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(a,b){return s(a?this.toSeq().filter(a,b):this)},countBy:function(a,
b){return Mc(this,a,b)},equals:function(a){return jb(this,a)},entrySeq:function(){var a=this;if(a._cache)return new ia(a._cache);var b=a.toSeq().map(Uc).toIndexedSeq();b.fromEntrySeq=function(){return a.toSeq()};return b},filterNot:function(a,b){return this.filter(bb(a),b)},findLast:function(a,b,c){return this.toKeyedSeq().reverse().find(a,b,c)},first:function(){return this.find(r)},flatMap:function(a,b){return H(this,Qc(this,a,b))},flatten:function(a){return H(this,pc(this,a,!0))},fromEntrySeq:function(){return new Ca(this)},
get:function(a,b){return this.find(function(b,c){return N(c,a)},void 0,b)},getIn:function(a,b){for(var c=this,d=uc(a),e;!(e=d.next()).done;)if(e=e.value,c=c&&c.get?c.get(e,E):E,c===E)return b;return c},groupBy:function(a,b){return Nc(this,a,b)},has:function(a){return this.get(a,E)!==E},hasIn:function(a){return this.getIn(a,E)!==E},isSubset:function(a){a="function"===typeof a.includes?a:c(a);return this.every(function(b){return a.includes(b)})},isSuperset:function(a){a="function"===typeof a.isSubset?
a:c(a);return a.isSubset(this)},keySeq:function(){return this.toSeq().map(Tc).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(a){return Za(this,a)},maxBy:function(a,b){return Za(this,b,a)},min:function(a){return Za(this,a?Dc(a):Fc)},minBy:function(a,b){return Za(this,b?Dc(b):Fc,a)},rest:function(){return this.slice(1)},skip:function(a){return this.slice(Math.max(0,a))},skipLast:function(a){return H(this,this.toSeq().reverse().skip(a).reverse())},skipWhile:function(a,
b){return H(this,oc(this,a,b,!0))},skipUntil:function(a,b){return this.skipWhile(bb(a),b)},sortBy:function(a,b){return H(this,Da(this,b,a))},take:function(a){return this.slice(0,Math.max(0,a))},takeLast:function(a){return H(this,this.toSeq().reverse().take(a).reverse())},takeWhile:function(a,b){return H(this,Oc(this,a,b))},takeUntil:function(a,b){return this.takeWhile(bb(a),b)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Wc(this))}});var T=
c.prototype;T[Jb]=!0;T[Ib]=T.values;T.__toJS=T.toArray;T.__toStringMapper=Ec;T.inspect=T.toSource=function(){return this.toString()};T.chain=T.flatMap;T.contains=T.includes;(function(){try{Object.defineProperty(T,"length",{get:function(){if(!c.noLengthWarning){var a;try{throw Error();}catch(b){a=b.stack}if(-1===a.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+
a),this.size}}})}catch(a){}})();oa(f,{flip:function(){return H(this,lc(this))},findKey:function(a,b){var c=this.findEntry(a,b);return c&&c[0]},findLastKey:function(a,b){return this.toSeq().reverse().findKey(a,b)},keyOf:function(a){return this.findKey(function(b){return N(b,a)})},lastKeyOf:function(a){return this.findLastKey(function(b){return N(b,a)})},mapEntries:function(a,b){var c=this,d=0;return H(this,this.toSeq().map(function(e,g){return a.call(b,[g,e],d++,c)}).fromEntrySeq())},mapKeys:function(a,
b){var c=this;return H(this,this.toSeq().flip().map(function(d,e){return a.call(b,d,e,c)}).flip())}});var cb=f.prototype;cb[Kb]=!0;cb[Ib]=T.entries;cb.__toJS=T.toObject;cb.__toStringMapper=function(a,b){return JSON.stringify(b)+": "+Ec(a)};oa(d,{toKeyedSeq:function(){return new fa(this,!1)},filter:function(a,b){return H(this,nc(this,a,b,!1))},findIndex:function(a,b){var c=this.findEntry(a,b);return c?c[0]:-1},indexOf:function(a){a=this.toKeyedSeq().keyOf(a);return void 0===a?-1:a},lastIndexOf:function(a){a=
this.toKeyedSeq().reverse().keyOf(a);return void 0===a?-1:a},reverse:function(){return H(this,Bb(this,!1))},slice:function(a,b){return H(this,Cb(this,a,b,!1))},splice:function(a,b){var c=arguments.length;b=Math.max(b|0,0);if(0===c||2===c&&!b)return this;var d=0>a?this.count():this.size;a=F(a,d,0);d=this.slice(0,a);return H(this,1===c?d:d.concat(w(arguments,2),this.slice(a+b)))},findLastIndex:function(a,b){var c=this.toKeyedSeq().findLastKey(a,b);return void 0===c?-1:c},first:function(){return this.get(0)},
flatten:function(a){return H(this,pc(this,a,!1))},get:function(a,b){a=z(this,a);return 0>a||Infinity===this.size||void 0!==this.size&&a>this.size?b:this.find(function(b,c){return c===a},void 0,b)},has:function(a){a=z(this,a);return 0<=a&&(void 0!==this.size?Infinity===this.size||a<this.size:-1!==this.indexOf(a))},interpose:function(a){return H(this,Rc(this,a))},interleave:function(){var a=[this].concat(w(arguments)),b=Db(this.toSeq(),L.of,a),c=b.flatten(!0);b.size&&(c.size=b.size*a.length);return H(this,
c)},last:function(){return this.get(-1)},skipWhile:function(a,b){return H(this,oc(this,a,b,!1))},zip:function(){var a=[this].concat(w(arguments));return H(this,Db(this,Vc,a))},zipWith:function(a){var b=w(arguments);b[0]=this;return H(this,Db(this,a,b))}});d.prototype[Lb]=!0;d.prototype[wa]=!0;oa(m,{get:function(a,b){return this.has(a)?a:b},includes:function(a){return this.has(a)},keySeq:function(){return this.valueSeq()}});m.prototype.has=T.includes;oa(U,f.prototype);oa(L,d.prototype);oa(ca,m.prototype);
oa(Ja,f.prototype);oa(xa,d.prototype);oa(Ua,m.prototype);return{Iterable:c,Seq:M,Collection:qa,Map:G,OrderedMap:O,List:J,Stack:P,Set:K,OrderedSet:na,Record:Z,Range:S,Repeat:R,is:N,fromJS:gb}})},535:function(f,c){f.exports={IMAGE_PROCESSING:2,IMPORTING:3,PUSH:4,S3:6,SMTP:7,DESK_TICKET:8,INSTAGRAM:10,SOCIAL_PULL:11,FOURSQUARE:12,DYNECT:13,BETAEND:14,EXPORTING_WORDPRESS:16,EXPORTING_INTERNAL:17,COLLECTION_SYNC:18,CONTENT_STATS_REGENERATION:19,SEARCH_REALTIME:20,GENERATE_SITEMAP:21,IMAGE_FOCAL_POINT:22,
MIGRATE_CONTENT_STATS:23,DELETE_WEBSITE:24,RESTORE_DELETED_WEBSITE:25,STATS_MIGRATION:26,STATS_COPY:27,AUDIO_PROCESSING:28,SEND_NEWSLETTER_MESSAGE:29,PUBLISH_SCHEDULED_POST:30,DISABLE_COMMENTS:31,XERO_MANUAL_EXPORT:32,SIGNUP:33,GOOGLE_APPS_REGISTRATION:34,DELINQUENT_BILLING_MAIL:35,ONBOARDING_TRIAL_EMAIL:36,DOMAIN_BATCH_REGISTRATION:37,DOMAIN_BATCH_CONFIRMATION_EMAIL:38,PINTEREST_DOMAIN_VERIFICATION_POLL:39,SEND_FREE_INBOX_REMINDER:40,DROPBOX2_TEMPLATE_PUSH:41,CREATIVE_WELCOME_EMAIL:42,MASS_REMOVAL_PARENT:43,
MASS_REMOVAL_SUBSCRIPTION:44,IMAGE_SCALING:45,GLOBAL_MIGRATION:46,DOMAIN_TRANSFER_REQUEST:47,PARKING_PAGE_SIGNUP:48}},541:function(f,c,a){function e(a){return a&&a.__esModule?a:{"default":a}}c=a(25);var h=e(c);c=a(1);var n=e(c);c=a(2);var d=e(c);c=a(11);var m=a(973);a=function(){function a(){(0,n.default)(this,a);this.generateActions("insert","insertMany")}(0,d.default)(a,[{key:"read",value:function(a){var b=this,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,d=arguments[2];return function(e){e(a);
return m.read(a,c,d).then(function(a){return b.insert(a.data)}).catch(function(a){a=a.data;return h.default.reject(a.message||a)})}}},{key:"readForCollection",value:function(a){var b=this;return function(c){c(a);return m.readForCollection(a).then(function(a){(a=a.data)&&b.insertMany(a.results);return h.default.resolve(a)}).catch(function(a){a=a.data;return h.default.reject(a.message||a)})}}},{key:"update",value:function(a,b){var c=this;return function(d){d(a.id);return m.update(a,b).then(function(a){a=
a.data;c.insert(a);return a}).catch(function(a){a=a.data;return h.default.reject(a.message||a)})}}},{key:"updateField",value:function(a,b,c){return function(d){d({id:a,key:b,value:c});return m.updateField({itemId:a,field:b,value:c}).then(function(a){return h.default.resolve(a.data)}).catch(function(a){a=a.data;return h.default.reject(a.message||a)})}}},{key:"updateForCollection",value:function(a,b){var c=this;return m.updateForCollection(a,b).then(function(a){return c.insert(a.data)}).catch(function(a){a=
a.data;return h.default.reject(a.message||a)})}},{key:"create",value:function(a,b,c){var d=this;return m.create(a,b,c).then(function(a){a=a.data;d.insert(a);return a}).catch(function(a){a=a.data;return h.default.reject(a.message||a)})}},{key:"createForCollection",value:function(a,b,c){var d=this;return function(e){e(a);return m.createForCollection(a,b,c).then(function(a){a=a.data;d.insert(a);return a}).catch(function(a){a=a.data;return h.default.reject(a.message||a)})}}},{key:"delete",value:function(a,
b){return function(c){c(a);return m.delete(a,b).catch(function(a){a=a.data;return h.default.reject(a.message||a)})}}},{key:"deleteMany",value:function(a){return function(b){b(a);return m.deleteMany(a)}}},{key:"reorderItems",value:function(a,b,c,d){return function(e){return m.reorderItems(a,b,c).then(function(b){e({collectionId:a,reorderedItems:b.data.items,allItemIds:d})}).catch(function(a){a=a.data;return h.default.reject(a&&a.message||a)})}}}]);return a}();f.exports=c.createActions(a)},542:function(f,
c,a){var e=(c=a(175))&&c.__esModule?c:{"default":c},h=(a=a(19))&&a.__esModule?a:{"default":a};f.exports={encodeUrl:function(a){var c=[];(0,h.default)(a).forEach(function(f){if(a.hasOwnProperty(f)&&a[f]){var b="string"===typeof a[f]?a[f]:(0,e.default)(a[f]);c.push(encodeURIComponent(f)+"="+encodeURIComponent(b))}});return c.join("&")},removeHttpAndWwwFromUrl:function(a){return a.replace(/(?:https?:\/\/)?(?:www\.)?(.*)\/?$/i,"$1")}}},546:function(f,c,a){Object.defineProperty(c,"__esModule",{value:!0});
c.CancellationError=c.default=void 0;f=(f=a(1081))&&f.__esModule?f:{"default":f};a=(a=a(696))&&a.__esModule?a:{"default":a};c.default=f.default;c.CancellationError=a.default},550:function(f,c){f.exports=function(a,c,f){switch(f.length){case 0:return a.call(c);case 1:return a.call(c,f[0]);case 2:return a.call(c,f[0],f[1]);case 3:return a.call(c,f[0],f[1],f[2])}return a.apply(c,f)}},551:function(f,c,a){var e=a(426),h=a(350),n=a(382),d=a(149),m=a(552),b=a(384);f.exports=function(a,c,f,q){var l=-1,v=
h,C=!0,w=a.length,s=[],z=c.length;if(!w)return s;f&&(c=d(c,m(f)));q?(v=n,C=!1):200<=c.length&&(v=b,C=!1,c=new e(c));a:for(;++l<w;){var r=a[l],t=f?f(r):r,r=q||0!==r?r:0;if(C&&t===t){for(var F=z;F--;)if(c[F]===t)continue a;s.push(r)}else v(c,t,q)||s.push(r)}return s}},556:function(f,c,a){function e(a){return a&&a.__esModule?a:{"default":a}}c=a(25);var h=e(c);c=a(18);var n=e(c);c=a(13);var d=e(c);c=a(1);var m=e(c);c=a(2);var b=e(c);c=a(46);var k=c.Map,g=c.fromJS;c=a(11);var p=a(131),q=a(59),l=a(541),
v=a(344),C=a(354),w=a(680),s=a(535).IMAGE_PROCESSING,z={};a=function(){function a(){(0,m.default)(this,a);this.state=k();this.bindActions(l);this.bindListeners({onStaticBootstrap:q.BOOTSTRAP,onUploadSuccess:v.UPLOAD_SUCCESS,onJobComplete:C.COMPLETE});this.exportPublicMethods({fetch:this.fetch,fetchFromServer:this.fetchFromServer,fetchForCollection:this.fetchForCollection,getForCollection:this.getForCollection})}(0,b.default)(a,[{key:"onInsert",value:function(a){var b=z[a.id];b&&(a=(0,d.default)({},
a,{jobId:b}));this.setState(this.state.set(a.id,g(a)))}},{key:"onInsertMany",value:function(a){a=a.reduce(function(a,b){var c=z[b.id];c&&(b=(0,d.default)({},b,{jobId:c}));a[b.id]=g(b);return a},{});this.setState(this.state.merge(a))}},{key:"onUpdateField",value:function(a){this.setState(this.state.setIn([a.id,a.key],a.value))}},{key:"onDelete",value:function(a){this.setState(this.state.delete(a))}},{key:"onDeleteMany",value:function(a){this.setState(this.state.filter(function(b,c){return-1===a.indexOf(c)}))}},
{key:"onReorderItems",value:function(a){this.setState(this.state.mergeDeep(a.allItemIds.reduce(function(a,b,c){b&&(a[b]={displayIndex:c});return a},{})))}},{key:"onStaticBootstrap",value:function(a){(a=(a=a.pendingJobs)&&a.filter(function(a){return!!a.data.contentItemId}))&&0<a.length&&a.forEach(function(a){z[a.data.contentItemId]=a.id})}},{key:"onUploadSuccess",value:function(a){var b=a.data;a=b.contentItem;b=b.job;a&&(b&&(a=(0,n.default)({},a,{jobId:b.id})),this.waitFor(w),this.setState(this.state.set(a.id,
g(a))))}},{key:"onJobComplete",value:function(a){a=a.map(function(a){return w.getState()[a]}).filter(function(a){return!!a.data.contentItemId});0<a.length&&this.setState(this.state.mergeDeep(a.reduce(function(a,b){var c=b.data,d=c.assetUrl,e=c.contentItemId,g=c.contentItemUpdatedOn,c=c.assetVariants,f={jobId:null};b.type===s&&g&&(0,n.default)(f,{assetUrl:d,updatedOn:g,originalSize:c.split(",")[0],systemDataVariants:c});a[e]=f;z[e]=null;return a},{})))}},{key:"fetch",value:function(a){var b=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:!1,c=arguments[2];if(!a)return h.default.resolve();var d=this.getState().get(a);return d&&d.id?h.default.resolve(d):this.fetchFromServer(a,b,c)}},{key:"fetchFromServer",value:function(a){var b=this;return l.read(a,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,arguments[2]).then(function(){return b.getState().get(a)})}},{key:"fetchForCollection",value:function(a){var b=this,c=this.getForCollection(a);return 0<c.size?h.default.resolve(c):l.readForCollection(a).then(function(){return b.getForCollection(a)})}},
{key:"getForCollection",value:function(a){return this.getState().filter(function(b){return b.get("collectionId")===a})}}]);return a}();f.exports=c.createStore(p(a),"ContentItemStore")},566:function(f,c,a){var e=(c=a(1))&&c.__esModule?c:{"default":c},h=(c=a(2))&&c.__esModule?c:{"default":c},n=a(46),d=a(394),m=a(330);c=a(11);var b=a(131),k=a(2462),g=a(59),p=d(m);a=function(){function a(){(0,e.default)(this,a);this.bindListeners({onStaticBootstrap:g.BOOTSTRAP});this.exportPublicMethods({isFeatureEnabled:this.isFeatureEnabled,
getLimit:this.getLimit,getFeatureUpsellInfo:this.getFeatureUpsellInfo});this.state=n.fromJS({})}(0,h.default)(a,[{key:"onStaticBootstrap",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.setState(n.fromJS({features:a.features,featureSetIdentifier:a.featureSetId}))}},{key:"getLimit",value:function(a){a=p[a];return this.getState().getIn(["features","limits",a])||Number.MAX_VALUE}},{key:"isFeatureEnabled",value:function(a){a=p[a];return this.getState().hasIn(["features",
"enabledFeatures",a])}},{key:"getFeatureUpsellInfo",value:function(a){var b=this.getState().get("featureSetIdentifier");return k.get([a,b])}}]);return a}();f.exports=c.createStore(b(a),"FeaturesStore")},578:function(f,c,a){var e=(c=a(25))&&c.__esModule?c:{"default":c};c=a(546);var h=c.default,n=c.CancellationError,d=a(24),m=a(1063),b=a(1060),k=a(542).encodeUrl,g={},p=function(a){var b=g[a];delete g[a];return b},q=function(a){return function(b){var c=b.loaded,d=b.total;b.lengthComputable&&a(100*(c/
d))}};f.exports={URLS:{FILE:"/api/uploads/files",AVATAR:"/api/uploads/files/avatars",IMAGE:"/api/uploads/images",TWEAK:"/api/uploads/tweak-backgrounds",GALLERY_IMAGE:function(a){return"/api/galleries/"+a+"/images"}},uploadFile:function(a,c,f,k){var s=k.onProgress,z=k.onCancel;k={headers:{"Content-Type":"multipart/form-data"}};z&&(k.adapter=m,k.cancel=g[a]=new h);s&&(k.progress=q(s));return d.post(c,b(f),k).then(function(b){p(a);return e.default.resolve(b)},function(b){b instanceof n?z(a):p(a);return e.default.reject(b.error||
b)})},cancelFileUpload:function(a){return new e.default(function(b){var c=p(a);c&&c.cancel();b(a)})},uploadFromFileUrl:function(a,b,c){return d.post(b,k(c),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}},617:function(f,c){YUI.add("squarespace-model-sync-rest",function(a){function c(){this._ioConfigCache={}}c.prototype={sync:function(c,e,d){a.Lang.isValue(e.timeout)||(e.timeout=1E7);a.ModelSync.REST.prototype.sync.apply(this,arguments)},_storeRequest:function(c,e){this._ioConfigCache[c.id]=
a.merge(e,{})},_retrieveAndEvict:function(a){var c=this._ioConfigCache[a];this._ioConfigCache[a]=null;return c},_isCrumbFailure:function(a){return a&&a.crumbFail&&a.crumb},_sendSyncIORequest:function(c){var e=a.ModelSync.REST.prototype._sendSyncIORequest.apply(this,arguments);this._storeRequest(e,c);return e},_onSyncIOEnd:function(c,e){this._retrieveAndEvict(c);a.ModelSync.REST.prototype._onSyncIOEnd.apply(this,arguments)},_onSyncIOSuccess:function(c,e,d){var f=this._retrieveAndEvict(c),b={},k=e.responseText;
a.Lang.isValue(k)&&k.trim()&&(b=a.JSON.parse(k));this._isCrumbFailure(b)?(b=b.crumb,a.ModelSync.REST.CSRF_TOKEN=b,a.Env.CSRF_TOKEN=b,f.headers["X-CSRF-Token"]=b,this._sendSyncIORequest(f)):a.ModelSync.REST.prototype._onSyncIOSuccess.apply(this,arguments)},_onSyncIOFailure:function(c,e,d){if(c=d.callback){d={};var f=e.responseText;a.Lang.isValue(f)&&f.trim()&&(d=a.JSON.parse(f));c({code:e.status,msg:e.statusText,responseJSON:d},e)}}};a.mix(c,a.ModelSync.REST,!1,null,1);a.namespace("Squarespace.ModelSync").REST=
c},"1.0",{requires:["model-sync-rest"]})},618:function(f,c){YUI.add("model-sync-rest",function(a,c){function f(){}var n=a.Lang;f.CSRF_TOKEN=YUI.Env.CSRF_TOKEN;f.EMULATE_HTTP=!1;f.HTTP_HEADERS={Accept:"application/json","Content-Type":"application/json"};f.HTTP_METHODS={create:"POST",read:"GET",update:"PUT","delete":"DELETE"};f.HTTP_TIMEOUT=3E4;f._NON_ATTRS_CFG=["root","url"];f.prototype={root:"",url:"",initializer:function(a){a||(a={});"root"in a&&(this.root=a.root||"");"url"in a&&(this.url=a.url||
"")},getURL:function(c,e){var b=this.root,f=this.url;return this._isYUIModelList?!f?this.model.prototype.root:this._substituteURL(f,a.merge(this.getAttrs(),e)):b&&("create"===c||this.isNew())?b:!f?this._joinURL(this.getAsURL("id")||""):this._substituteURL(f,a.merge(this.getAttrs(),e))},parseIOResponse:function(a){return a.responseText},serialize:function(c){return a.JSON.stringify(this)},sync:function(c,e,b){e||(e={});var k=this.getURL(c,e),g=f.HTTP_METHODS[c],p=a.merge(f.HTTP_HEADERS,e.headers),
n=e.timeout||f.HTTP_TIMEOUT;e=e.csrfToken||f.CSRF_TOKEN;var l;"POST"===g||"PUT"===g?l=this.serialize(c):delete p["Content-Type"];if(f.EMULATE_HTTP&&("PUT"===g||"DELETE"===g))p["X-HTTP-Method-Override"]=g,g="POST";if(e&&("POST"===g||"PUT"===g||"DELETE"===g))p["X-CSRF-Token"]=e;this._sendSyncIORequest({action:c,callback:b,entity:l,headers:p,method:g,timeout:n,url:k})},_joinURL:function(a){var c=this.root;if(!c&&!a)return"";"/"===a.charAt(0)&&(a=a.substring(1));return c&&"/"===c.charAt(c.length-1)?c+
a+"/":c+"/"+a},_parse:function(a){"function"===typeof this.parseIOResponse&&(a=this.parseIOResponse(a));return this.parse(a)},_sendSyncIORequest:function(c){return a.io(c.url,{arguments:{action:c.action,callback:c.callback,url:c.url},context:this,data:c.entity,headers:c.headers,method:c.method,timeout:c.timeout,on:{start:this._onSyncIOStart,failure:this._onSyncIOFailure,success:this._onSyncIOSuccess,end:this._onSyncIOEnd}})},_substituteURL:function(c,e){if(!c)return"";var b={};a.Object.each(e,function(a,
c){if(n.isString(a)||n.isNumber(a))b[c]=encodeURIComponent(a)});return n.sub(c,b)},_onSyncIOEnd:function(a,c){},_onSyncIOFailure:function(a,c,b){(a=b.callback)&&a({code:c.status,msg:c.statusText},c)},_onSyncIOSuccess:function(a,c,b){(a=b.callback)&&a(null,c)},_onSyncIOStart:function(a,c){}};a.namespace("ModelSync").REST=f},"3.17.2",{requires:["model","io-base","json-stringify"]})},624:function(f,c,a){f.exports={"default":a(625),__esModule:!0}},625:function(f,c,a){a(628);var e=a(30).Object;f.exports=
function(a,c){return e.getOwnPropertyDescriptor(a,c)}},628:function(f,c,a){var e=a(95),h=a(271).f;a(182)("getOwnPropertyDescriptor",function(){return function(a,c){return h(e(a),c)}})},637:function(f,c){f.exports=function(a,c,f){for(var n=-1,d=c.length,m={};++n<d;){var b=c[n],k=a[b];f(k,b)&&(m[b]=k)}return m}},646:function(f,c){f.exports={QUEUED:1,PROCESSING:2,READY:3,ERROR:4,DOWNLOAD_ERROR:5,ERROR_TOO_LARGE:6,ERROR_FILE_NOT_FOUND:7,ERROR_UNSUPPORTED_IMAGE_TYPE:8,ERROR_UNSUPPORTED_AUDIO_TYPE:9}},
656:function(f,c){f.exports=function(a){return a!==a}},659:function(f,c){YUI.add("model-list",function(a,c){function f(){f.superclass.constructor.apply(this,arguments)}var n=a.Attribute.prototype,d=a.Lang,m=a.Array;a.ModelList=a.extend(f,a.Base,{model:a.Model,_isYUIModelList:!0,initializer:function(b){b||(b={});var c=this.model=b.model||this.model;"string"===typeof c&&((this.model=a.Object.getValue(a,c.split(".")))||a.error("ModelList: Model class not found: "+c));this.publish("add",{defaultFn:this._defAddFn});
this.publish("reset",{defaultFn:this._defResetFn});this.publish("remove",{defaultFn:this._defRemoveFn});this.after("*:idChange",this._afterIdChange);this._clear();b.items&&this.add(b.items,{silent:!0})},destructor:function(){this._clear()},add:function(b,c){var e=b._isYUIModelList;return e||d.isArray(b)?m.map(e?b.toArray():b,function(b,d){var e=c||{};"index"in e&&(e=a.merge(e,{index:e.index+d}));return this._add(b,e)},this):this._add(b,c)},create:function(b,c,d){var e=this;"function"===typeof c&&
(d=c,c={});c||(c={});b._isYUIModel||(b=new this.model(b));e.fire("create",a.merge(c,{model:b}));return b.save(c,function(a){a||e.add(b,c);d&&d.apply(null,arguments)})},each:function(a,c){var d=this._items.concat(),e,f,h;e=0;for(h=d.length;e<h;e++)f=d[e],a.call(c||f,f,e,this);return this},filter:function(a,c){var d=[],e=this._items,f,h,m;"function"===typeof a&&(c=a,a={});f=0;for(m=e.length;f<m;++f)h=e[f],c.call(this,h,f,this)&&d.push(h);return a.asList?(e=new this.constructor({model:this.model}),d.length&&
e.add(d,{silent:!0}),e):d},get:function(a){return this.attrAdded(a)?n.get.apply(this,arguments):this.invoke("get",a)},getAsHTML:function(b){return this.attrAdded(b)?a.Escape.html(n.get.apply(this,arguments)):this.invoke("getAsHTML",b)},getAsURL:function(a){return this.attrAdded(a)?encodeURIComponent(n.get.apply(this,arguments)):this.invoke("getAsURL",a)},getByClientId:function(a){return this._clientIdMap[a]||null},getById:function(a){return this._idMap[a]||null},invoke:function(a){var c=[this._items,
a].concat(m(arguments,1,!0));return m.invoke.apply(m,c)},load:function(a,c){var d=this;"function"===typeof a&&(c=a,a={});a||(a={});this.sync("read",a,function(e,f){var h={options:a,response:f},m;e?(h.error=e,h.src="load",d.fire("error",h)):(d._loadEvent||(d._loadEvent=d.publish("load",{preventable:!1})),m=h.parsed=d._parse(f),d.reset(m,a),d.fire("load",h));c&&c.apply(null,arguments)});return this},map:function(a,c){return m.map(this._items,a,c)},parse:function(b){if("string"===typeof b)try{return a.JSON.parse(b)||
[]}catch(c){return this.fire("error",{error:c,response:b,src:"parse"}),null}return b||[]},remove:function(a,c){var e=a._isYUIModelList;return e||d.isArray(a)?(a=m.map(e?a.toArray():a,function(a){return d.isNumber(a)?this.item(a):a},this),m.map(a,function(a){return this._remove(a,c)},this)):this._remove(a,c)},reset:function(b,c){b||(b=[]);c||(c={});var d=a.merge({src:"reset"},c);b=b._isYUIModelList?b.toArray():m.map(b,function(a){return a._isYUIModel?a:new this.model(a)},this);d.models=b;c.silent?
this._defResetFn(d):(this.comparator&&b.sort(a.bind(this._sort,this)),this.fire("reset",d));return this},some:function(a,c){var d=this._items.concat(),e,f,h;e=0;for(h=d.length;e<h;e++)if(f=d[e],a.call(c||f,f,e,this))return!0;return!1},sort:function(b){if(!this.comparator)return this;var c=this._items.concat();b||(b={});c.sort(a.rbind(this._sort,this,b));c=a.merge(b,{models:c,src:"sort"});b.silent?this._defResetFn(c):this.fire("reset",c);return this},sync:function(){var a=m(arguments,0,!0).pop();"function"===
typeof a&&a()},toArray:function(){return this._items.concat()},toJSON:function(){return this.map(function(a){return a.toJSON()})},_add:function(b,c){var e;c||(c={});b._isYUIModel||(b=new this.model(b));e=b.get("id");if(this._clientIdMap[b.get("clientId")]||d.isValue(e)&&this._idMap[e])this.fire("error",{error:"Model is already in the list.",model:b,src:"add"});else return e=a.merge(c,{index:"index"in c?c.index:this._findIndex(b),model:b}),c.silent?this._defAddFn(e):this.fire("add",e),b},_attachList:function(a){a.lists.push(this);
a.addTarget(this)},_clear:function(){m.each(this._items,this._detachList,this);this._clientIdMap={};this._idMap={};this._items=[]},_compare:function(a,c){return a<c?-1:a>c?1:0},_detachList:function(a){var c=m.indexOf(a.lists,this);-1<c&&(a.lists.splice(c,1),a.removeTarget(this))},_findIndex:function(a){var c=this._items,d=c.length,e=0,f,h;if(!this.comparator||!d)return d;for(h=this.comparator(a);e<d;)f=e+d>>1,a=c[f],0>this._compare(this.comparator(a),h)?e=f+1:d=f;return e},_parse:function(a){return this.parse(a)},
_remove:function(b,c){var e;c||(c={});d.isNumber(b)?(e=b,b=this.item(e)):e=this.indexOf(b);if(-1===e||!b)this.fire("error",{error:"Model is not in the list.",index:e,model:b,src:"remove"});else return e=a.merge(c,{index:e,model:b}),c.silent?this._defRemoveFn(e):this.fire("remove",e),b},_sort:function(a,c,d){a=this._compare(this.comparator(a),this.comparator(c));return 0===a?a:d&&d.descending?-a:a},_afterIdChange:function(a){var c=a.newVal,e=a.prevVal;a=a.target;if(d.isValue(e))if(this._idMap[e]===
a)delete this._idMap[e];else return;else if(-1===this.indexOf(a))return;d.isValue(c)&&(this._idMap[c]=a)},_defAddFn:function(a){var c=a.model,e=c.get("id");this._clientIdMap[c.get("clientId")]=c;d.isValue(e)&&(this._idMap[e]=c);this._attachList(c);this._items.splice(a.index,0,c)},_defRemoveFn:function(a){var c=a.model,e=c.get("id");this._detachList(c);delete this._clientIdMap[c.get("clientId")];d.isValue(e)&&delete this._idMap[e];this._items.splice(a.index,1)},_defResetFn:function(a){"sort"===a.src?
this._items=a.models.concat():(this._clear(),a.models.length&&this.add(a.models,{silent:!0}))}},{NAME:"modelList"});a.augment(f,a.ArrayList)},"3.17.2",{requires:"array-extras array-invoke arraylist base-build escape json-parse model".split(" ")})},663:function(f,c,a){var e=(c=a(1))&&c.__esModule?c:{"default":c},h=a(729),n=0,d=function b(){(0,e.default)(this,b);var a=""+n++;this.getId=function(){return a}};f.exports={getUploadToken:function(){return new d},getMultipleUploadTokens:function(a){return h(a,
function(){return new d})},isValidUploadToken:function(a){return a instanceof d}}},6723:function(f,c,a){a(3730);a(1604);a(396);a(617);a(618);a(1598);a(1613);a(1599);a(1600);a(1602);a(659);a(1583);a(1601);a(1603);a(1597);a(968);a(966);a(967);a(1301);a(1605);a(1607);a(1608);a(1609);a(1610);a(1612);a(1614)},676:function(f,c,a){function e(a){return{url:L[a.action].replace("{collectionId}",a.collectionId),isFallback:!0}}function h(a){return{url:M[a.collectionType][a.action].replace("{collectionId}",a.collectionId).replace("{parentId}",
a.parentId),isFallback:!1}}function n(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!a.collectionId)return{url:ca[a.action],isFallback:!0};if(a.parentId)return a.collectionType===ba.PRODUCTS?h(a):e(a);var b=Ga[a.collectionOrdering];if(!b)return e(a);b=b[a.recordType];return!b?e(a):{url:b[a.action].replace("{collectionId}",a.collectionId),isFallback:!1}}var d=(c=a(13))&&c.__esModule?c:{"default":c},m,b,k,g,p,q,l,v,C,w,s,z,r,t,F,x,B,y=a(692),aa=a(91);c=a(273);var ba=a(70),Ga=
(C={},C[c.CHRONOLOGICAL]=(g={},g[aa.TEXT]=(m={},m[y.GET]="/api/content/blogs/{collectionId}/text-posts/{id}",m[y.POST]="/api/content/blogs/{collectionId}/text-posts",m[y.PUT]="/api/content/blogs/{collectionId}/text-posts/{id}",m[y.DELETE]="/api/content/blogs/{collectionId}/text-posts/{id}",m),g[aa.IMAGE]=(b={},b[y.GET]="/api/content/blogs/{collectionId}/image-posts/{id}",b[y.POST]="/api/content/blogs/{collectionId}/image-posts",b[y.PUT]="/api/content/blogs/{collectionId}/image-posts/{id}",b[y.DELETE]=
"/api/content/blogs/{collectionId}/image-posts/{id}",b),g[aa.VIDEO]=(k={},k[y.GET]="/api/content/blogs/{collectionId}/video-posts/{id}",k[y.POST]="/api/content/blogs/{collectionId}/video-posts",k[y.PUT]="/api/content/blogs/{collectionId}/video-posts/{id}",k[y.DELETE]="/api/content/blogs/{collectionId}/video-posts/{id}",k),g),C[c.CALENDAR]=(q={},q[aa.EVENT]=(p={},p[y.GET]="/api/content/calendars/{collectionId}/events/{id}",p[y.POST]="/api/content/calendars/{collectionId}/events",p[y.PUT]="/api/content/calendars/{collectionId}/events/{id}",
p[y.DELETE]="/api/content/calendars/{collectionId}/events/{id}",p),q),C[c.USER]=(v={},v[aa.STORE_ITEM]=(l={},l[y.GET]="/api/content/product-pages/{collectionId}/products/{id}",l[y.POST]="/api/content/product-pages/{collectionId}/products",l[y.PUT]="/api/content/product-pages/{collectionId}/products/{id}",l[y.DELETE]="/api/content/product-pages/{collectionId}/products/{id}",l),v),C),M=(s={},s[ba.PRODUCTS]=(w={},w[y.GET]="/api/content/product-pages/{collectionId}/products/{parentId}/images/{id}",w[y.POST]=
"/api/content/product-pages/{collectionId}/products/{parentId}/images",w[y.PUT]="/api/content/product-pages/{collectionId}/products/{parentId}/images/{id}",w[y.DELETE]="/api/content/product-pages/{collectionId}/products/{parentId}/images/{id}",w),s),U=(F={},F[c.CHRONOLOGICAL]=(z={},z[ba.COLLECTION_TYPE_GENERIC]="/api/content/blogs/{collectionId}/posts",z),F[c.CALENDAR]=(r={},r[ba.COLLECTION_TYPE_GENERIC]="/api/content/calendars/{collectionId}/events",r),F[c.USER]=(t={},t[ba.PRODUCTS]="/api/content/product-pages/{collectionId}/products",
t),F),L=(x={},x[y.GET]="/api/content-collections/{collectionId}/content-items/{id}",x[y.POST]="/api/content-collections/{collectionId}/content-items",x[y.PUT]="/api/content-collections/{collectionId}/content-items/{id}",x[y.DELETE]="/api/content-collections/{collectionId}/content-items/{id}",x),ca=(B={},B[y.GET]="/api/content-items/{id}",B[y.POST]="/api/content-items",B[y.PUT]="/api/content-items/{id}",B[y.DELETE]="/api/content-items/{id}",B);f.exports={getTemplateForSingleItem:function(){return n(0<
arguments.length&&void 0!==arguments[0]?arguments[0]:{}).url},getTemplateForCollectionItems:function(a,b){if(!a)return"/api/content-collections/{collectionId}/content-items";var c=void 0;U.hasOwnProperty(a)&&(c=U[a][b]);return!c?"/api/content-collections/{collectionId}/content-items":c},getMainImageUploadUrl:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=n((0,d.default)({},a,{action:y.DELETE}));return a.isFallback?"/api/commondata/SaveMedia":a.url+"/main-image"},getMainImageDeletionUrl:function(){var a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=n((0,d.default)({},a,{action:y.DELETE}));return a.isFallback?"/api/commondata/ClearEmbeddedAsset":a.url+"/main-image"},getChildImageUploadUrl:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return a.recordType===aa.STORE_ITEM?h({collectionType:ba.PRODUCTS,recordType:aa.STORE_ITEM,action:y.POST,parentId:a.parentId,collectionId:a.collectionId}).url:"/api/commondata/SaveMedia"}}},680:function(f,c,a){function e(a){return a&&
a.__esModule?a:{"default":a}}c=a(18);var h=e(c);c=a(1);var n=e(c);c=a(2);var d=e(c);c=a(11);var m=a(59),b=a(354),k=a(344),g=a(187),p=a(535),q=[g.WAITING,g.PROCESSING];a=function(){function a(){(0,n.default)(this,a);this.state={};this.bindListeners({onStaticBootstrap:m.BOOTSTRAP,onMonitor:b.MONITOR,onUploadSuccess:k.UPLOAD_SUCCESS,onLoadSuccess:b.LOAD_SUCCESS,onCancel:[b.CANCEL,b.DELETE]});this.exportPublicMethods({getJobById:this.getJobById})}(0,d.default)(a,[{key:"onStaticBootstrap",value:function(a){var c=
a.pendingJobs;a=a.recentJobs;var d=[];c&&0<c.length&&(d=d.concat(c),b.monitor.defer(c.map(function(a){return a.id})));a&&0<a.length&&(d=d.concat(a));0<d.length&&this.setState(this.convertJobsArrayToMap(d))}},{key:"onUploadSuccess",value:function(a){var b=a.data;a=b.job;var c=b.replaceItemId,d=b.fileUrl,b=b.fileData;if(a){var e,c={status:g.WAITING,type:a.type,data:a.data,cancelable:!c};a.type===p.IMAGE_PROCESSING&&(c.interimFileData=b,c.interimFileUrl=d);this.setState((e={},e[a.id]=c,e))}}},{key:"onMonitor",
value:function(a){var b=this;a=[].concat(a).filter(function(a){return!b.state[a]});0<a.length&&(a=a.reduce(function(a,b){a[b]={status:g.WAITING};return a},{}),this.setState(a))}},{key:"onLoadSuccess",value:function(a){this.setState(this.convertJobsArrayToMap(a))}},{key:"onCancel",value:function(a){var b,c=(0,h.default)({},this.state[a],{status:g.CANCELLED});if(c.interimFileData||c.interimFileUrl)delete c.interimFileData,delete c.interimFileUrl;this.setState((b={},b[a]=c,b))}},{key:"convertJobsArrayToMap",
value:function(a){var b=this;return a.reduce(function(a,c){var d=b.state[c.id];a[c.id]={status:c.status,messages:c.messages,type:c.type,data:c.data||d.data,cancelable:d&&d.cancelable,childJobIds:c.childJobs&&c.childJobs.map(function(a){return a.id})};d&&(c.type===p.IMAGE_PROCESSING&&q.includes(c.status))&&(a[c.id].interimFileData=d.interimFileData,a[c.id].interimFileUrl=d.interimFileUrl);c.childJobs&&0<c.childJobs.length&&c.childJobs.forEach(function(b){a[b.id]={status:b.status,messages:b.messages,
type:b.type,data:b.data}});return a},{})}},{key:"getJobById",value:function(a){return this.state[a]}}]);return a}();f.exports=c.createStore(a,"JobStore")},684:function(f,c,a){var e=a(121),h=a(95),n=a(212).f;f.exports=function(a){return function(c){c=h(c);for(var b=e(c),f=b.length,g=0,p=[],q;f>g;)if(n.call(c,q=b[g++]))p.push(a?[q,c[q]]:c[q]);return p}}},687:function(f,c,a){c=a(427);var e=a(342),h=a(63),n=c?c.isConcatSpreadable:void 0;f.exports=function(a){return h(a)||e(a)||!(!n||!a||!a[n])}},692:function(f,
c,a){f.exports={GET:1,POST:2,PUT:3,DELETE:4}},696:function(f,c,a){function e(a){this.message=a||"Operation has been canceled.";this.name="CancellationError";Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}Object.defineProperty(c,"__esModule",{value:!0});c.default=e;e.prototype=Object.create(Error.prototype);e.prototype.constructor=e},701:function(f,c,a){var e=a(440);f.exports=function(a,c,d){if(void 0!==d&&!e(a[c],d)||"number"==typeof c&&void 0===d&&!(c in a))a[c]=d}},706:function(f,
c,a){function e(a){return a&&a.__esModule?a:{"default":a}}c=a(25);var h=e(c);c=a(1);var n=e(c);c=a(2);var d=e(c);c=a(11);var m=a(389),b=a(1037),k=a(1401);a=function(){function a(){(0,n.default)(this,a);this.generateActions("disconnectStripeSuccess","disconnectPayPalSuccess","handleFailure","loadSuccess","payPalProcessing","stripeProcessing","payPalBillingAgreementProcessing","setStoreCurrency","setTestMode","setStripeSettings","updateStripeSuccess","updateStoreCurrencySuccess","updateTestModeSuccess",
"cancelPayPalBillingAgreement")}(0,d.default)(a,[{key:"load",value:function(){var a=this;return function(c){c();return b.load().then(function(b){return a.loadSuccess(b.data)},a.handleFailure).catch(a.handleError)}}},{key:"connectStripe",value:function(){var a=this;return function(c){a.stripeProcessing();c();return b.connect(m.STRIPE).then(a.load,a.handleFailure).catch(a.handleError)}}},{key:"connectPayPal",value:function(a){var c=this;return function(d){c.disconnectPayPal().then(c.payPalProcessing);
d();return b.connect(m.PAYPAL,a).then(c.handlePayPalConnected,c.handleFailure).catch(c.handleError)}}},{key:"handlePayPalConnected",value:function(){var a=this;return function(b){b();return a.load()}}},{key:"approvePayPalBillingAgreement",value:function(a){var c=this;return function(d){c.payPalBillingAgreementProcessing();d();return b.approvePayPalBillingAgreement(a).then(c.load,c.handleFailure).catch(c.handleError)}}},{key:"disconnectStripe",value:function(){var a=this;return function(c){a.stripeProcessing();
c();return b.disconnect(m.STRIPE).then(a.disconnectStripeSuccess,a.handleFailure).catch(a.handleError)}}},{key:"disconnectPayPal",value:function(){var a=this;return function(c){a.payPalProcessing();c();return b.disconnect(m.PAYPAL).then(a.disconnectPayPalSuccess,a.handleFailure).catch(a.handleError)}}},{key:"updateTestMode",value:function(a){var c=this;return function(d){d();return b.updateTestMode(a).then(c.updateTestModeSuccess,c.handleFailure).catch(c.handleError)}}},{key:"setStripeSettings",value:function(a){return function(b){b(a);
return h.default.resolve()}}},{key:"updateStoreCurrency",value:function(a,c){var d=this;return function(e){e();return b.updateStoreCurrency(c).then(function(){k.updateStoreCurrencyClass(a,c);d.updateStoreCurrencySuccess(c)},d.handleFailure).catch(d.handleError)}}},{key:"updateStripeSettings",value:function(a){var c=this;return function(d){d();return b.updateStripeSettings(a).then(c.updateStripeSuccess,c.handleFailure).catch(c.handleError)}}},{key:"handleError",value:function(a){this.handleFailure(a)}}]);
return a}();f.exports=c.createActions(a)},711:function(f,c,a){var e=(c=a(1))&&c.__esModule?c:{"default":c},h=(c=a(2))&&c.__esModule?c:{"default":c};c=a(11);var n=a(59),d=a(931);a=function(){function a(){(0,e.default)(this,a);this.templateInstallations={};this.bindListeners({handleLoadSuccess:d.LOAD_SUCCESS,handleLoadFailure:d.LOAD_FAILURE,handleStaticInitialized:n.BOOTSTRAP,handlePreviewSet:d.SET_PREVIEW_INSTALLATION,handleTemplateSet:d.SET_LIVE_INSTALLATION,handleHomepageCollectionIdSet:d.SET_HOMEPAGE_COLLECTION_ID});
this.exportPublicMethods({getHomepageCollectionId:this.getHomepageCollectionId})}(0,h.default)(a,[{key:"getHomepageCollectionId",value:function(){return this.getState().activeInstallation?this.getState().activeInstallation.homepageCollectionId:this.getState().homepageCollectionId}},{key:"handleStaticInitialized",value:function(a){var c=a.authenticatedAccountWebsiteSettings;this.previewInstallationId=c?c.previewInstallationId:null;this.homepageCollectionId=a.homepageCollectionId;a.templateInstallation?
(this.liveInstallationId=a.templateInstallation.id,this.templateInstallations[this.liveInstallationId]=a.templateInstallation):this.liveInstallationId=null;this.updateInstallationReferences()}},{key:"updateInstallationReferences",value:function(){this.liveInstallation=this.getTemplateInstallation(this.liveInstallationId);this.previewInstallation=null;this.previewInstallationId!==this.liveInstallationId&&(this.previewInstallation=this.getTemplateInstallation(this.previewInstallationId));this.activeInstallation=
this.previewInstallation||this.liveInstallation}},{key:"getTemplateInstallation",value:function(a){return!a||!this.templateInstallations[a]?null:this.templateInstallations[a]}},{key:"handleHomepageCollectionIdSet",value:function(a){a.error||(this.homepageCollectionId=a.homepageCollectionId,this.activeInstallation&&(this.activeInstallation.homepageCollectionId=a.homepageCollectionId))}},{key:"handlePreviewSet",value:function(a){this.previewInstallationId=a;this.updateInstallationReferences()}},{key:"handleTemplateSet",
value:function(a){this.liveInstallationId=a;this.previewInstallationId=null;this.updateInstallationReferences()}},{key:"handleLoadSuccess",value:function(a){var c={};a.forEach(function(a){this[a.id]=a},c);this.maintainMissingInstallation(c,this.liveInstallationId);this.maintainMissingInstallation(c,this.previewInstallationId);this.templateInstallations=c;this.updateInstallationReferences()}},{key:"maintainMissingInstallation",value:function(a,c){c&&!a[c]&&(a[c]=this.templateInstallations[c])}},{key:"handleLoadFailure",
value:function(){console.error("Unable to load installations")}}]);return a}();f.exports=c.createStore(a,"TemplateInstallationsStore")},719:function(f,c,a){a(722);f.exports=a(30).Object.values},722:function(f,c,a){f=a(69);var e=a(684)(!1);f(f.S,"Object",{values:function(a){return e(a)}})},729:function(f,c,a){var e=a(98),h=a(777),n=a(92),d=Math.min;f.exports=function(a,b){a=n(a);if(1>a||9007199254740991<a)return[];var c=4294967295,f=d(a,4294967295);b=e(b);a-=4294967295;for(f=h(f,b);++c<a;)b(c);return f}},
760:function(f,c,a){var e=a(918);f.exports=function(a){return a&&a.length?e(a):[]}},772:function(f,c){f.exports={ENABLED:1,DISABLED:2}},786:function(f,c,a){function e(a){return a&&a.__esModule?a:{"default":a}}c=a(25);var h=e(c);c=a(1);var n=e(c);c=a(2);var d=e(c),m=a(1052);a=a(11);c=function(){function a(){(0,n.default)(this,a);this.generateActions("insert","insertMany","deleteSuccess","updateSuccess","deleteFailure")}(0,d.default)(a,[{key:"create",value:function(a){var b=this;return function(c){c(a);
return m.create(a).then(function(a){a=a.data;b.updateSuccess(a);return a.id})}}},{key:"read",value:function(a){var b=this;return function(c){c(a);return m.read(a).then(function(a){return b.insert(a.data)})}}},{key:"readAll",value:function(){var a=this;return m.readAll().then(function(b){return a.insertMany(b.data)}).catch(function(a){return h.default.reject(a.data.message)})}},{key:"delete",value:function(a){var b=this;return function(c){c(a);return m.delete(a).then(function(c){b.deleteSuccess(a);
return c},function(c){c=c.data;b.deleteFailure(a,c);return h.default.reject(c.message)})}}},{key:"deleteUnusedCollectionPermanently",value:function(a){var b=this;return function(c){c(a);return m.deleteUnusedPageCollectionPermanently(a).then(function(c){b.deleteSuccess(a);return c},function(c){c=c.data;b.deleteFailure(a,c);return h.default.reject(c.message)})}}},{key:"update",value:function(a){var b=this;return a.id&&!a.urlId?m.generateUrl(a).then(function(c){a.urlId=c.data.urlId;return m.create(a).then(function(a){b.updateSuccess(a.data);
return a.data})}).catch(function(a){return h.default.reject(a.data.message)}):m.create(a).then(function(a){a=a.data;b.updateSuccess(a);return a})}},{key:"clone",value:function(a){var b=this;return function(c){c(a);return m.clone(a).then(function(a){a=a.data;b.updateSuccess(a);return a})}}}]);return a}();f.exports=a.createActions(c)},795:function(f,c,a){function e(a){return a&&a.__esModule?a:{"default":a}}c=a(175);var h=e(c);c=a(76);var n=e(c);a=a(19);var d=e(a);f.exports=function(a){var b={};(0,d.default)(a).map(function(c){var d=
a[c];"object"===("undefined"===typeof d?"undefined":(0,n.default)(d))?b[c]=(0,h.default)(d):void 0!==d&&(b[c]=d)});return b}},91:function(f,c){f.exports={TEXT:1,IMAGE:2,QUOTE:4,LINK:5,CHAT:6,AUDIO:7,VIDEO:8,VIDEO_DEPRECATED:9,REVIEW:10,STORE_ITEM:11,EVENT:12,THREAD:13,GALLERY:14,BINARY:15,CSSASSET:16,TWEAKASSET:17,DIGITALGOOD:18,ATTACHMENT:19,EXPORT_WORDPRESS:20,EXPORT_INTERNAL:21,TWEET:50,RSS:51,CHECKIN:52,DELICIOUS:53,KBARTICLE:54}},918:function(f,c,a){var e=a(426),h=a(350),n=a(382),d=a(384),m=
a(1092),b=a(574);f.exports=function(a,c,f){var q=-1,l=h,v=a.length,C=!0,w=[],s=w;if(f)C=!1,l=n;else if(200<=v){if(l=c?null:m(a))return b(l);C=!1;l=d;s=new e}else s=c?[]:w;a:for(;++q<v;){var z=a[q],r=c?c(z):z,z=f||0!==z?z:0;if(C&&r===r){for(var t=s.length;t--;)if(s[t]===r)continue a;c&&s.push(r);w.push(z)}else l(s,r,f)||(s!==w&&s.push(r),w.push(z))}return w}},931:function(f,c,a){function e(a){return a&&a.__esModule?a:{"default":a}}c=a(18);var h=e(c);c=a(1);var n=e(c);c=a(2);var d=e(c),m=a(2100),b=
a(2510);c=a(11);var k=a(972),g=a(1112);a=function(){function a(){(0,n.default)(this,a);this.generateActions("loadSuccess","loadFailure")}(0,d.default)(a,[{key:"loadAll",value:function(){var a=this;return function(c){c();return b.loadTemplateInstallations().then(function(b){a.loadSuccess(b.data)},function(b){a.loadFailure(b.error)})}}},{key:"setPreviewInstallation",value:function(a,b,c){return function(d){var e=(0,h.default)({},a,{previewInstallationId:b});m.save(a.id,e).then(function(a){g.loadTemplate.defer(c);
d(b);setTimeout(function(){k.setUrl("/");k.refresh()},1E3)},function(a){})}}},{key:"setLiveInstallation",value:function(a,c){return function(d){b.setLiveInstallation(a).then(function(b){g.loadTemplate.defer(c);d(a);setTimeout(k.refresh,1E3)},function(a){})}}},{key:"setHomepageCollectionId",value:function(a){return function(c){return b.setHomepageCollectionId(a).then(function(b){b={homepageCollectionId:a};c(b);return b},function(b){b={homepageCollectionId:a,error:!0};c(b);return b})}}},{key:"updateInstallation",
value:function(a){return b.updateInstallation(a).then(this.loadAll)}}]);return a}();f.exports=c.createActions(a)},949:function(f,c,a){function e(a,c,f,C,w){if(a!==c){if(!k(c)&&!p(c))var s=m(c);n(s||c,function(k,m){s&&(m=k,k=c[m]);if(g(k))w||(w=new h),b(a,c,m,f,e,C,w);else{var n=C?C(a[m],k,m+"",a,c,w):void 0;void 0===n&&(n=k);d(a,m,n)}})}}var h=a(685),n=a(686),d=a(701),m=a(186),b=a(1091),k=a(63),g=a(72),p=a(641);f.exports=e},952:function(f,c,a){var e=a(174),h=a(203);f.exports=function(a){return e(function(c,
e){var b=-1,f=e.length,g=1<f?e[f-1]:void 0,p=2<f?e[2]:void 0,g=3<a.length&&"function"==typeof g?(f--,g):void 0;p&&h(e[0],e[1],p)&&(g=3>f?void 0:g,f=1);for(c=Object(c);++b<f;)(p=e[b])&&a(c,p,b,g);return c})}},957:function(f,c){f.exports=function(){}},966:function(f,c){YUI.add("datatype-date-format",function(a,c){var f=function(a,c,b){"undefined"===typeof b&&(b=10);for(c+="";parseInt(a,10)<b&&1<b;b/=10)a=c+a;return a.toString()},n={formats:{a:function(a,c){return c.a[a.getDay()]},A:function(a,c){return c.A[a.getDay()]},
b:function(a,c){return c.b[a.getMonth()]},B:function(a,c){return c.B[a.getMonth()]},C:function(a){return f(parseInt(a.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(a){return f(parseInt(n.formats.G(a)%100,10),0)},G:function(a){var c=a.getFullYear(),b=parseInt(n.formats.V(a),10);a=parseInt(n.formats.W(a),10);a>b?c++:0===a&&52<=b&&c--;return c},H:["getHours","0"],I:function(a){a=a.getHours()%12;return f(0===a?12:a,0)},j:function(a){var c=new Date(""+a.getFullYear()+"/1/1 GMT");
a=new Date(""+a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate()+" GMT")-c;a=parseInt(a/6E4/60/24,10)+1;return f(a,0,100)},k:["getHours"," "],l:function(a){a=a.getHours()%12;return f(0===a?12:a," ")},m:function(a){return f(a.getMonth()+1,0)},M:["getMinutes","0"],p:function(a,c){return c.p[12<=a.getHours()?1:0]},P:function(a,c){return c.P[12<=a.getHours()?1:0]},s:function(a,c){return parseInt(a.getTime()/1E3,10)},S:["getSeconds","0"],u:function(a){a=a.getDay();return 0===a?7:a},U:function(a){var c=
parseInt(n.formats.j(a),10);a=6-a.getDay();c=parseInt((c+a)/7,10);return f(c,0)},V:function(a){var c=parseInt(n.formats.W(a),10),b=(new Date(""+a.getFullYear()+"/1/1")).getDay(),c=c+(4<b||1>=b?0:1);53===c&&4>(new Date(""+a.getFullYear()+"/12/31")).getDay()?c=1:0===c&&(c=n.formats.V(new Date(""+(a.getFullYear()-1)+"/12/31")));return f(c,0)},w:"getDay",W:function(a){var c=parseInt(n.formats.j(a),10);a=7-n.formats.u(a);c=parseInt((c+a)/7,10);return f(c,0,10)},y:function(a){return f(a.getFullYear()%100,
0)},Y:"getFullYear",z:function(a){a=a.getTimezoneOffset();var c=f(parseInt(Math.abs(a/60),10),0),b=f(Math.abs(a%60),0);return(0<a?"-":"+")+c+b},Z:function(a){var c=a.toString().replace(/^.*:\d\d( GMT[+-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,"");4<c.length&&(c=n.formats.z(a));return c},"%":function(a){return"%"}},aggregates:{c:"locale",D:"%m/%d/%y",F:"%Y-%m-%d",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"\t",T:"%H:%M:%S",x:"locale",X:"locale"},format:function(c,e){e=e||{};if(!a.Lang.isDate(c))return a.Lang.isValue(c)?
c:"";var b,k;b=e.format||"%Y-%m-%d";k=a.Intl.get("datatype-date-format");for(var g=function(a,b){var c=n.aggregates[b];return"locale"===c?k[b]:c},p=function(b,e){var g=n.formats[e];switch(a.Lang.type(g)){case "string":return c[g]();case "function":return g.call(c,c,k);case "array":if("string"===a.Lang.type(g[0]))return f(c[g[0]](),g[1]);default:return e}};b.match(/%[cDFhnrRtTxX]/);)b=b.replace(/%([cDFhnrRtTxX])/g,g);b=b.replace(/%([aAbBCdegGHIjklmMpPsSuUVwWyYzZ%])/g,p);g=p=void 0;return b}};a.mix(a.namespace("Date"),
n);a.namespace("DataType");a.DataType.Date=a.Date},"3.17.2",{lang:"ar ar-JO ca ca-ES da da-DK de de-AT de-DE el el-GR en en-AU en-CA en-GB en-IE en-IN en-JO en-MY en-NZ en-PH en-SG en-US es es-AR es-BO es-CL es-CO es-EC es-ES es-MX es-PE es-PY es-US es-UY es-VE fi fi-FI fr fr-BE fr-CA fr-FR hi hi-IN hu id id-ID it it-IT ja ja-JP ko ko-KR ms ms-MY nb nb-NO nl nl-BE nl-NL pl pl-PL pt pt-BR ro ro-RO ru ru-RU sv sv-SE th th-TH tr tr-TR vi vi-VN zh-Hans zh-Hans-CN zh-Hant zh-Hant-HK zh-Hant-TW".split(" ")})},
967:function(f,c){YUI.add("datatype-date-math",function(a,c){var f=a.Lang;a.mix(a.namespace("Date"),{isValidDate:function(a){return f.isDate(a)&&isFinite(a)&&"Invalid Date"!=a&&!isNaN(a)&&null!=a?!0:!1},areEqual:function(a,c){return this.isValidDate(a)&&this.isValidDate(c)&&a.getTime()==c.getTime()},isGreater:function(a,c){return this.isValidDate(a)&&this.isValidDate(c)&&a.getTime()>c.getTime()},isGreaterOrEqual:function(a,c){return this.isValidDate(a)&&this.isValidDate(c)&&a.getTime()>=c.getTime()},
isInRange:function(a,c,e){return this.isGreaterOrEqual(a,c)&&this.isGreaterOrEqual(e,a)},addDays:function(a,c){return new Date(a.getTime()+864E5*c)},addMonths:function(a,c){var e=a.getFullYear(),b=a.getMonth()+c,e=Math.floor(e+b/12),b=(b%12+12)%12,f=new Date(a.getTime());f.setFullYear(e);f.setMonth(b);return f},addYears:function(a,c){var e=a.getFullYear()+c,b=new Date(a.getTime());b.setFullYear(e);return b},listOfDatesInMonth:function(a){if(!this.isValidDate(a))return[];var c=this.daysInMonth(a),
e=a.getFullYear();a=a.getMonth();for(var b=[],f=1;f<=c;f++)b.push(new Date(e,a,f,12,0,0));return b},daysInMonth:function(a){if(!this.isValidDate(a))return 0;var c=a.getMonth(),e=[31,28,31,30,31,30,31,31,30,31,30,31];if(1!=c)return e[c];a=a.getFullYear();return 0===a%400?29:0===a%100?28:0===a%4?29:28}});a.namespace("DataType");a.DataType.Date=a.Date},"3.17.2",{requires:["yui-base"]})},968:function(f,c){YUI.add("datatype-date-parse",function(a,c){a.mix(a.namespace("Date"),{parse:function(c){c=new Date(+c||
c);return a.Lang.isDate(c)?c:null}});a.namespace("Parsers").date=a.Date.parse;a.namespace("DataType");a.DataType.Date=a.Date},"3.17.2")},972:function(f,c,a){var e=(c=a(1))&&c.__esModule?c:{"default":c},h=(c=a(2))&&c.__esModule?c:{"default":c};a=a(11);c=function(){function a(){(0,e.default)(this,a);this.generateActions("refresh","setUrl","removeLoadHandler","disableEditing","enableEditing","lockFrame","unlockFrame")}(0,h.default)(a,[{key:"addLoadHandler",value:function(a,c){return{key:a,callback:c}}}]);
return a}();f.exports=a.createActions(c)},973:function(f,c,a){function e(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return b.getTemplateForSingleItem((0,h.default)({},c,{action:a})).replace("{id}",d)}var h=(c=a(13))&&c.__esModule?c:{"default":c},n=a(251),d=a(24),m=a(795),b=a(676),k=a(542).encodeUrl,g=a(692);f.exports={read:function(a){var b=arguments[2];return 1<arguments.length&&void 0!==arguments[1]&&arguments[1]?
d.get("/api/rest/global-content-items/"+a):d.get(e(g.GET,b,a))},readForCollection:function(a,c){var e=b.getTemplateForCollectionItems(c).replace("{collectionId}",a);return d.get(e)},update:function(a,b){delete a.author;delete a.pendingPushedServices;delete a.pushedServices;delete a.jobId;return d.put(e(g.PUT,b,a.id),a)},updateForCollection:function(a,b){delete a.author;delete a.pendingPushedServices;delete a.pushedServices;delete a.jobId;return d.put(e(g.PUT,b,a.id),a)},create:function(a,b,c){return d.post(e(g.POST,
c),a,b)},createForCollection:function(a,b,c){return d.post(e(g.POST,c),a,b)},updateField:function(a){a=m(a);return d.post("/api/commondata/SaveItemField",n.stringify(a))},"delete":function(a,b){return d.delete(e(g.DELETE,b,a))},deleteMany:function(a){a=n.stringify({items:a});return d.post("/api/commondata/RemoveItems",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},reorderItems:function(a,b,c){a={collectionId:a,afterId:c};1===b.length?a.itemId=b[0]:a.itemIds=b;return d.post("/api/commondata/ReorderItems",
k(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}},[6723]);
